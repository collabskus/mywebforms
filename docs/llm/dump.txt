===============================================================================
ASP.NET PROJECT EXPORT
Generated: 02/17/2026 18:00:12
Project Path: D:\DEV\personal\MyWebForms\MyWebForms
===============================================================================

DIRECTORY STRUCTURE:
===================

Folder PATH listing
Volume serial number is 2A9E-9DAE
D:\DEV\PERSONAL\MYWEBFORMS\MYWEBFORMS
ª   About.aspx
ª   About.aspx.cs
ª   About.aspx.designer.cs
ª   Bundle.config
ª   ChartWidget.ascx
ª   ChartWidget.ascx.cs
ª   ChartWidget.ascx.designer.cs
ª   Contact.aspx
ª   Contact.aspx.cs
ª   Contact.aspx.designer.cs
ª   Default.aspx
ª   Default.aspx.cs
ª   Default.aspx.designer.cs
ª   favicon.ico
ª   Global.asax
ª   Global.asax.cs
ª   HackerNews.aspx
ª   HackerNews.aspx.cs
ª   HackerNews.aspx.designer.cs
ª   HackerNewsEventArgs.cs
ª   HackerNewsRefresh.ashx
ª   HackerNewsRefresh.ashx.cs
ª   HnComment.ascx
ª   HnComment.ascx.cs
ª   HnComment.ascx.designer.cs
ª   HnStoryRow.ascx
ª   HnStoryRow.ascx.cs
ª   HnStoryRow.ascx.designer.cs
ª   HnUserCard.ascx
ª   HnUserCard.ascx.cs
ª   HnUserCard.ascx.designer.cs
ª   libman.json
ª   LibraryStatusWidget.ascx
ª   LibraryStatusWidget.ascx.cs
ª   LibraryStatusWidget.ascx.designer.cs
ª   MyWebForms.csproj
ª   MyWebForms.csproj.user
ª   packages.config
ª   Site.Master
ª   Site.Master.cs
ª   Site.Master.designer.cs
ª   ViewSwitcher.ascx
ª   ViewSwitcher.ascx.cs
ª   ViewSwitcher.ascx.designer.cs
ª   Web.config
ª   Web.Debug.config
ª   Web.Release.config
ª   
+---App_Data
+---App_Start
ª       BundleConfig.cs
ª       RouteConfig.cs
ª       
+---bin
ª   ª   Antlr3.Runtime.dll
ª   ª   Antlr3.Runtime.pdb
ª   ª   Microsoft.AspNet.FriendlyUrls.dll
ª   ª   Microsoft.AspNet.FriendlyUrls.xml
ª   ª   Microsoft.AspNet.Web.Optimization.WebForms.dll
ª   ª   Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll
ª   ª   Microsoft.CodeDom.Providers.DotNetCompilerPlatform.xml
ª   ª   Microsoft.ScriptManager.MSAjax.dll
ª   ª   Microsoft.ScriptManager.WebForms.dll
ª   ª   Microsoft.Web.Infrastructure.dll
ª   ª   MyWebForms.dll
ª   ª   MyWebForms.dll.config
ª   ª   MyWebForms.pdb
ª   ª   Newtonsoft.Json.dll
ª   ª   Newtonsoft.Json.xml
ª   ª   System.IO.dll
ª   ª   System.Net.Http.dll
ª   ª   System.Runtime.dll
ª   ª   System.Security.Cryptography.Algorithms.dll
ª   ª   System.Security.Cryptography.Encoding.dll
ª   ª   System.Security.Cryptography.Primitives.dll
ª   ª   System.Security.Cryptography.X509Certificates.dll
ª   ª   System.Web.Optimization.dll
ª   ª   System.Web.Optimization.xml
ª   ª   WebGrease.dll
ª   ª   
ª   +---roslyn
ª           csc.exe
ª           csc.exe.config
ª           csc.rsp
ª           csi.exe
ª           csi.exe.config
ª           csi.rsp
ª           Microsoft.Build.Tasks.CodeAnalysis.dll
ª           Microsoft.CodeAnalysis.CSharp.dll
ª           Microsoft.CodeAnalysis.CSharp.Scripting.dll
ª           Microsoft.CodeAnalysis.dll
ª           Microsoft.CodeAnalysis.Scripting.dll
ª           Microsoft.CodeAnalysis.VisualBasic.dll
ª           Microsoft.CSharp.Core.targets
ª           Microsoft.DiaSymReader.Native.amd64.dll
ª           Microsoft.DiaSymReader.Native.x86.dll
ª           Microsoft.Managed.Core.CurrentVersions.targets
ª           Microsoft.Managed.Core.targets
ª           Microsoft.VisualBasic.Core.targets
ª           System.Buffers.dll
ª           System.Collections.Immutable.dll
ª           System.Memory.dll
ª           System.Numerics.Vectors.dll
ª           System.Reflection.Metadata.dll
ª           System.Runtime.CompilerServices.Unsafe.dll
ª           System.Text.Encoding.CodePages.dll
ª           System.Threading.Tasks.Extensions.dll
ª           vbc.exe
ª           vbc.exe.config
ª           vbc.rsp
ª           VBCSCompiler.exe
ª           VBCSCompiler.exe.config
ª           
+---Content
ª   ª   bootstrap-grid.css
ª   ª   bootstrap-grid.css.map
ª   ª   bootstrap-grid.min.css
ª   ª   bootstrap-grid.min.css.map
ª   ª   bootstrap-grid.rtl.css
ª   ª   bootstrap-grid.rtl.css.map
ª   ª   bootstrap-grid.rtl.min.css
ª   ª   bootstrap-grid.rtl.min.css.map
ª   ª   bootstrap-reboot.css
ª   ª   bootstrap-reboot.css.map
ª   ª   bootstrap-reboot.min.css
ª   ª   bootstrap-reboot.min.css.map
ª   ª   bootstrap-reboot.rtl.css
ª   ª   bootstrap-reboot.rtl.css.map
ª   ª   bootstrap-reboot.rtl.min.css
ª   ª   bootstrap-reboot.rtl.min.css.map
ª   ª   bootstrap-utilities.css
ª   ª   bootstrap-utilities.css.map
ª   ª   bootstrap-utilities.min.css
ª   ª   bootstrap-utilities.min.css.map
ª   ª   bootstrap-utilities.rtl.css
ª   ª   bootstrap-utilities.rtl.css.map
ª   ª   bootstrap-utilities.rtl.min.css
ª   ª   bootstrap-utilities.rtl.min.css.map
ª   ª   bootstrap.css
ª   ª   bootstrap.css.map
ª   ª   bootstrap.min.css
ª   ª   bootstrap.min.css.map
ª   ª   bootstrap.rtl.css
ª   ª   bootstrap.rtl.css.map
ª   ª   bootstrap.rtl.min.css
ª   ª   bootstrap.rtl.min.css.map
ª   ª   Site.css
ª   ª   
ª   +---animate.css
ª           animate.min.css
ª           
+---Models
ª       HackerNewsItem.cs
ª       HackerNewsUser.cs
ª       
+---obj
ª   +---Debug
ª   ª   ª   .NETFramework,Version=v4.8.1.AssemblyAttributes.cs
ª   ª   ª   DesignTimeResolveAssemblyReferences.cache
ª   ª   ª   DesignTimeResolveAssemblyReferencesInput.cache
ª   ª   ª   MyWebForms.csproj.AssemblyReference.cache
ª   ª   ª   MyWebForms.csproj.CoreCompileInputs.cache
ª   ª   ª   MyWebForms.csproj.FileListAbsolute.txt
ª   ª   ª   MyWebForms.csproj.Up2Date
ª   ª   ª   MyWebForms.dll
ª   ª   ª   MyWebForms.pdb
ª   ª   ª   
ª   ª   +---TempPE
ª   +---Release
ª       ª   .NETFramework,Version=v4.8.1.AssemblyAttributes.cs
ª       ª   CSAutoParameterize.parameters.xml
ª       ª   DesignTimeResolveAssemblyReferences.cache
ª       ª   DesignTimeResolveAssemblyReferencesInput.cache
ª       ª   MyWebForms.csproj.AssemblyReference.cache
ª       ª   MyWebForms.csproj.CoreCompileInputs.cache
ª       ª   MyWebForms.csproj.FileListAbsolute.txt
ª       ª   MyWebForms.dll
ª       ª   MyWebForms.pdb
ª       ª   _WPPLastBuildInfo.txt
ª       ª   
ª       +---CSAutoParameterize
ª       ª   +---original
ª       ª   ª       Web.config
ª       ª   ª       
ª       ª   +---transformed
ª       ª           Web.config
ª       ª           
ª       +---Package
ª       ª   ª   MyWebForms.SourceManifest.xml
ª       ª   ª   
ª       ª   +---PackageTmp
ª       ª       ª   About.aspx
ª       ª       ª   Bundle.config
ª       ª       ª   ChartWidget.ascx
ª       ª       ª   Contact.aspx
ª       ª       ª   Default.aspx
ª       ª       ª   favicon.ico
ª       ª       ª   Global.asax
ª       ª       ª   HackerNews.aspx
ª       ª       ª   HackerNewsRefresh.ashx
ª       ª       ª   HnComment.ascx
ª       ª       ª   HnStoryRow.ascx
ª       ª       ª   HnUserCard.ascx
ª       ª       ª   libman.json
ª       ª       ª   LibraryStatusWidget.ascx
ª       ª       ª   Site.Master
ª       ª       ª   ViewSwitcher.ascx
ª       ª       ª   Web.config
ª       ª       ª   
ª       ª       +---bin
ª       ª       ª   ª   Antlr3.Runtime.dll
ª       ª       ª   ª   Antlr3.Runtime.pdb
ª       ª       ª   ª   Microsoft.AspNet.FriendlyUrls.dll
ª       ª       ª   ª   Microsoft.AspNet.Web.Optimization.WebForms.dll
ª       ª       ª   ª   Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll
ª       ª       ª   ª   Microsoft.ScriptManager.MSAjax.dll
ª       ª       ª   ª   Microsoft.ScriptManager.WebForms.dll
ª       ª       ª   ª   Microsoft.Web.Infrastructure.dll
ª       ª       ª   ª   MyWebForms.dll
ª       ª       ª   ª   MyWebForms.pdb
ª       ª       ª   ª   Newtonsoft.Json.dll
ª       ª       ª   ª   System.Web.Optimization.dll
ª       ª       ª   ª   WebGrease.dll
ª       ª       ª   ª   
ª       ª       ª   +---roslyn
ª       ª       ª           csc.exe
ª       ª       ª           csc.exe.config
ª       ª       ª           csc.rsp
ª       ª       ª           csi.exe
ª       ª       ª           csi.exe.config
ª       ª       ª           csi.rsp
ª       ª       ª           Microsoft.Build.Tasks.CodeAnalysis.dll
ª       ª       ª           Microsoft.CodeAnalysis.CSharp.dll
ª       ª       ª           Microsoft.CodeAnalysis.CSharp.Scripting.dll
ª       ª       ª           Microsoft.CodeAnalysis.dll
ª       ª       ª           Microsoft.CodeAnalysis.Scripting.dll
ª       ª       ª           Microsoft.CodeAnalysis.VisualBasic.dll
ª       ª       ª           Microsoft.CSharp.Core.targets
ª       ª       ª           Microsoft.DiaSymReader.Native.amd64.dll
ª       ª       ª           Microsoft.DiaSymReader.Native.x86.dll
ª       ª       ª           Microsoft.Managed.Core.CurrentVersions.targets
ª       ª       ª           Microsoft.Managed.Core.targets
ª       ª       ª           Microsoft.VisualBasic.Core.targets
ª       ª       ª           System.Buffers.dll
ª       ª       ª           System.Collections.Immutable.dll
ª       ª       ª           System.Memory.dll
ª       ª       ª           System.Numerics.Vectors.dll
ª       ª       ª           System.Reflection.Metadata.dll
ª       ª       ª           System.Runtime.CompilerServices.Unsafe.dll
ª       ª       ª           System.Text.Encoding.CodePages.dll
ª       ª       ª           System.Threading.Tasks.Extensions.dll
ª       ª       ª           vbc.exe
ª       ª       ª           vbc.exe.config
ª       ª       ª           vbc.rsp
ª       ª       ª           VBCSCompiler.exe
ª       ª       ª           VBCSCompiler.exe.config
ª       ª       ª           
ª       ª       +---Content
ª       ª       ª   ª   bootstrap-grid.css
ª       ª       ª   ª   bootstrap-grid.css.map
ª       ª       ª   ª   bootstrap-grid.min.css
ª       ª       ª   ª   bootstrap-grid.min.css.map
ª       ª       ª   ª   bootstrap-grid.rtl.css
ª       ª       ª   ª   bootstrap-grid.rtl.css.map
ª       ª       ª   ª   bootstrap-grid.rtl.min.css
ª       ª       ª   ª   bootstrap-grid.rtl.min.css.map
ª       ª       ª   ª   bootstrap-reboot.css
ª       ª       ª   ª   bootstrap-reboot.css.map
ª       ª       ª   ª   bootstrap-reboot.min.css
ª       ª       ª   ª   bootstrap-reboot.min.css.map
ª       ª       ª   ª   bootstrap-reboot.rtl.css
ª       ª       ª   ª   bootstrap-reboot.rtl.css.map
ª       ª       ª   ª   bootstrap-reboot.rtl.min.css
ª       ª       ª   ª   bootstrap-reboot.rtl.min.css.map
ª       ª       ª   ª   bootstrap-utilities.css
ª       ª       ª   ª   bootstrap-utilities.css.map
ª       ª       ª   ª   bootstrap-utilities.min.css
ª       ª       ª   ª   bootstrap-utilities.min.css.map
ª       ª       ª   ª   bootstrap-utilities.rtl.css
ª       ª       ª   ª   bootstrap-utilities.rtl.css.map
ª       ª       ª   ª   bootstrap-utilities.rtl.min.css
ª       ª       ª   ª   bootstrap-utilities.rtl.min.css.map
ª       ª       ª   ª   bootstrap.css
ª       ª       ª   ª   bootstrap.css.map
ª       ª       ª   ª   bootstrap.min.css
ª       ª       ª   ª   bootstrap.min.css.map
ª       ª       ª   ª   bootstrap.rtl.css
ª       ª       ª   ª   bootstrap.rtl.css.map
ª       ª       ª   ª   bootstrap.rtl.min.css
ª       ª       ª   ª   bootstrap.rtl.min.css.map
ª       ª       ª   ª   Site.css
ª       ª       ª   ª   
ª       ª       ª   +---animate.css
ª       ª       ª           animate.min.css
ª       ª       ª           
ª       ª       +---Scripts
ª       ª           ª   bootstrap.bundle.js
ª       ª           ª   bootstrap.bundle.js.map
ª       ª           ª   bootstrap.bundle.min.js
ª       ª           ª   bootstrap.bundle.min.js.map
ª       ª           ª   bootstrap.esm.js
ª       ª           ª   bootstrap.esm.js.map
ª       ª           ª   bootstrap.esm.min.js
ª       ª           ª   bootstrap.esm.min.js.map
ª       ª           ª   bootstrap.js
ª       ª           ª   bootstrap.js.map
ª       ª           ª   bootstrap.min.js
ª       ª           ª   bootstrap.min.js.map
ª       ª           ª   jquery-3.7.1.js
ª       ª           ª   jquery-3.7.1.min.js
ª       ª           ª   jquery-3.7.1.min.map
ª       ª           ª   jquery-3.7.1.slim.js
ª       ª           ª   jquery-3.7.1.slim.min.js
ª       ª           ª   jquery-3.7.1.slim.min.map
ª       ª           ª   modernizr-2.8.3.js
ª       ª           ª   
ª       ª           +---lib
ª       ª           ª   +---chartjs
ª       ª           ª           chart.umd.js
ª       ª           ª           
ª       ª           +---WebForms
ª       ª               ª   DetailsView.js
ª       ª               ª   Focus.js
ª       ª               ª   GridView.js
ª       ª               ª   Menu.js
ª       ª               ª   MenuStandards.js
ª       ª               ª   SmartNav.js
ª       ª               ª   TreeView.js
ª       ª               ª   WebForms.js
ª       ª               ª   WebParts.js
ª       ª               ª   WebUIValidation.js
ª       ª               ª   
ª       ª               +---MSAjax
ª       ª                       MicrosoftAjax.js
ª       ª                       MicrosoftAjaxApplicationServices.js
ª       ª                       MicrosoftAjaxComponentModel.js
ª       ª                       MicrosoftAjaxCore.js
ª       ª                       MicrosoftAjaxGlobalization.js
ª       ª                       MicrosoftAjaxHistory.js
ª       ª                       MicrosoftAjaxNetwork.js
ª       ª                       MicrosoftAjaxSerialization.js
ª       ª                       MicrosoftAjaxTimer.js
ª       ª                       MicrosoftAjaxWebForms.js
ª       ª                       MicrosoftAjaxWebServices.js
ª       ª                       
ª       +---ProfileTransformWebConfig
ª       ª   +---transformed
ª       +---TempPE
ª       +---TransformWebConfig
ª           +---assist
ª           ª       Web.config
ª           ª       
ª           +---original
ª           ª       Web.config
ª           ª       
ª           +---transformed
ª                   Web.config
ª                   
+---Properties
ª   ª   AssemblyInfo.cs
ª   ª   
ª   +---PublishProfiles
ª           site55560-WebDeploy.pubxml
ª           site55560-WebDeploy.pubxml.user
ª           
+---Scripts
ª   ª   bootstrap.bundle.js
ª   ª   bootstrap.bundle.js.map
ª   ª   bootstrap.bundle.min.js
ª   ª   bootstrap.bundle.min.js.map
ª   ª   bootstrap.esm.js
ª   ª   bootstrap.esm.js.map
ª   ª   bootstrap.esm.min.js
ª   ª   bootstrap.esm.min.js.map
ª   ª   bootstrap.js
ª   ª   bootstrap.js.map
ª   ª   bootstrap.min.js
ª   ª   bootstrap.min.js.map
ª   ª   jquery-3.7.1.intellisense.js
ª   ª   jquery-3.7.1.js
ª   ª   jquery-3.7.1.min.js
ª   ª   jquery-3.7.1.min.map
ª   ª   jquery-3.7.1.slim.js
ª   ª   jquery-3.7.1.slim.min.js
ª   ª   jquery-3.7.1.slim.min.map
ª   ª   modernizr-2.8.3.js
ª   ª   
ª   +---lib
ª   ª   +---chartjs
ª   ª           chart.umd.js
ª   ª           
ª   +---WebForms
ª       ª   DetailsView.js
ª       ª   Focus.js
ª       ª   GridView.js
ª       ª   Menu.js
ª       ª   MenuStandards.js
ª       ª   SmartNav.js
ª       ª   TreeView.js
ª       ª   WebForms.js
ª       ª   WebParts.js
ª       ª   WebUIValidation.js
ª       ª   
ª       +---MSAjax
ª               MicrosoftAjax.js
ª               MicrosoftAjaxApplicationServices.js
ª               MicrosoftAjaxComponentModel.js
ª               MicrosoftAjaxCore.js
ª               MicrosoftAjaxGlobalization.js
ª               MicrosoftAjaxHistory.js
ª               MicrosoftAjaxNetwork.js
ª               MicrosoftAjaxSerialization.js
ª               MicrosoftAjaxTimer.js
ª               MicrosoftAjaxWebForms.js
ª               MicrosoftAjaxWebServices.js
ª               
+---Services
        HackerNewsService.cs
        



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\About.aspx
SIZE: 2.77 KB
MODIFIED: 02/17/2026 13:43:43
================================================================================

<%@ Page Title="About" Language="C#" MasterPageFile="~/Site.Master"
    AutoEventWireup="true" CodeBehind="About.aspx.cs"
    Inherits="MyWebForms.About" %>

<%@ Register Src="~/LibraryStatusWidget.ascx" TagPrefix="uc" TagName="StatusWidget" %>
<%@ Register Src="~/ChartWidget.ascx"         TagPrefix="uc" TagName="ChartWidget"  %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">
    <main class="container mt-4">

        <%-- Page heading --%>
        <div class="text-center animate__animated animate__fadeInDown mb-4">
            <h2 class="display-4"><%: Title %></h2>
            <p class="lead">System Status &amp; Library Integration Demo</p>
        </div>

        <div class="row">
            <%-- ── Left column: Chart widget ─────────────────────────────── --%>
            <div class="col-md-7">
                <%--
                    ChartWidget is configured entirely through public properties.
                    If you omit them, the control falls back to its own defaults —
                    useful to know when prototyping.
                --%>
                <uc:ChartWidget runat="server" ID="libraryChart"
                    Title="Client Library Load Strength"
                    Description="Dummy reliability scores (0–100) for the client-side libraries bundled into this project. Hit Refresh to see the server generate a new random dataset via a postback."
                    ChartType="bar" />
            </div>

            <%-- ── Right column: LibraryStatusWidget user controls ────────── --%>
            <div class="col-md-5">
                <h5 class="mb-3">Library Status</h5>

                <%--
                    LibraryStatusWidget demonstrates a different pattern: properties
                    are set declaratively as tag attributes.  The control reads them
                    in its own Page_Load and updates its child controls.
                --%>
                <uc:StatusWidget runat="server"
                    LibraryName="jQuery"
                    Version="3.7.1 (NuGet)"
                    ReliabilityScore="95" />

                <uc:StatusWidget runat="server"
                    LibraryName="Bootstrap"
                    Version="5.3.8 (NuGet)"
                    ReliabilityScore="92" />

                <uc:StatusWidget runat="server"
                    LibraryName="Chart.js"
                    Version="4.4.1 (LibMan)"
                    ReliabilityScore="88" />

                <uc:StatusWidget runat="server"
                    LibraryName="Animate.css"
                    Version="4.1.1 (LibMan)"
                    ReliabilityScore="100" />
            </div>
        </div>

    </main>
</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\About.aspx.cs
SIZE: 769 B
MODIFIED: 02/17/2026 13:43:54
================================================================================

using System;
using System.Web.UI;

namespace MyWebForms
{
    /// <summary>
    /// About page — intentionally thin code-behind.
    /// All chart logic lives in ChartWidget.ascx.cs;
    /// all status-bar logic lives in LibraryStatusWidget.ascx.cs.
    /// This page is responsible only for wiring them together.
    /// </summary>
    public partial class About : Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            // Nothing to do here: both user controls initialise themselves.
            // This empty guard is left deliberately so you can see the pattern —
            // IsPostBack checks belong in Page_Load when the page itself needs
            // to distinguish first load from postback.
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\App_Start\BundleConfig.cs
SIZE: 4.53 KB
MODIFIED: 02/17/2026 15:52:13
================================================================================

using System.Web.Optimization;
using System.Web.UI;

namespace MyWebForms
{
    public class BundleConfig
    {
        public static void RegisterBundles(BundleCollection bundles)
        {
            RegisterScriptManagerMappings();

            // ── MS Ajax bundle ──────────────────────────────────────────────
            // Order matters: MicrosoftAjax.js must load before the extension
            // scripts that depend on the Sys namespace it defines.
            bundles.Add(new ScriptBundle("~/bundles/MsAjaxJs").Include(
                "~/Scripts/WebForms/MSAjax/MicrosoftAjax.js",
                "~/Scripts/WebForms/MSAjax/MicrosoftAjaxApplicationServices.js",
                "~/Scripts/WebForms/MSAjax/MicrosoftAjaxTimer.js",
                "~/Scripts/WebForms/MSAjax/MicrosoftAjaxWebForms.js"));

            // ── WebForms helper scripts ─────────────────────────────────────
            // Provides GridView, validation, menus, etc.
            bundles.Add(new ScriptBundle("~/bundles/WebFormsJs").Include(
                "~/Scripts/WebForms/WebForms.js",
                "~/Scripts/WebForms/WebUIValidation.js",
                "~/Scripts/WebForms/MenuStandards.js",
                "~/Scripts/WebForms/Focus.js",
                "~/Scripts/WebForms/GridView.js",
                "~/Scripts/WebForms/DetailsView.js",
                "~/Scripts/WebForms/TreeView.js",
                "~/Scripts/WebForms/WebParts.js"));

            // ── Modernizr ───────────────────────────────────────────────────
            // Rendered in <head> so the browser feature-detects before the
            // page body is parsed. Keep it separate from other bundles.
            bundles.Add(new ScriptBundle("~/bundles/modernizr").Include(
                "~/Scripts/modernizr-*"));
        }

        /// <summary>
        /// Maps named script references so that <asp:ScriptManager> can resolve
        /// them to local bundle paths rather than falling back to the built-in
        /// web resources embedded in System.Web.
        ///
        /// Without these mappings ScriptManager would attempt to locate e.g.
        /// "MsAjaxBundle" as an assembly web resource (WebResourceUtil) and
        /// throw InvalidOperationException: "Assembly does not contain a Web
        /// resource with name 'ScriptManager.js'".
        /// </summary>
        private static void RegisterScriptManagerMappings()
        {
            // jquery ─────────────────────────────────────────────────────────
            // Referenced by Name="jquery" in Site.Master's ScriptManager.
            ScriptManager.ScriptResourceMapping.AddDefinition("jquery",
                new ScriptResourceDefinition
                {
                    Path = "~/Scripts/jquery-3.7.1.min.js",
                    DebugPath = "~/Scripts/jquery-3.7.1.js",
                    CdnPath = "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js",
                    CdnDebugPath = "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.js"
                });

            // MsAjaxBundle ───────────────────────────────────────────────────
            // Referenced by Name="MsAjaxBundle" in Site.Master's ScriptManager.
            // Points to the bundle registered above; ScriptManager will emit
            // a <script> tag for the bundle URL.
            ScriptManager.ScriptResourceMapping.AddDefinition("MsAjaxBundle",
                new ScriptResourceDefinition
                {
                    Path = "~/bundles/MsAjaxJs",
                    DebugPath = "~/bundles/MsAjaxJs"
                });

            // WebForms ───────────────────────────────────────────────────────
            // Referenced by Name="WebForms" in Site.Master's ScriptManager.
            ScriptManager.ScriptResourceMapping.AddDefinition("WebForms",
                new ScriptResourceDefinition
                {
                    Path = "~/bundles/WebFormsJs",
                    DebugPath = "~/bundles/WebFormsJs"
                });
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\App_Start\RouteConfig.cs
SIZE: 2.04 KB
MODIFIED: 02/17/2026 14:33:08
================================================================================

using System.Web;
using System.Web.Routing;
using Microsoft.AspNet.FriendlyUrls;

namespace MyWebForms
{
    public static class RouteConfig
    {
        public static void RegisterRoutes(RouteCollection routes)
        {
            // ── API / handler routes ──────────────────────────────────────────
            // Register the HN background-refresh handler BEFORE FriendlyUrls
            // so it is matched first and not mistaken for a page route.
            //
            // Educational note — IRouteHandler vs HttpHandler:
            //   RouteTable entries use IRouteHandler.  For an IHttpHandler we
            //   wrap it with a RouteHandlerAdapter that calls GetHttpHandler()
            //   on the registered handler instance.
            routes.Add("HnRefresh", new Route(
                "hn-refresh",
                new HandlerRouteHandler<HackerNewsRefresh>()));

            // ── FriendlyUrls ──────────────────────────────────────────────────
            var settings = new FriendlyUrlSettings();
            settings.AutoRedirectMode = RedirectMode.Permanent;
            routes.EnableFriendlyUrls(settings);
        }
    }

    /// <summary>
    /// Generic IRouteHandler adapter that wraps any IHttpHandler as a route.
    ///
    /// Educational note:
    ///   ASP.NET routing (System.Web.Routing) decouples URL matching from
    ///   request handling.  IRouteHandler.GetHttpHandler() is called for each
    ///   matched request and returns the IHttpHandler that will process it.
    ///   Using a generic type parameter keeps the adapter reusable for any
    ///   handler without additional plumbing.
    /// </summary>
    internal sealed class HandlerRouteHandler<T> : IRouteHandler
        where T : IHttpHandler, new()
    {
        public IHttpHandler GetHttpHandler(RequestContext requestContext)
        {
            return new T();
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Bundle.config
SIZE: 226 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

<?xml version="1.0" encoding="utf-8" ?>
<bundles version="1.0">
  <styleBundle path="~/Content/css">
    <include path="~/Content/bootstrap.css" />
    <include path="~/Content/Site.css" />
  </styleBundle>
</bundles>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ChartWidget.ascx
SIZE: 3.95 KB
MODIFIED: 02/17/2026 14:01:33
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="ChartWidget.ascx.cs"
    Inherits="MyWebForms.ChartWidget" %>

<%--
    ChartWidget.ascx
    ----------------
    A self-contained user control that renders a Chart.js bar chart.

    Educational notes
    -----------------
    - A HiddenField is the standard Web Forms idiom for passing server-computed
      values to client-side JavaScript without exposing them via visible markup.
      ViewState serialises it automatically across postbacks.
    - ClientID is used (not a hard-coded id) so the control remains safe when
      placed inside a NamingContainer (e.g. a GridView row or another control).
    - The <script> block lives here rather than in the page so the control is
      fully self-contained — it brings its own behaviour with it.
    - Chart initialisation is wrapped in $(document).ready() so that it defers
      until chart.umd.js (loaded at the bottom of Site.Master's <body>) has
      been fully parsed and executed. Without this deferral the inline script
      runs during HTML parsing and Chart is not yet defined.
--%>

<div class="card shadow mb-4">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
        <span>
            <asp:Literal ID="litTitle" runat="server" />
        </span>
        <small class="text-white-50">Chart.js via LibMan</small>
    </div>
    <div class="card-body">
        <canvas id="chartCanvas" runat="server" width="400" height="180"></canvas>

        <%-- Carrier for server-side data → client-side script --%>
        <asp:HiddenField ID="hfLabels"    runat="server" />
        <asp:HiddenField ID="hfValues"    runat="server" />
        <asp:HiddenField ID="hfColors"    runat="server" />
        <asp:HiddenField ID="hfChartType" runat="server" />

        <hr />

        <p class="mb-1">
            <asp:Label ID="lblDescription" runat="server" CssClass="text-muted small" />
        </p>

        <asp:Label ID="lblLastUpdated" runat="server" CssClass="text-success" />
        <br /><br />

        <asp:Button ID="btnRefresh" runat="server"
            Text="Refresh Data"
            CssClass="btn btn-outline-primary btn-sm"
            OnClick="btnRefresh_Click" />
    </div>
</div>

<script>
    // Wrapped in $(document).ready() so execution is deferred until the full
    // DOM — including the bottom-of-body <script> tags in Site.Master that
    // load chart.umd.js — has been parsed and run. Without this, the IIFE
    // fires during HTML parsing and Chart is undefined at that point.
    $(document).ready(function () {
        var labels = JSON.parse(document.getElementById('<%= hfLabels.ClientID %>').value);
        var values = JSON.parse(document.getElementById('<%= hfValues.ClientID %>').value);
        var colors = JSON.parse(document.getElementById('<%= hfColors.ClientID %>').value);
        var chartType = document.getElementById('<%= hfChartType.ClientID %>').value;

        var ctx = document.getElementById('<%= chartCanvas.ClientID %>').getContext('2d');

        new Chart(ctx, {
            type: chartType,
            data: {
                labels: labels,
                datasets: [{
                    label: 'Value',
                    data: values,
                    backgroundColor: colors,
                    borderColor: colors.map(function (c) {
                        // Darken each colour slightly for the border by replacing
                        // the alpha component: rgba(r,g,b,0.5) → rgba(r,g,b,1)
                        return c.replace('0.5', '1');
                    }),
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: true }
                },
                scales: {
                    y: { beginAtZero: true, max: 100 }
                }
            }
        });
    });
</script>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ChartWidget.ascx.cs
SIZE: 5.08 KB
MODIFIED: 02/17/2026 13:45:24
================================================================================

using System;
using System.Web.Script.Serialization;

namespace MyWebForms
{
    /// <summary>
    /// A reusable Chart.js bar/line/pie chart widget.
    ///
    /// Educational notes
    /// -----------------
    /// Public properties are the Web Forms equivalent of component inputs.
    /// The parent page sets them before the control's Page_Load runs, so by
    /// the time we write to the HiddenFields the values are already available.
    ///
    /// JavaScriptSerializer (System.Web.Script.Serialization) is part of the
    /// BCL for .NET Framework — no external JSON package needed for this simple
    /// serialisation task.
    /// </summary>
    public partial class ChartWidget : System.Web.UI.UserControl
    {
        // ── Configurable inputs (set by the host page) ──────────────────────

        /// <summary>Heading shown in the card header.</summary>
        public string Title { get; set; }

        /// <summary>Short description shown below the chart.</summary>
        public string Description { get; set; }

        /// <summary>
        /// Chart.js chart type string: "bar", "line", "pie", "doughnut", etc.
        /// Defaults to "bar".
        /// </summary>
        public string ChartType { get; set; }

        /// <summary>X-axis labels / pie slice labels.</summary>
        public string[] Labels { get; set; }

        /// <summary>Numeric values, one per label.</summary>
        public int[] Values { get; set; }

        /// <summary>
        /// CSS rgba() colour strings, one per data point.
        /// If null or mismatched in length, a default palette is generated.
        /// </summary>
        public string[] Colors { get; set; }

        // ── Default dummy data ───────────────────────────────────────────────

        private static readonly string[] DefaultLabels = {
            "jQuery (NuGet)", "Bootstrap (NuGet)", "Chart.js (LibMan)",
            "Animate.css (LibMan)", "Modernizr (NuGet)"
        };

        private static readonly int[] DefaultValues = { 95, 92, 88, 100, 75 };

        private static readonly string[] DefaultColors = {
            "rgba(54,  162, 235, 0.5)",
            "rgba(153, 102, 255, 0.5)",
            "rgba(255,  99, 132, 0.5)",
            "rgba( 75, 192, 192, 0.5)",
            "rgba(255, 159,  64, 0.5)"
        };

        // ── Lifecycle ────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            // Apply defaults for anything the host page did not supply.
            if (string.IsNullOrEmpty(Title)) Title = "Client Library Load Strength";
            if (string.IsNullOrEmpty(Description)) Description = "Dummy reliability scores for libraries used in this project.";
            if (string.IsNullOrEmpty(ChartType)) ChartType = "bar";
            if (Labels == null || Labels.Length == 0) Labels = DefaultLabels;
            if (Values == null || Values.Length == 0) Values = DefaultValues;
            if (Colors == null || Colors.Length == 0) Colors = DefaultColors;

            if (!IsPostBack)
            {
                BindChart(Values, "Initialized with default dummy data.");
            }

            // Always update non-data fields (safe to do on every load).
            litTitle.Text = Title;
            lblDescription.Text = Description;
        }

        protected void btnRefresh_Click(object sender, EventArgs e)
        {
            // Demonstrate server-side randomisation surviving a postback.
            var rng = new Random();
            var newValues = new int[Labels.Length];
            for (int i = 0; i < newValues.Length; i++)
                newValues[i] = rng.Next(60, 100);

            BindChart(newValues, "Data refreshed at " + DateTime.Now.ToLongTimeString());
        }

        // ── Helpers ──────────────────────────────────────────────────────────

        private void BindChart(int[] values, string statusMessage)
        {
            // Ensure the Colors array is the same length as Labels.
            var safeColors = EnsureColorLength(Colors, Labels.Length);

            var serialiser = new JavaScriptSerializer();
            hfLabels.Value = serialiser.Serialize(Labels);
            hfValues.Value = serialiser.Serialize(values);
            hfColors.Value = serialiser.Serialize(safeColors);
            hfChartType.Value = ChartType;

            lblLastUpdated.Text = statusMessage;
        }

        private static string[] EnsureColorLength(string[] colors, int requiredLength)
        {
            // Cycle through the supplied palette to match length.
            var result = new string[requiredLength];
            for (int i = 0; i < requiredLength; i++)
                result[i] = colors[i % colors.Length];
            return result;
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Contact.aspx
SIZE: 830 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

<%@ Page Title="Contact" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true" CodeBehind="Contact.aspx.cs" Inherits="MyWebForms.Contact" %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">
    <main aria-labelledby="title">
        <h2 id="title"><%: Title %>.</h2>
        <h3>Your contact page.</h3>
        <address>
            One Microsoft Way<br />
            Redmond, WA 98052-6399<br />
            <abbr title="Phone">P:</abbr>
            425.555.0100
        </address>

        <address>
            <strong>Support:</strong>   <a href="mailto:Support@example.com">Support@example.com</a><br />
            <strong>Marketing:</strong> <a href="mailto:Marketing@example.com">Marketing@example.com</a>
        </address>
    </main>
</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Contact.aspx.cs
SIZE: 317 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace MyWebForms
{
    public partial class Contact : Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Content\Site.css
SIZE: 2.80 KB
MODIFIED: 02/17/2026 15:34:20
================================================================================

/* Wrapping element */
/* Set some basic padding to keep content from hitting the edges */
.body-content {
    margin-top: 15px;
    padding-left: 15px;
    padding-right: 15px;
}

/* Set widths on the form inputs since otherwise they're 100% wide */
input,
select,
textarea {
    max-width: 280px;
}

/* Responsive: Portrait tablets and up */
@media screen and (min-width: 768px) {
    .body-content {
        padding: 0;
    }
}

/* ── Hacker News page ──────────────────────────────────────────────────── */

/* Story row hover */
.hn-story-row:hover {
    background-color: #fffaf5;
}

/* Story title link colour — matches classic HN */
.hn-title {
    color: #000 !important;
}

    .hn-title:hover {
        color: #ff6600 !important;
    }

/* Comment text inherits HN's HTML tags cleanly */
.hn-comment-text p:last-child,
.hn-story-text p:last-child {
    margin-bottom: 0;
}

.hn-comment-text pre,
.hn-story-text pre {
    background: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 4px;
    padding: .5rem;
    font-size: .78rem;
}

/* Depth connector line */
.hn-comment + .hn-comment {
    border-top: 1px solid #f0f0f0;
}

/* User about HTML passthrough */
.hn-user-about a {
    color: #555;
    word-break: break-all;
}

/* Smooth tab transitions */
.nav-link {
    transition: color .15s ease;
}

/* Poll option bar */
.hn-poll-option {
    padding: .4rem 0;
    border-bottom: 1px solid #eee;
    font-size: .85rem;
}

    .hn-poll-option:last-child {
        border-bottom: none;
    }

/* ── (append these rules to the bottom of the existing Site.css) ──────── */

/* ── Home page hero ─────────────────────────────────────────────────────── */

.home-hero {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: .75rem;
}

    .home-hero code {
        background: rgba(0,0,0,.07);
        padding: .1em .35em;
        border-radius: .25em;
        font-size: .88em;
    }

/* ── Learning goals progress bar ─────────────────────────────────────────── */

.progress {
    border-radius: 999px;
    background-color: #e9ecef;
}

/* ── Stack / goal cards ──────────────────────────────────────────────────── */

.card {
    transition: box-shadow .15s ease;
}

    .card:hover {
        box-shadow: 0 .25rem .75rem rgba(0,0,0,.1) !important;
    }




================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Default.aspx
SIZE: 7.41 KB
MODIFIED: 02/17/2026 15:46:40
================================================================================

<%@ Page Title="Home" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true"
    CodeBehind="Default.aspx.cs" Inherits="MyWebForms._Default" %>

<asp:Content ID="HeadContent" ContentPlaceHolderID="HeadContent" runat="server">
    <%-- Page-specific styles, if any --%>
</asp:Content>

<asp:Content ID="MainContent" ContentPlaceHolderID="MainContent" runat="server">

    <h1 class="mb-4">ASP.NET Web Forms — Learning Sandbox</h1>
    <p class="lead">
        This page demonstrates core Web Forms mechanics: the page lifecycle, postback
        detection, <code>ViewState</code>, <code>UpdatePanel</code> partial rendering,
        and server-driven UI updates.
    </p>

    <%-- =====================================================================
         SECTION 1: Page Lifecycle display
         lblTimestamp and lblIsPostBack are updated in Page_PreRender on every
         request so you can watch them change between full and async postbacks.
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">1 — Page Lifecycle Snapshot</div>
        <div class="card-body">
            <p class="text-muted small">
                These values are written during <code>Page_PreRender</code>, which
                fires on <em>every</em> request — initial load and postback alike.
            </p>
            <dl class="row mb-0">
                <dt class="col-sm-3">Rendered at</dt>
                <dd class="col-sm-9">
                    <asp:Label ID="lblTimestamp" runat="server" /></dd>

                <dt class="col-sm-3">IsPostBack</dt>
                <dd class="col-sm-9">
                    <asp:Label ID="lblIsPostBack" runat="server" /></dd>

                <dt class="col-sm-3">Is Async Postback</dt>
                <dd class="col-sm-9">
                    <asp:Label ID="lblIsAsync" runat="server" /></dd>
            </dl>
        </div>
    </div>

    <%-- =====================================================================
         SECTION 2: UpdatePanel — async (partial-page) postback
         The UpdatePanel wraps only the counter and progress bar.  Clicking the
         button inside it triggers a partial-page postback: only the panel's
         content is sent back by the server and swapped in by MS Ajax — the
         rest of the page DOM is untouched.
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">2 — UpdatePanel (Async Postback)</div>
        <div class="card-body">
            <p class="text-muted small">
                Click the button below. Only the counter and progress bar update —
                notice the page does <em>not</em> flash or scroll, because MS Ajax
                intercepts the postback and does a partial-page refresh.
            </p>

            <asp:UpdatePanel ID="upAsync" runat="server" UpdateMode="Conditional">
                <ContentTemplate>

                    <p>
                        Async click count:
                        <strong>
                            <asp:Label ID="lblClickCount" runat="server"
                                Text='<%# ClickCount %>' /></strong>
                    </p>

                    <%-- Progress bar width is set via progressBar.Style in PreRender
                         to avoid invalid CSS warnings in the VS designer. --%>
                    <div class="progress mb-3" style="height: 24px;">
                        <div id="progressBar" runat="server"
                            class="progress-bar progress-bar-striped progress-bar-animated"
                            role="progressbar"
                            aria-valuemin="0" aria-valuemax="100">
                            <%: ProgressPercent %>%
                        </div>
                    </div>

                    <asp:Button ID="btnAsyncClick" runat="server" Text="Click Me (Async)"
                        CssClass="btn btn-primary me-2"
                        OnClick="btnAsyncClick_Click" />

                </ContentTemplate>
            </asp:UpdatePanel>

            <asp:UpdateProgress ID="upProgress" runat="server" AssociatedUpdatePanelID="upAsync"
                DisplayAfter="200">
                <ProgressTemplate>
                    <span class="spinner-border spinner-border-sm text-primary ms-2"
                        role="status" aria-hidden="true"></span>
                    <span class="ms-1 text-muted small">Processing…</span>
                </ProgressTemplate>
            </asp:UpdateProgress>
        </div>
    </div>

    <%-- =====================================================================
         SECTION 3: Full postback
         This button lives outside any UpdatePanel so it causes a traditional
         full-page postback — the entire page lifecycle runs and every control
         re-renders.  Watch the lifecycle snapshot above update.
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">3 — Full Postback</div>
        <div class="card-body">
            <p class="text-muted small">
                This button triggers a <em>full postback</em>. The entire page
                re-renders. Notice that <code>IsPostBack</code> becomes
                <code>True</code> and the render timestamp changes above.
            </p>

            <p>
                Full postback count:
                <strong><%: FullPostbackCount %></strong>
            </p>

            <asp:Button ID="btnFullPostback" runat="server" Text="Full Postback"
                CssClass="btn btn-warning me-2"
                OnClick="btnFullPostback_Click" />

            <asp:Button ID="btnReset" runat="server" Text="Reset All"
                CssClass="btn btn-outline-secondary"
                OnClick="btnReset_Click" />
        </div>
    </div>

    <%-- =====================================================================
         SECTION 4: ViewState explainer
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">4 — How ViewState Keeps the Counts</div>
        <div class="card-body">
            <p>
                The click counters and progress value survive every postback because they
                are stored in <strong>ViewState</strong> — a hidden field
                (<code>__VIEWSTATE</code>) that the browser posts back with each request.
                The page deserialises it at the start of the lifecycle (during
                <em>LoadViewState</em>) before your event handler runs, so the previous
                values are available when <code>ClickCount++</code> executes.
            </p>
            <p>
                Open your browser's DevTools → Network tab, submit a postback, inspect
                the form payload and look for <code>__VIEWSTATE</code> to see the
                base-64 encoded blob.
            </p>
        </div>
    </div>

    <%-- Page-specific script at the bottom of MainContent, per coding conventions.
         Nothing is needed client-side here — ScriptManager in Site.Master wires
         up MS Ajax for UpdatePanel support automatically. --%>
    <script>
        // Intentionally empty: all UpdatePanel wiring is handled by the
        // ScriptManager declared in Site.Master.
    </script>

</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Default.aspx.cs
SIZE: 4.06 KB
MODIFIED: 02/17/2026 15:41:19
================================================================================

using System;
using System.Web.UI;

namespace MyWebForms
{
    public partial class _Default : Page
    {
        // -----------------------------------------------------------------------
        // ViewState-backed properties
        // Must be 'protected' so the .aspx template can access them via <%: %>.
        // -----------------------------------------------------------------------

        /// <summary>
        /// Number of times the async "Click Me" button has been pressed.
        /// Persisted in ViewState so the value survives partial-page postbacks.
        /// </summary>
        protected int ClickCount
        {
            get { return ViewState["ClickCount"] != null ? (int)ViewState["ClickCount"] : 0; }
            set { ViewState["ClickCount"] = value; }
        }

        /// <summary>
        /// Number of full (non-async) postbacks that have occurred on this page.
        /// Persisted in ViewState.
        /// </summary>
        protected int FullPostbackCount
        {
            get { return ViewState["FullPostbackCount"] != null ? (int)ViewState["FullPostbackCount"] : 0; }
            set { ViewState["FullPostbackCount"] = value; }
        }

        /// <summary>
        /// Progress percentage (0-100) displayed in the Bootstrap progress bar.
        /// Set from code-behind so the bar width is driven server-side.
        /// </summary>
        protected int ProgressPercent
        {
            get { return ViewState["ProgressPercent"] != null ? (int)ViewState["ProgressPercent"] : 25; }
            set { ViewState["ProgressPercent"] = value; }
        }

        // -----------------------------------------------------------------------
        // Page lifecycle
        // -----------------------------------------------------------------------

        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                // First request — initialise display labels via the controls
                // declared in Default.aspx (registered in designer file).
                UpdateLifecycleDisplay();
            }
        }

        protected void Page_PreRender(object sender, EventArgs e)
        {
            // PreRender fires on every request (initial + postback).
            // Good place to push computed values to controls before rendering.
            UpdateLifecycleDisplay();

            // Drive the progress bar width from code-behind.
            // The HtmlGenericControl progressBar is declared in the designer.
            progressBar.Style["width"] = ProgressPercent.ToString() + "%";
            progressBar.Attributes["aria-valuenow"] = ProgressPercent.ToString();
        }

        // -----------------------------------------------------------------------
        // Event handlers
        // -----------------------------------------------------------------------

        /// <summary>
        /// Async postback via UpdatePanel — only the panel re-renders.
        /// </summary>
        protected void btnAsyncClick_Click(object sender, EventArgs e)
        {
            ClickCount++;

            // Advance progress bar by 15%, wrap at 100.
            ProgressPercent = Math.Min(ProgressPercent + 15, 100);
        }

        /// <summary>
        /// Full postback — entire page re-renders.
        /// </summary>
        protected void btnFullPostback_Click(object sender, EventArgs e)
        {
            FullPostbackCount++;
        }

        /// <summary>
        /// Reset all counters and progress.
        /// </summary>
        protected void btnReset_Click(object sender, EventArgs e)
        {
            ClickCount = 0;
            FullPostbackCount = 0;
            ProgressPercent = 25;
        }

        // -----------------------------------------------------------------------
        // Helpers
        // -----------------------------------------------------------------------

        private void UpdateLifecycleDisplay()
        {
            lblTimestamp.Text = DateTime.Now.ToString("HH:mm:ss.fff");
            lblIsPostBack.Text = IsPostBack.ToString();
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Global.asax
SIZE: 94 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

<%@ Application Codebehind="Global.asax.cs" Inherits="MyWebForms.Global" Language="C#" %>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Global.asax.cs
SIZE: 556 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Optimization;
using System.Web.Routing;
using System.Web.Security;
using System.Web.SessionState;

namespace MyWebForms
{
    public class Global : HttpApplication
    {
        void Application_Start(object sender, EventArgs e)
        {
            // Code that runs on application startup
            RouteConfig.RegisterRoutes(RouteTable.Routes);
            BundleConfig.RegisterBundles(BundleTable.Bundles);
        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNews.aspx
SIZE: 8.91 KB
MODIFIED: 02/17/2026 14:24:15
================================================================================

<%@ Page Title="Hacker News" Language="C#" MasterPageFile="~/Site.Master"
    AutoEventWireup="true" CodeBehind="HackerNews.aspx.cs"
    Inherits="MyWebForms.HackerNews" Async="true" %>

<%@ Register Src="~/HnStoryRow.ascx"  TagPrefix="uc" TagName="StoryRow"  %>
<%@ Register Src="~/HnComment.ascx"   TagPrefix="uc" TagName="Comment"   %>
<%@ Register Src="~/HnUserCard.ascx"  TagPrefix="uc" TagName="UserCard"  %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">

<main class="container-fluid mt-3" style="max-width:960px;">

    <%-- ═══════════════════════════════════════════════════════════
         Page header
    ════════════════════════════════════════════════════════════════ --%>
    <div class="d-flex align-items-center mb-3">
        <span class="hn-logo me-2" style="background:#ff6600;color:#fff;font-weight:bold;padding:2px 6px;font-family:monospace;">Y</span>
        <h4 class="mb-0 fw-bold">Hacker News</h4>

        <%-- LIVE badge: only shown/animated when on the "new" tab.
             The server sets its Visible flag; the JS countdown sits next to it. --%>
        <asp:HiddenField ID="hfActiveTab" runat="server" />
        <span class="ms-auto d-flex align-items-center gap-2">
            <asp:Label ID="lblRefreshCountdown" runat="server" Visible="false"
                CssClass="text-muted small" />
            <asp:Label ID="lblLiveBadge" runat="server"
                CssClass="badge bg-success animate__animated animate__pulse animate__infinite"
                style="font-size:.65rem;">LIVE</asp:Label>
        </span>
    </div>

    <%-- ═══════════════════════════════════════════════════════════
         Tab navigation
    ════════════════════════════════════════════════════════════════ --%>
    <ul class="nav nav-tabs mb-3" id="hnTabs">
        <li class="nav-item">
            <asp:LinkButton ID="btnTabTop"   runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="top">Top</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabNew"   runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="new">New</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabBest"  runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="best">Best</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabAsk"   runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="ask">Ask</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabShow"  runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="show">Show</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabJobs"  runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="jobs">Jobs</asp:LinkButton>
        </li>
    </ul>

    <%-- ═══════════════════════════════════════════════════════════
         Message panel (errors / empty state)
    ════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlMessage" runat="server" Visible="false"
        CssClass="alert alert-warning">
        <asp:Literal ID="litMessage" runat="server" />
    </asp:Panel>

    <%-- ═══════════════════════════════════════════════════════════
         Story list
    ════════════════════════════════════════════════════════════════ --%>
    <asp:PlaceHolder ID="phStories" runat="server" />

    <%-- ═══════════════════════════════════════════════════════════
         Pager
    ════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlPager" runat="server" CssClass="d-flex align-items-center gap-3 mt-3">
        <asp:LinkButton ID="btnPrev" runat="server" CssClass="btn btn-outline-secondary btn-sm"
            OnClick="btnPrev_Click">&laquo; Prev</asp:LinkButton>
        <span class="small text-muted">
            Page <asp:Literal ID="litPage" runat="server" /> of
            <asp:Literal ID="litPageCount" runat="server" />
        </span>
        <asp:LinkButton ID="btnNext" runat="server" CssClass="btn btn-outline-secondary btn-sm"
            OnClick="btnNext_Click">Next &raquo;</asp:LinkButton>
    </asp:Panel>

    <%-- ═══════════════════════════════════════════════════════════
         Story detail panel
    ════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlStoryDetail" runat="server" Visible="false"
        CssClass="mt-4 p-3 border rounded animate__animated animate__fadeIn">

        <div class="d-flex justify-content-end mb-1">
            <asp:LinkButton ID="btnCloseDetail" runat="server"
                CssClass="btn btn-sm btn-outline-secondary"
                OnClick="btnCloseDetail_Click">&#10005; Close</asp:LinkButton>
        </div>

        <h5><asp:Literal ID="litDetailTitle" runat="server" /></h5>
        <p class="small text-muted mb-2">
            <asp:Literal ID="litDetailMeta" runat="server" />
        </p>

        <%-- Self text (Ask HN / jobs) --%>
        <asp:Panel ID="pnlDetailText" runat="server" Visible="false"
            CssClass="hn-story-text mb-3 p-2 bg-light rounded small">
            <asp:Literal ID="litDetailText" runat="server" />
        </asp:Panel>

        <%-- Poll options --%>
        <asp:Panel ID="pnlPollOptions" runat="server" Visible="false" CssClass="mb-3">
            <h6 class="small text-uppercase text-muted">Poll options</h6>
            <asp:PlaceHolder ID="phPollOptions" runat="server" />
        </asp:Panel>

        <%-- Comments --%>
        <h6 class="mt-3">
            <asp:Literal ID="litDetailCommentCount" runat="server" /> comments
        </h6>
        <asp:Panel ID="pnlCommentLoading" runat="server" Visible="true"
            CssClass="text-muted small">Loading comments&hellip;</asp:Panel>
        <asp:PlaceHolder ID="phComments" runat="server" />
    </asp:Panel>

    <%-- ═══════════════════════════════════════════════════════════
         User profile panel
    ════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlUserProfile" runat="server" Visible="false"
        CssClass="animate__animated animate__fadeIn">
        <div class="d-flex justify-content-end mb-1">
            <asp:LinkButton ID="btnCloseUser" runat="server"
                CssClass="btn btn-sm btn-outline-secondary"
                OnClick="btnCloseUser_Click">&#10005; Close</asp:LinkButton>
        </div>
        <uc:UserCard ID="ucUserCard" runat="server" />
    </asp:Panel>

</main>

<style>
    .hn-title { font-size: .95rem; }
    .hn-rank  { font-size: .85rem; }
    .hn-meta  { font-size: .78rem; }
    .hn-comment-text pre,
    .hn-comment-text code { white-space: pre-wrap; word-break: break-word; }
    .hn-story-text  pre,
    .hn-story-text  code { white-space: pre-wrap; word-break: break-word; }
    .hn-user-about a { color: inherit; }
    .hn-author-link, .hn-comments-link {
        background: none; border: none; padding: 0;
        color: inherit; text-decoration: underline dotted;
        cursor: pointer;
    }
    .nav-link.active { color: #ff6600 !important; border-bottom-color: #ff6600 !important; }
    .hn-poll-option   { padding: .4rem 0; border-bottom: 1px solid #eee; }
</style>

</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNews.aspx.cs
SIZE: 26.83 KB
MODIFIED: 02/17/2026 17:48:30
================================================================================

using System;
using System.Collections.Generic;
using System.Text;
using System.Threading.Tasks;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using MyWebForms.Models;
using MyWebForms.Services;

namespace MyWebForms
{
    /// <summary>
    /// HackerNews.aspx code-behind.
    ///
    /// Page lifecycle summary
    /// ----------------------
    /// 1. Page_Load         — restores tab/page state from ViewState.
    ///                        On postback, immediately re-creates the story-row
    ///                        controls from ViewState-cached IDs so that ASP.NET
    ///                        can route LinkButton click events (which happen
    ///                        between Load and PreRender).
    ///                        ALSO re-creates comment stubs for the same reason.
    ///                        Queues the async data load via RegisterAsyncTask.
    /// 2. [Event handlers]  — btnTab_Click, lnkComments, lnkAuthor etc. update
    ///                        ViewState before PreRenderComplete runs.
    /// 3. PreRenderComplete — fires after all async tasks complete; fully binds
    ///                        all panels with fresh API data and injects the
    ///                        background-refresh script.
    ///
    /// Dynamic control event routing — important Web Forms note
    /// ---------------------------------------------------------
    /// Controls added dynamically to a PlaceHolder only receive postback events
    /// if they exist in the control tree BEFORE the event-dispatch phase (which
    /// runs between Page_Load and Page_PreRender).
    ///
    /// Story rows: cache the current page's story IDs in ViewState ("ShownIds")
    /// AND their author names in ViewState ("ShownAuthors") — both parallel lists.
    /// On every postback, RecreateStoryRowsForEventRouting() runs in Page_Load,
    /// adding invisible stub HnStoryRow controls with the same stable IDs
    /// (row_{storyId}).  Stubs set StubItemId and StubItemBy so the click
    /// handlers can fire the correct events even though Item == null.
    ///
    /// Comments: the same problem applies to HnComment controls inside the
    /// detail panel.  If the user clicks an author link in the comment list,
    /// the postback targets an HnComment control — but those controls are only
    /// added in PreRenderComplete (too late).  Fix: cache a flat list of
    /// (CommentId, ParentId) in ViewState ("ShownCommentMeta") and author names
    /// in ViewState ("ShownCommentAuthors"), then recreate minimal stub HnComment
    /// controls in Page_Load on every postback when a story is selected.
    ///
    /// Background refresh
    /// ------------------
    /// A JS IIFE polls HackerNewsRefresh.ashx on a timer and:
    ///   - Updates score spans in the DOM via data-hn-score-num (no postback).
    ///   - Triggers __doPostBack only when listChanged == true.
    /// </summary>
    public partial class HackerNews : Page
    {
        // ── Constants ─────────────────────────────────────────────────────────

        private const int PageSize = 20;
        private const int MaxCommentDepth = 4;
        private const int AutoRefreshSeconds = 60;

        // ── Service ───────────────────────────────────────────────────────────

        private HackerNewsService _service;

        public HackerNewsService Service
        {
            get { return _service ?? (_service = new HackerNewsService()); }
            set { _service = value; }
        }

        // ── Data loaded by async tasks ────────────────────────────────────────

        private List<HackerNewsItem> _storyPage;
        private int _totalIds;
        private HackerNewsItem _selectedStory;
        private List<HackerNewsItem> _comments;
        private List<HackerNewsItem> _pollOptions;
        private HackerNewsUser _selectedUser;

        // ── ViewState keys ────────────────────────────────────────────────────

        private string ActiveTab
        {
            get { return ViewState["Tab"] as string ?? "top"; }
            set { ViewState["Tab"] = value; }
        }

        private int CurrentPage
        {
            get { return (int)(ViewState["Page"] ?? 1); }
            set { ViewState["Page"] = value; }
        }

        private int SelectedItemId
        {
            get { return (int)(ViewState["SelItem"] ?? 0); }
            set { ViewState["SelItem"] = value; }
        }

        private string SelectedUsername
        {
            get { return ViewState["SelUser"] as string; }
            set { ViewState["SelUser"] = value; }
        }

        /// <summary>
        /// IDs of the story items currently shown on the page.
        /// Parallel to ShownAuthors — same index = same story.
        /// </summary>
        private List<int> ShownIds
        {
            get { return ViewState["ShownIds"] as List<int> ?? new List<int>(); }
            set { ViewState["ShownIds"] = value; }
        }

        /// <summary>
        /// Author names for each story currently shown on the page.
        /// Parallel to ShownIds — ShownAuthors[i] is the author of ShownIds[i].
        /// Needed so event-routing stubs can fire AuthorSelected with the correct
        /// username even though the stubs carry no HackerNewsItem.
        /// </summary>
        private List<string> ShownAuthors
        {
            get { return ViewState["ShownAuthors"] as List<string> ?? new List<string>(); }
            set { ViewState["ShownAuthors"] = value; }
        }

        /// <summary>
        /// Minimal comment data needed to recreate event-routing stub controls.
        /// Format: [ [commentId, parentId], ... ]
        /// Author names stored separately in ShownCommentAuthors (same index)
        /// because ViewState only reliably round-trips primitive arrays.
        /// </summary>
        private List<int[]> ShownCommentMeta
        {
            get { return ViewState["ShownCommentMeta"] as List<int[]> ?? new List<int[]>(); }
            set { ViewState["ShownCommentMeta"] = value; }
        }

        /// <summary>
        /// Author names parallel to ShownCommentMeta (same index).
        /// </summary>
        private List<string> ShownCommentAuthors
        {
            get { return ViewState["ShownCommentAuthors"] as List<string> ?? new List<string>(); }
            set { ViewState["ShownCommentAuthors"] = value; }
        }

        // ── Page lifecycle ────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                ActiveTab = "top";
                CurrentPage = 1;
            }
            else
            {
                // Recreate story-row stubs so ASP.NET can route click events
                // before the async data tasks have completed.
                RecreateStoryRowsForEventRouting();

                // Recreate comment stubs for the same reason.
                if (SelectedItemId > 0)
                {
                    RecreateCommentStubsForEventRouting();
                }
            }

            hfActiveTab.Value = ActiveTab;
            RegisterAsyncTask(new PageAsyncTask(LoadDataAsync));
        }

        /// <summary>
        /// Adds invisible HnStoryRow stubs to phStories using IDs cached in
        /// ShownIds and author names from ShownAuthors.
        ///
        /// Stubs set StubItemId and StubItemBy instead of Item, so the click
        /// handlers on HnStoryRow can fire StorySelected / AuthorSelected
        /// with the correct values even though Item == null (and the control
        /// renders nothing — Visible = false).
        /// </summary>
        private void RecreateStoryRowsForEventRouting()
        {
            phStories.Controls.Clear();
            var ids = ShownIds;
            var authors = ShownAuthors;
            int startRank = (CurrentPage - 1) * PageSize + 1;

            for (int i = 0; i < ids.Count; i++)
            {
                var row = (HnStoryRow)LoadControl("~/HnStoryRow.ascx");
                row.ID = "row_" + ids[i];
                row.Item = null;                   // Stub — renders nothing
                row.Rank = startRank + i;
                row.StubItemId = ids[i];
                row.StubItemBy = i < authors.Count ? authors[i] : string.Empty;
                row.StorySelected += OnStorySelected;
                row.AuthorSelected += OnAuthorSelected;
                phStories.Controls.Add(row);
            }
        }

        /// <summary>
        /// Adds invisible HnComment stubs to phComments using data cached in
        /// ShownCommentMeta / ShownCommentAuthors.  Each stub has a minimal
        /// HackerNewsItem set so lnkAuthor_Click can read Item.By.
        /// The IDs must exactly match those assigned in RenderCommentTree so
        /// ASP.NET's event-routing finds the correct control.
        /// </summary>
        private void RecreateCommentStubsForEventRouting()
        {
            phComments.Controls.Clear();
            var meta = ShownCommentMeta;
            var authors = ShownCommentAuthors;

            for (int i = 0; i < meta.Count; i++)
            {
                int commentId = meta[i][0];
                int parentId = meta[i][1];
                string by = i < authors.Count ? authors[i] : string.Empty;

                var stub = (HnComment)LoadControl("~/HnComment.ascx");
                stub.ID = "cmt_" + commentId;   // must match RenderCommentTree
                stub.Item = new HackerNewsItem
                {
                    Id = commentId,
                    By = by,
                    Parent = parentId
                };
                stub.Depth = 0;    // depth doesn't matter for invisible stubs
                stub.AuthorSelected += OnAuthorSelected;
                stub.Visible = false;
                phComments.Controls.Add(stub);
            }
        }

        private async Task LoadDataAsync()
        {
            var ids = await GetIdsForTabAsync(ActiveTab).ConfigureAwait(false);
            _totalIds = ids.Count;
            _storyPage = await Service.GetItemPageAsync(ids, CurrentPage, PageSize)
                             .ConfigureAwait(false);

            if (SelectedItemId > 0)
            {
                _selectedStory = await Service.GetItemAsync(SelectedItemId)
                                     .ConfigureAwait(false);

                if (_selectedStory != null)
                {
                    _comments = await Service.GetCommentTreeAsync(
                        _selectedStory, MaxCommentDepth).ConfigureAwait(false);

                    if (_selectedStory.IsPoll && _selectedStory.Parts != null)
                    {
                        _pollOptions = new List<HackerNewsItem>();
                        foreach (var partId in _selectedStory.Parts)
                        {
                            var opt = await Service.GetItemAsync(partId)
                                          .ConfigureAwait(false);
                            if (opt != null) _pollOptions.Add(opt);
                        }
                    }
                }
            }

            if (!string.IsNullOrEmpty(SelectedUsername))
            {
                _selectedUser = await Service.GetUserAsync(SelectedUsername)
                                    .ConfigureAwait(false);
            }
        }

        protected override void OnPreRenderComplete(EventArgs e)
        {
            base.OnPreRenderComplete(e);

            HighlightActiveTab();

            BindStoryList();
            BindDetailPanel();
            BindUserPanel();
            BindPager();

            lblLiveBadge.Visible = true;

            if (SelectedItemId == 0 && string.IsNullOrEmpty(SelectedUsername))
            {
                InjectAutoRefreshScript();
            }
        }

        // ── Auto-refresh script ───────────────────────────────────────────────

        private void InjectAutoRefreshScript()
        {
            var shownIds = new List<string>();
            if (_storyPage != null)
            {
                foreach (var s in _storyPage)
                    shownIds.Add(s.Id.ToString());
            }

            var activeTab = ActiveTab;
            var countdownClientId = lblRefreshCountdown.ClientID;
            var seconds = AutoRefreshSeconds;
            var handlerUrl = ResolveUrl("~/hn-refresh");

            string currentTabBtnUniqueId;
            switch (activeTab)
            {
                case "new": currentTabBtnUniqueId = btnTabNew.UniqueID; break;
                case "best": currentTabBtnUniqueId = btnTabBest.UniqueID; break;
                case "ask": currentTabBtnUniqueId = btnTabAsk.UniqueID; break;
                case "show": currentTabBtnUniqueId = btnTabShow.UniqueID; break;
                case "jobs": currentTabBtnUniqueId = btnTabJobs.UniqueID; break;
                default: currentTabBtnUniqueId = btnTabTop.UniqueID; break;
            }

            var shownIdsJoined = string.Join(",", shownIds.ToArray());

            var sb = new StringBuilder();
            sb.AppendLine("(function () {");
            sb.AppendLine("    var remaining = " + seconds + ";");
            sb.AppendLine("    var timer;");
            sb.AppendLine("    var countdownEl = document.getElementById('" + countdownClientId + "');");
            sb.AppendLine("");
            sb.AppendLine("    function updateCountdown() {");
            sb.AppendLine("        if (countdownEl) {");
            sb.AppendLine("            countdownEl.style.display = '';");
            sb.AppendLine("            countdownEl.textContent = 'Refreshing in ' + remaining + 's';");
            sb.AppendLine("        }");
            sb.AppendLine("    }");
            sb.AppendLine("");
            sb.AppendLine("    function poll() {");
            sb.AppendLine("        var url = '" + handlerUrl + "?tab=" + activeTab + "&ids=" + shownIdsJoined + "';");
            sb.AppendLine("        fetch(url)");
            sb.AppendLine("            .then(function(r) { return r.json(); })");
            sb.AppendLine("            .then(function(data) {");
            sb.AppendLine("                if (data.scores) {");
            sb.AppendLine("                    Object.keys(data.scores).forEach(function(id) {");
            sb.AppendLine("                        var el = document.querySelector('[data-hn-score-num=\"' + id + '\"]');");
            sb.AppendLine("                        if (el) el.textContent = data.scores[id] + ' pts';");
            sb.AppendLine("                    });");
            sb.AppendLine("                }");
            sb.AppendLine("                if (data.listChanged) {");
            sb.AppendLine("                    __doPostBack('" + currentTabBtnUniqueId + "', '');");
            sb.AppendLine("                }");
            sb.AppendLine("            })");
            sb.AppendLine("            .catch(function() { /* ignore network errors during poll */ });");
            sb.AppendLine("    }");
            sb.AppendLine("");
            sb.AppendLine("    function tick() {");
            sb.AppendLine("        remaining--;");
            sb.AppendLine("        if (remaining <= 0) {");
            sb.AppendLine("            remaining = " + seconds + ";");
            sb.AppendLine("            clearInterval(timer);");
            sb.AppendLine("            poll();");
            sb.AppendLine("        } else {");
            sb.AppendLine("            updateCountdown();");
            sb.AppendLine("        }");
            sb.AppendLine("    }");
            sb.AppendLine("");
            sb.AppendLine("    updateCountdown();");
            sb.AppendLine("    timer = setInterval(tick, 1000);");
            sb.AppendLine("})();");

            ScriptManager.RegisterStartupScript(
                this,
                typeof(HackerNews),
                "HnAutoRefresh",
                sb.ToString(),
                addScriptTags: true);
        }

        // ── Tab click ─────────────────────────────────────────────────────────

        protected void btnTab_Click(object sender, EventArgs e)
        {
            var btn = (LinkButton)sender;
            ActiveTab = btn.CommandArgument;
            CurrentPage = 1;
            SelectedItemId = 0;
            SelectedUsername = null;
        }

        // ── Pager clicks ──────────────────────────────────────────────────────

        protected void btnPrev_Click(object sender, EventArgs e)
        {
            if (CurrentPage > 1) CurrentPage--;
        }

        protected void btnNext_Click(object sender, EventArgs e)
        {
            var pageCount = (int)Math.Ceiling((double)_totalIds / PageSize);
            if (CurrentPage < pageCount) CurrentPage++;
        }

        // ── Detail / user panel close ─────────────────────────────────────────

        protected void btnCloseDetail_Click(object sender, EventArgs e)
        {
            SelectedItemId = 0;
            ShownCommentMeta = new List<int[]>();
            ShownCommentAuthors = new List<string>();
        }

        protected void btnCloseUser_Click(object sender, EventArgs e)
        {
            SelectedUsername = null;
        }

        // ── Binding helpers ───────────────────────────────────────────────────

        private void BindStoryList()
        {
            phStories.Controls.Clear();

            if (_storyPage == null || _storyPage.Count == 0)
            {
                litMessage.Text = "No stories found. " +
                    "The API may be temporarily unavailable.";
                pnlMessage.Visible = true;
                ShownIds = new List<int>();
                ShownAuthors = new List<string>();
                return;
            }

            pnlMessage.Visible = false;

            // Cache IDs and author names so the next postback can create stubs
            // that fire the correct events.
            var newShownIds = new List<int>();
            var newShownAuthors = new List<string>();

            foreach (var s in _storyPage)
            {
                newShownIds.Add(s.Id);
                newShownAuthors.Add(s.By ?? string.Empty);
            }

            ShownIds = newShownIds;
            ShownAuthors = newShownAuthors;

            int startRank = (CurrentPage - 1) * PageSize + 1;
            for (int i = 0; i < _storyPage.Count; i++)
            {
                var row = (HnStoryRow)LoadControl("~/HnStoryRow.ascx");
                row.ID = "row_" + _storyPage[i].Id;  // Stable ID — must match RecreateStoryRowsForEventRouting
                row.Item = _storyPage[i];
                row.Rank = startRank + i;
                row.StorySelected += OnStorySelected;
                row.AuthorSelected += OnAuthorSelected;
                phStories.Controls.Add(row);
            }
        }

        private void BindDetailPanel()
        {
            if (SelectedItemId == 0 || _selectedStory == null)
            {
                pnlStoryDetail.Visible = false;
                return;
            }

            pnlStoryDetail.Visible = true;

            litDetailTitle.Text = System.Web.HttpUtility.HtmlEncode(
                _selectedStory.Title ?? "(untitled)");

            litDetailMeta.Text = string.Format(
                "{0} points by <strong>{1}</strong> &nbsp;|&nbsp; {2} &nbsp;|&nbsp; {3} comments",
                _selectedStory.Score,
                System.Web.HttpUtility.HtmlEncode(_selectedStory.By ?? "[deleted]"),
                _selectedStory.TimeAgo,
                _selectedStory.Descendants);

            if (!string.IsNullOrEmpty(_selectedStory.Text))
            {
                litDetailText.Text = _selectedStory.Text;
                pnlDetailText.Visible = true;
            }
            else
            {
                pnlDetailText.Visible = false;
            }

            if (_pollOptions != null && _pollOptions.Count > 0)
            {
                phPollOptions.Controls.Clear();
                foreach (var opt in _pollOptions)
                {
                    var div = new HtmlGenericControl("div");
                    div.Attributes["class"] = "hn-poll-option";
                    div.InnerHtml = string.Format(
                        "<strong>{0}</strong> &mdash; {1} pts",
                        System.Web.HttpUtility.HtmlEncode(opt.Title ?? string.Empty),
                        opt.Score);
                    phPollOptions.Controls.Add(div);
                }
                pnlPollOptions.Visible = true;
            }
            else
            {
                pnlPollOptions.Visible = false;
            }

            litDetailCommentCount.Text = _selectedStory.Descendants.ToString();
            phComments.Controls.Clear();
            pnlCommentLoading.Visible = false;

            if (_comments == null || _comments.Count == 0)
            {
                var noComments = new HtmlGenericControl("p");
                noComments.Attributes["class"] = "text-muted small";
                noComments.InnerText = "No comments yet.";
                phComments.Controls.Add(noComments);

                ShownCommentMeta = new List<int[]>();
                ShownCommentAuthors = new List<string>();
            }
            else
            {
                var newMeta = new List<int[]>();
                var newAuthors = new List<string>();

                RenderCommentTree(_comments, _selectedStory.Id, 0, newMeta, newAuthors);

                ShownCommentMeta = newMeta;
                ShownCommentAuthors = newAuthors;
            }
        }

        /// <summary>
        /// Recursively renders the comment tree into phComments and simultaneously
        /// populates the stub-cache lists so the next postback can recreate invisible
        /// routing stubs without re-fetching data.
        ///
        /// newMeta and newAuthors are always appended together so their indices
        /// stay in sync.  Every HN comment has a Parent set by the API, so
        /// comment.Parent is treated as non-null here; if it ever is null
        /// (malformed API response) we default to 0 to avoid a crash.
        /// </summary>
        private void RenderCommentTree(
            List<HackerNewsItem> comments,
            int parentId,
            int depth,
            List<int[]> newMeta,
            List<string> newAuthors)
        {
            foreach (var comment in comments)
            {
                if (comment.Parent != parentId) continue;

                var ctrl = (HnComment)LoadControl("~/HnComment.ascx");
                ctrl.ID = "cmt_" + comment.Id;   // must match RecreateCommentStubsForEventRouting
                ctrl.Item = comment;
                ctrl.Depth = depth;
                ctrl.AuthorSelected += OnAuthorSelected;
                phComments.Controls.Add(ctrl);

                // Always add both entries together to keep the parallel lists in sync.
                // comment.Parent is int? but the HN API always sets it for comments;
                // default to 0 on the off chance of a malformed item.
                newMeta.Add(new int[] { comment.Id, comment.Parent ?? 0 });
                newAuthors.Add(comment.By ?? string.Empty);

                if (depth < MaxCommentDepth)
                    RenderCommentTree(comments, comment.Id, depth + 1, newMeta, newAuthors);
            }
        }

        private void BindUserPanel()
        {
            if (string.IsNullOrEmpty(SelectedUsername) || _selectedUser == null)
            {
                pnlUserProfile.Visible = false;
                return;
            }

            pnlUserProfile.Visible = true;
            ucUserCard.User = _selectedUser;
        }

        private void BindPager()
        {
            var pageCount = _totalIds > 0
                ? (int)Math.Ceiling((double)_totalIds / PageSize)
                : 1;

            litPage.Text = CurrentPage.ToString();
            litPageCount.Text = pageCount.ToString();
            btnPrev.Enabled = CurrentPage > 1;
            btnNext.Enabled = CurrentPage < pageCount;
            pnlPager.Visible = pageCount > 1;
        }

        private void HighlightActiveTab()
        {
            foreach (var btn in new[] { btnTabTop, btnTabNew, btnTabBest,
                                        btnTabAsk, btnTabShow, btnTabJobs })
            {
                btn.CssClass = "nav-link";
            }

            switch (ActiveTab)
            {
                case "top": btnTabTop.CssClass = "nav-link active"; break;
                case "new": btnTabNew.CssClass = "nav-link active"; break;
                case "best": btnTabBest.CssClass = "nav-link active"; break;
                case "ask": btnTabAsk.CssClass = "nav-link active"; break;
                case "show": btnTabShow.CssClass = "nav-link active"; break;
                case "jobs": btnTabJobs.CssClass = "nav-link active"; break;
            }
        }

        // ── Bubble-up event handlers ──────────────────────────────────────────

        private void OnStorySelected(object sender, StorySelectedEventArgs e)
        {
            SelectedItemId = e.ItemId;
            SelectedUsername = null;
        }

        private void OnAuthorSelected(object sender, AuthorSelectedEventArgs e)
        {
            SelectedUsername = e.Username;
            SelectedItemId = 0;
        }

        // ── API tab → ID list routing ─────────────────────────────────────────

        private Task<List<int>> GetIdsForTabAsync(string tab)
        {
            switch (tab)
            {
                case "new": return Service.GetNewStoryIdsAsync();
                case "best": return Service.GetBestStoryIdsAsync();
                case "ask": return Service.GetAskStoryIdsAsync();
                case "show": return Service.GetShowStoryIdsAsync();
                case "jobs": return Service.GetJobStoryIdsAsync();
                default: return Service.GetTopStoryIdsAsync();
            }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNewsEventArgs.cs
SIZE: 1017 B
MODIFIED: 02/17/2026 14:38:53
================================================================================

using System;

namespace MyWebForms
{
    /// <summary>
    /// Carries the HN item ID when a user clicks the "N comments" link on a
    /// story row, causing the host page to load the story detail panel.
    /// </summary>
    public sealed class StorySelectedEventArgs : EventArgs
    {
        /// <summary>The HN item ID of the selected story.</summary>
        public int ItemId { get; private set; }

        public StorySelectedEventArgs(int itemId)
        {
            ItemId = itemId;
        }
    }

    /// <summary>
    /// Carries the HN username when a user clicks an author link on a story
    /// row or comment, causing the host page to load the user profile panel.
    /// </summary>
    public sealed class AuthorSelectedEventArgs : EventArgs
    {
        /// <summary>The HN username of the selected author.</summary>
        public string Username { get; private set; }

        public AuthorSelectedEventArgs(string username)
        {
            Username = username;
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNewsRefresh.ashx
SIZE: 109 B
MODIFIED: 02/17/2026 14:32:02
================================================================================

<%@ WebHandler Language="C#" CodeBehind="HackerNewsRefresh.ashx.cs" Class="MyWebForms.HackerNewsRefresh" %>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNewsRefresh.ashx.cs
SIZE: 5.74 KB
MODIFIED: 02/17/2026 14:31:41
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Web;
using MyWebForms.Services;
using Newtonsoft.Json;

namespace MyWebForms
{
    /// <summary>
    /// HTTP handler that returns a lightweight JSON snapshot of the current
    /// story list for a given HN tab.  The client polls this endpoint on a
    /// timer and compares scores against what is already rendered — updating
    /// scores in-place and only triggering a full postback when the set of
    /// story IDs has actually changed.
    ///
    /// Educational notes — HttpHandler pattern
    /// ----------------------------------------
    /// IHttpAsyncHandler lets us do async I/O (HN API calls) without blocking
    /// a thread-pool thread for the duration of the network wait.  We implement
    /// it via a Task-based adapter: BeginProcessRequest starts the Task and
    /// returns an IAsyncResult; EndProcessRequest is called by ASP.NET when
    /// the Task completes.
    ///
    /// IsReusable = true is safe here because we have no per-request instance
    /// state (everything is in local variables of ProcessRequestAsync).
    ///
    /// Route: registered via RouteConfig so the URL is /hn-refresh
    /// Query params:
    ///   tab  — one of top|new|best|ask|show|jobs  (default: top)
    ///   ids  — comma-separated list of item IDs currently shown on the page
    ///           (used by the handler to decide whether to include scores)
    /// </summary>
    public class HackerNewsRefresh : HttpTaskAsyncHandler
    {
        // Only fetch scores for the IDs the client already has on screen.
        // Cap at 30 to keep the response fast.
        private const int MaxScoreFetch = 30;

        public override bool IsReusable { get { return true; } }

        public override async Task ProcessRequestAsync(HttpContext context)
        {
            context.Response.ContentType = "application/json";
            context.Response.Cache.SetCacheability(HttpCacheability.NoCache);

            var tab = context.Request.QueryString["tab"] ?? "top";
            var rawIds = context.Request.QueryString["ids"] ?? string.Empty;

            var service = new HackerNewsService();

            try
            {
                // 1. Fetch the current list of IDs for this tab.
                var currentIds = await GetIdsForTabAsync(service, tab)
                    .ConfigureAwait(false);

                // Take the first page worth for comparison.
                var firstPageIds = currentIds.Take(20).ToList();

                // 2. Parse the IDs the client says it is currently showing.
                var clientIds = ParseIds(rawIds);

                // 3. Decide whether the story list has changed.
                var listChanged = !firstPageIds.SequenceEqual(clientIds);

                // 4. Fetch scores for whichever IDs the client has on screen,
                //    capped to avoid hammering the API.
                var scoreIds = clientIds.Count > 0 ? clientIds : firstPageIds;
                scoreIds = scoreIds.Take(MaxScoreFetch).ToList();

                var scores = new Dictionary<int, int>();
                // Fetch items concurrently — HackerNewsService is stateless.
                var tasks = scoreIds.Select(id => service.GetItemAsync(id));
                var items = await Task.WhenAll(tasks).ConfigureAwait(false);
                foreach (var item in items)
                {
                    if (item != null)
                        scores[item.Id] = item.Score;
                }

                var result = new RefreshResult
                {
                    ListChanged = listChanged,
                    Scores = scores
                };

                context.Response.Write(JsonConvert.SerializeObject(result));
            }
            catch (Exception ex)
            {
                // Return a safe error payload — client will ignore score updates
                // but won't crash.
                var error = new { error = ex.Message };
                context.Response.StatusCode = 500;
                context.Response.Write(JsonConvert.SerializeObject(error));
            }
        }

        // ── Helpers ──────────────────────────────────────────────────────────

        private static Task<List<int>> GetIdsForTabAsync(HackerNewsService svc, string tab)
        {
            switch (tab)
            {
                case "new": return svc.GetNewStoryIdsAsync();
                case "best": return svc.GetBestStoryIdsAsync();
                case "ask": return svc.GetAskStoryIdsAsync();
                case "show": return svc.GetShowStoryIdsAsync();
                case "jobs": return svc.GetJobStoryIdsAsync();
                default: return svc.GetTopStoryIdsAsync();
            }
        }

        private static List<int> ParseIds(string raw)
        {
            var result = new List<int>();
            if (string.IsNullOrWhiteSpace(raw)) return result;
            foreach (var part in raw.Split(','))
            {
                int id;
                if (int.TryParse(part.Trim(), out id))
                    result.Add(id);
            }
            return result;
        }

        // ── Response DTO ─────────────────────────────────────────────────────

        private class RefreshResult
        {
            [JsonProperty("listChanged")]
            public bool ListChanged { get; set; }

            /// <summary>Map of storyId → current score.</summary>
            [JsonProperty("scores")]
            public Dictionary<int, int> Scores { get; set; }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnComment.ascx
SIZE: 1.29 KB
MODIFIED: 02/17/2026 14:13:28
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="HnComment.ascx.cs"
    Inherits="MyWebForms.HnComment" %>

<%--
    HnComment.ascx
    --------------
    Renders a single comment with visual depth indentation.
    The Depth property controls the left-margin indent level.
    HTML from the API is rendered as-is (it is already escaped by HN).

    The API returns comment text as HTML (with <p>, <pre>, <code>, <a> tags).
    We render it with <%# %> eval inside a Literal so it is output verbatim —
    this is intentional and safe because the source is the HN API, not
    user-supplied input arriving at our server.
--%>

<div class="hn-comment" style="margin-left: <%= DepthPx %>px;">
    <div class="card border-0 bg-light mb-2">
        <div class="card-body py-2 px-3">
            <div class="small text-muted mb-1">
                <asp:LinkButton ID="lnkAuthor" runat="server"
                    CssClass="fw-semibold text-secondary hn-author-link"
                    OnClick="lnkAuthor_Click" />
                &nbsp;&middot;&nbsp;
                <asp:Literal ID="litTimeAgo" runat="server" />
            </div>
            <div class="hn-comment-text small">
                <asp:Literal ID="litText" runat="server" Mode="PassThrough" />
            </div>
        </div>
    </div>
</div>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnComment.ascx.cs
SIZE: 2.26 KB
MODIFIED: 02/17/2026 14:13:33
================================================================================

using System;
using MyWebForms.Models;

namespace MyWebForms
{
    /// <summary>
    /// Code-behind for HnComment.ascx.
    /// Renders a single flat comment; the host page is responsible for
    /// rendering the full tree by creating one control per comment and
    /// setting the Depth property to control visual indentation.
    /// </summary>
    public partial class HnComment : System.Web.UI.UserControl
    {
        // ── Inputs ───────────────────────────────────────────────────────────

        public HackerNewsItem Item { get; set; }

        /// <summary>
        /// Visual nesting depth (0 = top-level).
        /// Each depth level adds 20 px of left margin.
        /// </summary>
        public int Depth { get; set; }

        // ── Derived ──────────────────────────────────────────────────────────

        protected int DepthPx { get { return Depth * 20; } }

        // ── Bubbled events ───────────────────────────────────────────────────

        public event EventHandler<AuthorSelectedEventArgs> AuthorSelected;

        // ── Lifecycle ────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (Item == null)
            {
                Visible = false;
                return;
            }

            lnkAuthor.Text = System.Web.HttpUtility.HtmlEncode(Item.By ?? "[deleted]");
            litTimeAgo.Text = Item.TimeAgo;
            // The API returns HTML — render verbatim.
            litText.Text = string.IsNullOrEmpty(Item.Text) ? "<em>(empty)</em>" : Item.Text;
        }

        protected void lnkAuthor_Click(object sender, EventArgs e)
        {
            if (Item == null || string.IsNullOrEmpty(Item.By)) return;
            AuthorSelected?.Invoke(this, new AuthorSelectedEventArgs(Item.By));
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnStoryRow.ascx
SIZE: 2.78 KB
MODIFIED: 02/17/2026 16:16:26
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="HnStoryRow.ascx.cs"
    Inherits="MyWebForms.HnStoryRow" %>

<%--
    HnStoryRow.ascx
    ---------------
    Renders a single Hacker News story in the classic orange-site list style.

    Score badge markup
    ------------------
    The outer badge span (spanScore) contains:
      ▲ (triangle, plain HTML text) + <span data-hn-score-num="ID">NNN pts</span>

    The JS poller targets  data-hn-score-num  to update ONLY the number text.
    This preserves the ▲ triangle — previously targeting the whole spanScore
    with textContent would wipe the triangle.

    data-hn-score-id on the outer span is kept for any other selectors that
    may need to locate the badge by story ID.

    LinkButton vs HyperLink
    -----------------------
    - External story URL  → plain <a> (HyperLink) — leaves the app entirely
    - "N comments" link   → LinkButton — triggers a postback so the parent
      page can load the story detail panel server-side
    - Author name link    → LinkButton — same pattern for the user panel
--%>

<div class="hn-story-row d-flex align-items-start py-2 border-bottom border-light">

    <%-- Rank number --%>
    <span class="hn-rank text-muted me-2 pt-1" style="min-width:2rem; text-align:right;">
        <asp:Literal ID="litRank" runat="server" />
    </span>

    <%--
        Score badge outer span: carries data-hn-score-id for general lookups.
        The inner spanScoreNum carries data-hn-score-num, which the JS poller
        updates in-place without touching the ▲ triangle.
    --%>
    <span class="hn-score badge bg-warning text-dark me-3 mt-1"
          style="min-width:3.5rem; text-align:center;"
          runat="server" id="spanScore">
        &#9650;&nbsp;<span runat="server" id="spanScoreNum"><asp:Literal ID="litScore" runat="server" /></span>
    </span>

    <div class="flex-grow-1">
        <%-- Story title -- external URL opens in new tab --%>
        <asp:HyperLink ID="lnkTitle" runat="server"
            CssClass="hn-title fw-semibold text-decoration-none text-dark"
            Target="_blank" />
        <%-- Domain hint --%>
        <small class="text-muted ms-1">
            (<asp:Literal ID="litDomain" runat="server" />)
        </small>

        <%-- Metadata line --%>
        <div class="hn-meta small text-muted mt-1">
            <asp:Literal ID="litTimeAgo" runat="server" />
            &nbsp;by&nbsp;
            <asp:LinkButton ID="lnkAuthor" runat="server"
                CssClass="text-muted hn-author-link"
                OnClick="lnkAuthor_Click" />
            &nbsp;|&nbsp;
            <asp:LinkButton ID="lnkComments" runat="server"
                CssClass="text-muted hn-comments-link"
                OnClick="lnkComments_Click" />
        </div>
    </div>

</div>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnStoryRow.ascx.cs
SIZE: 5.40 KB
MODIFIED: 02/17/2026 17:48:11
================================================================================

using System;
using System.Web.UI.HtmlControls;
using MyWebForms.Models;

namespace MyWebForms
{
    /// <summary>
    /// Code-behind for HnStoryRow.ascx.
    ///
    /// Score span strategy
    /// -------------------
    /// spanScore    (outer) — carries  data-hn-score-id  for general queries.
    /// spanScoreNum (inner) — carries  data-hn-score-num  so the background JS
    ///                        poller can update ONLY the "NNN pts" text via
    ///                          el.textContent = score + ' pts'
    ///                        without clobbering the ▲ triangle that lives in
    ///                        the outer span as raw HTML text.
    ///
    /// Events bubble up to the host page via standard EventHandler delegates.
    /// The host page wires StorySelected and AuthorSelected when it creates
    /// these controls so it can update its detail/user panels.
    ///
    /// Control ID stability
    /// --------------------
    /// The host page assigns  row.ID = "row_" + item.Id  so the UniqueID is
    /// deterministic across postbacks.  This lets ASP.NET's event-routing
    /// mechanism find the correct control when the form is submitted.
    ///
    /// Stub controls (event-routing only)
    /// -----------------------------------
    /// RecreateStoryRowsForEventRouting on the host page creates invisible stub
    /// instances with Item = null.  Those stubs must still be able to fire their
    /// click events — the handler cannot short-circuit on Item == null.
    ///
    /// To support this, the host page sets StubItemId / StubItemBy directly when
    /// creating stubs so the handlers can read the correct values without a full
    /// HackerNewsItem being present.  When Item is not null (normal render path)
    /// StubItemId / StubItemBy are ignored; Item takes precedence.
    /// </summary>
    public partial class HnStoryRow : System.Web.UI.UserControl
    {
        // ── Inputs ────────────────────────────────────────────────────────────

        public HackerNewsItem Item { get; set; }
        public int Rank { get; set; }

        /// <summary>
        /// Set by the host page when creating an event-routing stub (Item == null).
        /// Provides the story ID that the click handlers need to fire the correct event.
        /// </summary>
        public int StubItemId { get; set; }

        /// <summary>
        /// Set by the host page when creating an event-routing stub (Item == null).
        /// Provides the author username that lnkAuthor_Click needs to fire AuthorSelected.
        /// </summary>
        public string StubItemBy { get; set; }

        // ── Bubbled events ────────────────────────────────────────────────────

        public event EventHandler<StorySelectedEventArgs> StorySelected;
        public event EventHandler<AuthorSelectedEventArgs> AuthorSelected;

        // ── Lifecycle ─────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (Item == null)
            {
                // Stub control created for event routing — render nothing.
                Visible = false;
                return;
            }

            Visible = true;

            litRank.Text = Rank.ToString() + ".";
            litScore.Text = Item.Score.ToString() + " pts";

            // Outer span: ID-based lookup (kept for backward compat / CSS hooks).
            spanScore.Attributes["data-hn-score-id"] = Item.Id.ToString();

            // Inner span: targeted by the JS poller so it can update the score
            // number text WITHOUT replacing the ▲ triangle in the outer span.
            spanScoreNum.Attributes["data-hn-score-num"] = Item.Id.ToString();

            lnkTitle.Text = System.Web.HttpUtility.HtmlEncode(Item.Title ?? "(untitled)");
            lnkTitle.NavigateUrl = Item.DisplayUrl;
            litDomain.Text = System.Web.HttpUtility.HtmlEncode(Item.Domain);
            litTimeAgo.Text = Item.TimeAgo;

            lnkAuthor.Text = System.Web.HttpUtility.HtmlEncode(Item.By ?? "[deleted]");
            lnkComments.Text = string.Format("{0} comments", Item.Descendants);
        }

        // ── Events ────────────────────────────────────────────────────────────

        protected void lnkComments_Click(object sender, EventArgs e)
        {
            // Use Item when available (normal render path); fall back to
            // StubItemId when this is an event-routing stub (Item == null).
            int itemId = Item != null ? Item.Id : StubItemId;
            if (itemId == 0) return;
            StorySelected?.Invoke(this, new StorySelectedEventArgs(itemId));
        }

        protected void lnkAuthor_Click(object sender, EventArgs e)
        {
            // Use Item when available; fall back to StubItemBy for stubs.
            string by = Item != null ? Item.By : StubItemBy;
            if (string.IsNullOrEmpty(by)) return;
            AuthorSelected?.Invoke(this, new AuthorSelectedEventArgs(by));
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnUserCard.ascx
SIZE: 1.60 KB
MODIFIED: 02/17/2026 14:13:27
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="HnUserCard.ascx.cs"
    Inherits="MyWebForms.HnUserCard" %>

<%--
    HnUserCard.ascx
    ---------------
    Displays a Hacker News user profile card.
    The User property must be set by the host page before Page_Load runs.
--%>

<div class="card shadow-sm">
    <div class="card-header bg-warning text-dark d-flex align-items-center gap-2">
        <strong>&#128100;</strong>
        <span>
            <asp:Literal ID="litUsername" runat="server" />
        </span>
        <span class="ms-auto badge bg-dark">
            <asp:Literal ID="litKarma" runat="server" /> karma
        </span>
    </div>
    <div class="card-body">
        <dl class="row mb-0 small">
            <dt class="col-sm-4">Member since</dt>
            <dd class="col-sm-8">
                <asp:Literal ID="litMemberSince" runat="server" />
            </dd>

            <dt class="col-sm-4">Submissions</dt>
            <dd class="col-sm-8">
                <asp:Literal ID="litSubmissionCount" runat="server" />
            </dd>

            <asp:Panel ID="pnlAbout" runat="server">
                <dt class="col-sm-4">About</dt>
                <dd class="col-sm-8 hn-user-about">
                    <asp:Literal ID="litAbout" runat="server" Mode="PassThrough" />
                </dd>
            </asp:Panel>
        </dl>
    </div>
    <div class="card-footer text-end">
        <a href="https://news.ycombinator.com/user?id=<%= EncodedUsername %>"
           class="btn btn-sm btn-outline-warning" target="_blank">
            View on HN &#8599;
        </a>
    </div>
</div>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnUserCard.ascx.cs
SIZE: 1.76 KB
MODIFIED: 02/17/2026 14:13:33
================================================================================

using System;
using MyWebForms.Models;

namespace MyWebForms
{
    public partial class HnUserCard : System.Web.UI.UserControl
    {
        // ── Inputs ───────────────────────────────────────────────────────────

        public HackerNewsUser User { get; set; }

        // ── Derived (used in markup via <%= %>) ──────────────────────────────

        protected string EncodedUsername
        {
            get
            {
                return User != null
                    ? System.Web.HttpUtility.UrlEncode(User.Id)
                    : string.Empty;
            }
        }

        // ── Lifecycle ────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (User == null)
            {
                Visible = false;
                return;
            }

            litUsername.Text = System.Web.HttpUtility.HtmlEncode(User.Id);
            litKarma.Text = User.Karma.ToString("N0");
            litMemberSince.Text = User.MemberSince;
            litSubmissionCount.Text = User.Submitted != null
                ? User.Submitted.Count.ToString("N0")
                : "0";

            if (string.IsNullOrEmpty(User.About))
            {
                pnlAbout.Visible = false;
            }
            else
            {
                // About can contain HTML tags — render verbatim (source is HN API).
                litAbout.Text = User.About;
            }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\LibraryStatusWidget.ascx
SIZE: 1.25 KB
MODIFIED: 02/17/2026 13:15:35
================================================================================

<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="LibraryStatusWidget.ascx.cs" Inherits="MyWebForms.LibraryStatusWidget" %>

<div class="card border-0 bg-light mb-3 animate__animated animate__fadeIn">
    <div class="card-body">
        <h6 class="card-title d-flex justify-content-between">
            <asp:Literal ID="litLibraryName" runat="server" />
            <span class="badge bg-info text-dark"><asp:Literal ID="litVersion" runat="server" /></span>
        </h6>
        
        <div class="progress" style="height: 10px;">
            <div id="progressBar" runat="server" 
                 class="progress-bar progress-bar-striped progress-bar-animated" 
                 role="progressbar" 
                 style="width: 0%"></div>
        </div>
        
        <small class="text-muted mt-2 d-block">
            Status: <asp:Label ID="lblStatus" runat="server" Text="Active" />
        </small>
    </div>
</div>

<script>
    // Self-contained logic: Trigger an extra animation when this specific control loads
    $(document).ready(function () {
        $('.progress-bar').each(function() {
            var targetWidth = $(this).attr('aria-valuenow');
            $(this).animate({ width: targetWidth + '%' }, 1500);
        });
    });
</script>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\LibraryStatusWidget.ascx.cs
SIZE: 958 B
MODIFIED: 02/17/2026 13:16:14
================================================================================

using System;

namespace MyWebForms
{
    public partial class LibraryStatusWidget : System.Web.UI.UserControl
    {
        // Custom Properties to set from the parent page
        public string LibraryName { get; set; }
        public string Version { get; set; }
        public int ReliabilityScore { get; set; } // 0 to 100

        protected void Page_Load(object sender, EventArgs e)
        {
            litLibraryName.Text = LibraryName;
            litVersion.Text = Version;

            // Set the width for our jQuery animation to pick up
            progressBar.Attributes.Add("aria-valuenow", ReliabilityScore.ToString());

            // Change color based on score
            if (ReliabilityScore > 90) progressBar.Attributes["class"] += " bg-success";
            else if (ReliabilityScore > 70) progressBar.Attributes["class"] += " bg-warning";
            else progressBar.Attributes["class"] += " bg-danger";
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Models\HackerNewsItem.cs
SIZE: 4.30 KB
MODIFIED: 02/17/2026 14:03:16
================================================================================

using System.Collections.Generic;
using Newtonsoft.Json;

namespace MyWebForms.Models
{
    /// <summary>
    /// Represents any HN item: story, comment, job, poll, or pollopt.
    /// Property names match the HN Firebase API JSON keys via JsonProperty.
    /// </summary>
    public class HackerNewsItem
    {
        [JsonProperty("id")]
        public int Id { get; set; }

        [JsonProperty("deleted")]
        public bool Deleted { get; set; }

        /// <summary>
        /// One of: "job", "story", "comment", "poll", "pollopt"
        /// </summary>
        [JsonProperty("type")]
        public string Type { get; set; }

        [JsonProperty("by")]
        public string By { get; set; }

        /// <summary>Unix timestamp.</summary>
        [JsonProperty("time")]
        public long Time { get; set; }

        /// <summary>HTML text for comments, polls, Ask HNs.</summary>
        [JsonProperty("text")]
        public string Text { get; set; }

        [JsonProperty("dead")]
        public bool Dead { get; set; }

        [JsonProperty("parent")]
        public int? Parent { get; set; }

        [JsonProperty("poll")]
        public int? Poll { get; set; }

        /// <summary>Child comment IDs in ranked display order.</summary>
        [JsonProperty("kids")]
        public List<int> Kids { get; set; }

        [JsonProperty("url")]
        public string Url { get; set; }

        [JsonProperty("score")]
        public int Score { get; set; }

        [JsonProperty("title")]
        public string Title { get; set; }

        /// <summary>Poll option IDs in display order.</summary>
        [JsonProperty("parts")]
        public List<int> Parts { get; set; }

        /// <summary>Total comment count (stories and polls only).</summary>
        [JsonProperty("descendants")]
        public int Descendants { get; set; }

        // ── Derived helpers (not from API) ───────────────────────────────────

        /// <summary>
        /// Returns the display URL — the story URL for link posts,
        /// or the HN item page for text posts (Ask, etc.).
        /// </summary>
        public string DisplayUrl
        {
            get
            {
                return !string.IsNullOrEmpty(Url)
                    ? Url
                    : string.Format("https://news.ycombinator.com/item?id={0}", Id);
            }
        }

        /// <summary>
        /// Extracts the bare hostname from the URL for the "(domain.com)" display,
        /// stripping www. prefix.
        /// </summary>
        public string Domain
        {
            get
            {
                if (string.IsNullOrEmpty(Url)) return string.Empty;
                try
                {
                    var uri = new System.Uri(Url);
                    var host = uri.Host;
                    if (host.StartsWith("www.", System.StringComparison.OrdinalIgnoreCase))
                        host = host.Substring(4);
                    return host;
                }
                catch
                {
                    return string.Empty;
                }
            }
        }

        /// <summary>
        /// Converts the Unix timestamp to a human-readable relative time string,
        /// e.g. "3 hours ago", "2 days ago".
        /// </summary>
        public string TimeAgo
        {
            get
            {
                if (Time == 0) return string.Empty;
                var dt = System.DateTimeOffset.FromUnixTimeSeconds(Time);
                var diff = System.DateTimeOffset.UtcNow - dt;

                if (diff.TotalMinutes < 1) return "just now";
                if (diff.TotalMinutes < 60) return (int)diff.TotalMinutes + " minutes ago";
                if (diff.TotalHours < 24) return (int)diff.TotalHours + " hours ago";
                if (diff.TotalDays < 30) return (int)diff.TotalDays + " days ago";
                if (diff.TotalDays < 365) return (int)(diff.TotalDays / 30) + " months ago";
                return (int)(diff.TotalDays / 365) + " years ago";
            }
        }

        public bool IsStory { get { return Type == "story"; } }
        public bool IsComment { get { return Type == "comment"; } }
        public bool IsJob { get { return Type == "job"; } }
        public bool IsPoll { get { return Type == "poll"; } }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Models\HackerNewsUser.cs
SIZE: 1.41 KB
MODIFIED: 02/17/2026 14:03:43
================================================================================

using System.Collections.Generic;
using Newtonsoft.Json;

namespace MyWebForms.Models
{
    /// <summary>
    /// Represents a Hacker News user profile as returned by
    /// /v0/user/{id}.json
    /// </summary>
    public class HackerNewsUser
    {
        [JsonProperty("id")]
        public string Id { get; set; }

        /// <summary>Account creation date as Unix timestamp.</summary>
        [JsonProperty("created")]
        public long Created { get; set; }

        [JsonProperty("karma")]
        public int Karma { get; set; }

        /// <summary>Optional self-description. May contain HTML.</summary>
        [JsonProperty("about")]
        public string About { get; set; }

        /// <summary>IDs of all stories, polls and comments submitted.</summary>
        [JsonProperty("submitted")]
        public List<int> Submitted { get; set; }

        // ── Derived helpers ──────────────────────────────────────────────────

        /// <summary>
        /// Returns the account creation date as a formatted date string.
        /// </summary>
        public string MemberSince
        {
            get
            {
                if (Created == 0) return string.Empty;
                return System.DateTimeOffset.FromUnixTimeSeconds(Created)
                    .ToString("MMMM yyyy");
            }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\MyWebForms.csproj
SIZE: 20.71 KB
MODIFIED: 02/17/2026 14:55:44
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props" Condition="Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props')" />
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>
    </ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{539B1A11-7791-4F27-8B72-2368B1582B54}</ProjectGuid>
    <ProjectTypeGuids>{349c5851-65df-11da-9384-00065b846f21};{fae04ec0-301f-11d3-bf4b-00c04f79efbc}</ProjectTypeGuids>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>MyWebForms</RootNamespace>
    <AssemblyName>MyWebForms</AssemblyName>
    <TargetFrameworkVersion>v4.8.1</TargetFrameworkVersion>
    <UseIISExpress>true</UseIISExpress>
    <Use64BitIISExpress />
    <IISExpressSSLPort>44309</IISExpressSSLPort>
    <IISExpressAnonymousAuthentication />
    <IISExpressWindowsAuthentication />
    <IISExpressUseClassicPipelineMode />
    <UseGlobalApplicationHostFile />
    <NuGetPackageImportStamp>
    </NuGetPackageImportStamp>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\lib\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="Newtonsoft.Json, Version=13.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed, processorArchitecture=MSIL">
      <HintPath>..\packages\Newtonsoft.Json.13.0.4\lib\net45\Newtonsoft.Json.dll</HintPath>
    </Reference>
    <Reference Include="System.ComponentModel.Composition" />
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="System" />
    <Reference Include="System.Data" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="System.IO, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.IO.4.3.0\lib\net462\System.IO.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Net.Http, Version=4.1.1.3, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Net.Http.4.3.4\lib\net46\System.Net.Http.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Runtime, Version=4.1.1.1, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Runtime.4.3.1\lib\net462\System.Runtime.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.Algorithms, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.Algorithms.4.3.1\lib\net463\System.Security.Cryptography.Algorithms.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.Encoding, Version=4.0.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.Encoding.4.3.0\lib\net46\System.Security.Cryptography.Encoding.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.Primitives, Version=4.0.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.Primitives.4.3.0\lib\net46\System.Security.Cryptography.Primitives.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.X509Certificates, Version=4.1.1.2, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.X509Certificates.4.3.2\lib\net461\System.Security.Cryptography.X509Certificates.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.Extensions" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.Web" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Web.Services" />
    <Reference Include="System.EnterpriseServices" />
    <Reference Include="System.Web.DynamicData" />
    <Reference Include="System.Web.Entity" />
    <Reference Include="System.Web.ApplicationServices" />
    <Reference Include="Microsoft.Web.Infrastructure, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <Private>True</Private>
      <HintPath>..\packages\Microsoft.Web.Infrastructure.2.0.0\lib\net40\Microsoft.Web.Infrastructure.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.ScriptManager.MSAjax">
      <HintPath>..\packages\Microsoft.AspNet.ScriptManager.MSAjax.5.0.0\lib\net45\Microsoft.ScriptManager.MSAjax.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.ScriptManager.WebForms">
      <HintPath>..\packages\Microsoft.AspNet.ScriptManager.WebForms.5.0.0\lib\net45\Microsoft.ScriptManager.WebForms.dll</HintPath>
    </Reference>
    <Reference Include="System.Web.Optimization, Version=1.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
      <HintPath>..\packages\Microsoft.AspNet.Web.Optimization.1.1.3\lib\net40\System.Web.Optimization.dll</HintPath>
    </Reference>
    <Reference Include="WebGrease">
      <Private>True</Private>
      <HintPath>..\packages\WebGrease.1.6.0\lib\WebGrease.dll</HintPath>
    </Reference>
    <Reference Include="Antlr3.Runtime">
      <Private>True</Private>
      <HintPath>..\packages\Antlr.3.5.0.2\lib\Antlr3.Runtime.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.AspNet.Web.Optimization.WebForms">
      <Private>True</Private>
      <HintPath>..\packages\Microsoft.AspNet.Web.Optimization.WebForms.1.1.3\lib\net45\Microsoft.AspNet.Web.Optimization.WebForms.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.AspNet.FriendlyUrls">
      <HintPath>..\packages\Microsoft.AspNet.FriendlyUrls.Core.1.0.2\lib\net45\Microsoft.AspNet.FriendlyUrls.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Content Include="About.aspx" />
    <Content Include="ChartWidget.ascx" />
    <Content Include="Contact.aspx" />
    <Content Include="Content\animate.css\animate.min.css" />
    <Content Include="Content\bootstrap-grid.css" />
    <Content Include="Content\bootstrap-grid.min.css" />
    <Content Include="Content\bootstrap-grid.rtl.css" />
    <Content Include="Content\bootstrap-grid.rtl.min.css" />
    <Content Include="Content\bootstrap-reboot.css" />
    <Content Include="Content\bootstrap-reboot.min.css" />
    <Content Include="Content\bootstrap-reboot.rtl.css" />
    <Content Include="Content\bootstrap-reboot.rtl.min.css" />
    <Content Include="Content\bootstrap-utilities.css" />
    <Content Include="Content\bootstrap-utilities.min.css" />
    <Content Include="Content\bootstrap-utilities.rtl.css" />
    <Content Include="Content\bootstrap-utilities.rtl.min.css" />
    <Content Include="Content\bootstrap.css" />
    <Content Include="Content\bootstrap.min.css" />
    <Content Include="Content\bootstrap.rtl.css" />
    <Content Include="Content\bootstrap.rtl.min.css" />
    <Content Include="Content\Site.css" />
    <Content Include="Default.aspx" />
    <Content Include="favicon.ico" />
    <Content Include="Global.asax" />
    <Content Include="HackerNews.aspx" />
    <Content Include="HnComment.ascx" />
    <Content Include="HnStoryRow.ascx" />
    <Content Include="HnUserCard.ascx" />
    <Content Include="LibraryStatusWidget.ascx" />
    <Content Include="Scripts\bootstrap.bundle.js" />
    <Content Include="Scripts\bootstrap.bundle.min.js" />
    <Content Include="Scripts\bootstrap.esm.js" />
    <Content Include="Scripts\bootstrap.esm.min.js" />
    <Content Include="Scripts\bootstrap.js" />
    <Content Include="Scripts\bootstrap.min.js" />
    <Content Include="libman.json" />
    <Content Include="HackerNewsRefresh.ashx" />
    <None Include="Properties\PublishProfiles\site55560-WebDeploy.pubxml" />
    <None Include="Scripts\jquery-3.7.1.intellisense.js" />
    <Content Include="Scripts\jquery-3.7.1.js" />
    <Content Include="Scripts\jquery-3.7.1.min.js" />
    <Content Include="Scripts\jquery-3.7.1.slim.js" />
    <Content Include="Scripts\jquery-3.7.1.slim.min.js" />
    <Content Include="Scripts\lib\chartjs\chart.umd.js" />
    <Content Include="Scripts\modernizr-2.8.3.js" />
    <Content Include="Scripts\WebForms\DetailsView.js" />
    <Content Include="Scripts\WebForms\Focus.js" />
    <Content Include="Scripts\WebForms\GridView.js" />
    <Content Include="Scripts\WebForms\Menu.js" />
    <Content Include="Scripts\WebForms\MenuStandards.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjax.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxApplicationServices.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxComponentModel.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxCore.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxGlobalization.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxHistory.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxNetwork.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxSerialization.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxTimer.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxWebForms.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxWebServices.js" />
    <Content Include="Scripts\WebForms\SmartNav.js" />
    <Content Include="Scripts\WebForms\TreeView.js" />
    <Content Include="Scripts\WebForms\WebForms.js" />
    <Content Include="Scripts\WebForms\WebParts.js" />
    <Content Include="Scripts\WebForms\WebUIValidation.js" />
    <Content Include="Site.Master" />
    <Content Include="ViewSwitcher.ascx" />
    <Content Include="Web.config" />
    <Content Include="Bundle.config" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="App_Start\BundleConfig.cs" />
    <Compile Include="About.aspx.cs">
      <DependentUpon>About.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="About.aspx.designer.cs">
      <DependentUpon>About.aspx</DependentUpon>
    </Compile>
    <Compile Include="App_Start\RouteConfig.cs" />
    <Compile Include="ChartWidget.ascx.cs">
      <DependentUpon>ChartWidget.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="ChartWidget.ascx.designer.cs">
      <DependentUpon>ChartWidget.ascx</DependentUpon>
    </Compile>
    <Compile Include="Contact.aspx.cs">
      <DependentUpon>Contact.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="Contact.aspx.designer.cs">
      <DependentUpon>Contact.aspx</DependentUpon>
    </Compile>
    <Compile Include="Default.aspx.cs">
      <DependentUpon>Default.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="Default.aspx.designer.cs">
      <DependentUpon>Default.aspx</DependentUpon>
    </Compile>
    <Compile Include="Global.asax.cs">
      <DependentUpon>Global.asax</DependentUpon>
    </Compile>
    <Compile Include="HackerNews.aspx.cs">
      <DependentUpon>HackerNews.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HackerNews.aspx.designer.cs">
      <DependentUpon>HackerNews.aspx</DependentUpon>
    </Compile>
    <Compile Include="HackerNewsEventArgs.cs" />
    <Compile Include="HackerNewsRefresh.ashx.cs">
      <DependentUpon>HackerNewsRefresh.ashx</DependentUpon>
    </Compile>
    <Compile Include="HnComment.ascx.cs">
      <DependentUpon>HnComment.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnComment.ascx.designer.cs">
      <DependentUpon>HnComment.ascx</DependentUpon>
    </Compile>
    <Compile Include="HnStoryRow.ascx.cs">
      <DependentUpon>HnStoryRow.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnStoryRow.ascx.designer.cs">
      <DependentUpon>HnStoryRow.ascx</DependentUpon>
    </Compile>
    <Compile Include="HnUserCard.ascx.cs">
      <DependentUpon>HnUserCard.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnUserCard.ascx.designer.cs">
      <DependentUpon>HnUserCard.ascx</DependentUpon>
    </Compile>
    <Compile Include="LibraryStatusWidget.ascx.cs">
      <DependentUpon>LibraryStatusWidget.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="LibraryStatusWidget.ascx.designer.cs">
      <DependentUpon>LibraryStatusWidget.ascx</DependentUpon>
    </Compile>
    <Compile Include="Models\HackerNewsItem.cs" />
    <Compile Include="Models\HackerNewsUser.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Services\HackerNewsService.cs" />
    <Compile Include="Site.Master.cs">
      <DependentUpon>Site.Master</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="Site.Master.designer.cs">
      <DependentUpon>Site.Master</DependentUpon>
    </Compile>
    <Compile Include="ViewSwitcher.ascx.cs">
      <DependentUpon>ViewSwitcher.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="ViewSwitcher.ascx.designer.cs">
      <DependentUpon>ViewSwitcher.ascx</DependentUpon>
    </Compile>
  </ItemGroup>
  <ItemGroup>
    <Folder Include="App_Data\" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Content\bootstrap.rtl.min.css.map" />
    <Content Include="Content\bootstrap.rtl.css.map" />
    <Content Include="Content\bootstrap.min.css.map" />
    <Content Include="Content\bootstrap.css.map" />
    <Content Include="Content\bootstrap-utilities.rtl.min.css.map" />
    <Content Include="Content\bootstrap-utilities.rtl.css.map" />
    <Content Include="Content\bootstrap-utilities.min.css.map" />
    <Content Include="Content\bootstrap-utilities.css.map" />
    <Content Include="Content\bootstrap-reboot.rtl.min.css.map" />
    <Content Include="Content\bootstrap-reboot.rtl.css.map" />
    <Content Include="Content\bootstrap-reboot.min.css.map" />
    <Content Include="Content\bootstrap-reboot.css.map" />
    <Content Include="Content\bootstrap-grid.rtl.min.css.map" />
    <Content Include="Content\bootstrap-grid.rtl.css.map" />
    <Content Include="Content\bootstrap-grid.min.css.map" />
    <Content Include="Content\bootstrap-grid.css.map" />
    <None Include="packages.config" />
    <Content Include="Scripts\bootstrap.min.js.map" />
    <Content Include="Scripts\bootstrap.js.map" />
    <Content Include="Scripts\bootstrap.esm.min.js.map" />
    <Content Include="Scripts\bootstrap.esm.js.map" />
    <Content Include="Scripts\bootstrap.bundle.min.js.map" />
    <Content Include="Scripts\bootstrap.bundle.js.map" />
    <Content Include="Scripts\jquery-3.7.1.slim.min.map" />
    <Content Include="Scripts\jquery-3.7.1.min.map" />
    <None Include="Web.Debug.config">
      <DependentUpon>Web.config</DependentUpon>
    </None>
    <None Include="Web.Release.config">
      <DependentUpon>Web.config</DependentUpon>
    </None>
  </ItemGroup>
  <PropertyGroup>
    <VisualStudioVersion Condition="'$(VisualStudioVersion)' == ''">10.0</VisualStudioVersion>
    <VSToolsPath Condition="'$(VSToolsPath)' == ''">$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)</VSToolsPath>
  </PropertyGroup>
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <Import Project="$(VSToolsPath)\WebApplications\Microsoft.WebApplication.targets" Condition="'$(VSToolsPath)' != ''" />
  <Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v10.0\WebApplications\Microsoft.WebApplication.targets" Condition="false" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
       Other similar extension points exist, see Microsoft.Common.targets.
  <Target Name="BeforeBuild">
  </Target>
  <Target Name="AfterBuild">
  </Target>
  -->
  <ProjectExtensions>
    <VisualStudio>
      <FlavorProperties GUID="{349c5851-65df-11da-9384-00065b846f21}">
        <WebProjectProperties>
          <UseIIS>True</UseIIS>
          <AutoAssignPort>True</AutoAssignPort>
          <DevelopmentServerPort>63010</DevelopmentServerPort>
          <DevelopmentServerVPath>/</DevelopmentServerVPath>
          <IISUrl>https://localhost:44309/</IISUrl>
          <NTLMAuthentication>False</NTLMAuthentication>
          <UseCustomServer>False</UseCustomServer>
          <CustomServerUrl>
          </CustomServerUrl>
          <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>
        </WebProjectProperties>
      </FlavorProperties>
    </VisualStudio>
  </ProjectExtensions>
  <Import Project="..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets" Condition="Exists('..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets')" />
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Use NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets'))" />
    <Error Condition="!Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props'))" />
    <Error Condition="!Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets'))" />
  </Target>
  <Import Project="..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets" Condition="Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets')" />
</Project>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\obj\Release\Package\PackageTmp\Content\Site.css
SIZE: 2.80 KB
MODIFIED: 02/17/2026 15:34:20
================================================================================

/* Wrapping element */
/* Set some basic padding to keep content from hitting the edges */
.body-content {
    margin-top: 15px;
    padding-left: 15px;
    padding-right: 15px;
}

/* Set widths on the form inputs since otherwise they're 100% wide */
input,
select,
textarea {
    max-width: 280px;
}

/* Responsive: Portrait tablets and up */
@media screen and (min-width: 768px) {
    .body-content {
        padding: 0;
    }
}

/* ── Hacker News page ──────────────────────────────────────────────────── */

/* Story row hover */
.hn-story-row:hover {
    background-color: #fffaf5;
}

/* Story title link colour — matches classic HN */
.hn-title {
    color: #000 !important;
}

    .hn-title:hover {
        color: #ff6600 !important;
    }

/* Comment text inherits HN's HTML tags cleanly */
.hn-comment-text p:last-child,
.hn-story-text p:last-child {
    margin-bottom: 0;
}

.hn-comment-text pre,
.hn-story-text pre {
    background: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 4px;
    padding: .5rem;
    font-size: .78rem;
}

/* Depth connector line */
.hn-comment + .hn-comment {
    border-top: 1px solid #f0f0f0;
}

/* User about HTML passthrough */
.hn-user-about a {
    color: #555;
    word-break: break-all;
}

/* Smooth tab transitions */
.nav-link {
    transition: color .15s ease;
}

/* Poll option bar */
.hn-poll-option {
    padding: .4rem 0;
    border-bottom: 1px solid #eee;
    font-size: .85rem;
}

    .hn-poll-option:last-child {
        border-bottom: none;
    }

/* ── (append these rules to the bottom of the existing Site.css) ──────── */

/* ── Home page hero ─────────────────────────────────────────────────────── */

.home-hero {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: .75rem;
}

    .home-hero code {
        background: rgba(0,0,0,.07);
        padding: .1em .35em;
        border-radius: .25em;
        font-size: .88em;
    }

/* ── Learning goals progress bar ─────────────────────────────────────────── */

.progress {
    border-radius: 999px;
    background-color: #e9ecef;
}

/* ── Stack / goal cards ──────────────────────────────────────────────────── */

.card {
    transition: box-shadow .15s ease;
}

    .card:hover {
        box-shadow: 0 .25rem .75rem rgba(0,0,0,.1) !important;
    }




================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\packages.config
SIZE: 1.96 KB
MODIFIED: 02/17/2026 14:35:55
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<packages>
  <package id="Antlr" version="3.5.0.2" targetFramework="net481" />
  <package id="bootstrap" version="5.3.8" targetFramework="net481" />
  <package id="jQuery" version="3.7.1" targetFramework="net481" />
  <package id="Microsoft.AspNet.FriendlyUrls" version="1.0.2" targetFramework="net481" />
  <package id="Microsoft.AspNet.FriendlyUrls.Core" version="1.0.2" targetFramework="net481" />
  <package id="Microsoft.AspNet.ScriptManager.MSAjax" version="5.0.0" targetFramework="net481" />
  <package id="Microsoft.AspNet.ScriptManager.WebForms" version="5.0.0" targetFramework="net481" />
  <package id="Microsoft.AspNet.Web.Optimization" version="1.1.3" targetFramework="net481" />
  <package id="Microsoft.AspNet.Web.Optimization.WebForms" version="1.1.3" targetFramework="net481" />
  <package id="Microsoft.CodeDom.Providers.DotNetCompilerPlatform" version="4.1.0" targetFramework="net481" />
  <package id="Microsoft.Web.Infrastructure" version="2.0.0" targetFramework="net481" />
  <package id="Microsoft.Web.LibraryManager.Build" version="3.0.71" targetFramework="net481" />
  <package id="Modernizr" version="2.8.3" targetFramework="net481" />
  <package id="Newtonsoft.Json" version="13.0.4" targetFramework="net481" />
  <package id="System.IO" version="4.3.0" targetFramework="net481" />
  <package id="System.Net.Http" version="4.3.4" targetFramework="net481" />
  <package id="System.Runtime" version="4.3.1" targetFramework="net481" />
  <package id="System.Security.Cryptography.Algorithms" version="4.3.1" targetFramework="net481" />
  <package id="System.Security.Cryptography.Encoding" version="4.3.0" targetFramework="net481" />
  <package id="System.Security.Cryptography.Primitives" version="4.3.0" targetFramework="net481" />
  <package id="System.Security.Cryptography.X509Certificates" version="4.3.2" targetFramework="net481" />
  <package id="WebGrease" version="1.6.0" targetFramework="net481" />
</packages>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Properties\AssemblyInfo.cs
SIZE: 1.36 KB
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

// General Information about an assembly is controlled through the following 
// set of attributes. Change these attribute values to modify the information
// associated with an assembly.
[assembly: AssemblyTitle("MyWebForms")]
[assembly: AssemblyDescription("")]
[assembly: AssemblyConfiguration("")]
[assembly: AssemblyCompany("")]
[assembly: AssemblyProduct("MyWebForms")]
[assembly: AssemblyCopyright("Copyright ©  2026")]
[assembly: AssemblyTrademark("")]
[assembly: AssemblyCulture("")]

// Setting ComVisible to false makes the types in this assembly not visible 
// to COM components.  If you need to access a type in this assembly from 
// COM, set the ComVisible attribute to true on that type.
[assembly: ComVisible(false)]

// The following GUID is for the ID of the typelib if this project is exposed to COM
[assembly: Guid("539b1a11-7791-4f27-8b72-2368b1582b54")]

// Version information for an assembly consists of the following four values:
//
//      Major Version
//      Minor Version 
//      Build Number
//      Revision
//
// You can specify all the values or you can default the Revision and Build Numbers 
// by using the '*' as shown below:
[assembly: AssemblyVersion("1.0.0.0")]
[assembly: AssemblyFileVersion("1.0.0.0")]



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Properties\PublishProfiles\site55560-WebDeploy.pubxml
SIZE: 1.15 KB
MODIFIED: 02/17/2026 14:55:39
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<!--
This file is used by the publish/package process of your Web project. You can customize the behavior of this process
by editing this MSBuild file. In order to learn more about this please visit https://go.microsoft.com/fwlink/?LinkID=208121. 
-->
<Project>
  <PropertyGroup>
    <WebPublishMethod>MSDeploy</WebPublishMethod>
    <LastUsedBuildConfiguration>Release</LastUsedBuildConfiguration>
    <LastUsedPlatform>Any CPU</LastUsedPlatform>
    <SiteUrlToLaunchAfterPublish>http://mywebforms.runasp.net/</SiteUrlToLaunchAfterPublish>
    <LaunchSiteAfterPublish>true</LaunchSiteAfterPublish>
    <ExcludeApp_Data>false</ExcludeApp_Data>
    <MSDeployServiceURL>site55560.siteasp.net</MSDeployServiceURL>
    <DeployIisAppPath>site55560</DeployIisAppPath>
    <RemoteSitePhysicalPath />
    <SkipExtraFilesOnServer>true</SkipExtraFilesOnServer>
    <MSDeployPublishMethod>WMSVC</MSDeployPublishMethod>
    <EnableMSDeployBackup>true</EnableMSDeployBackup>
    <EnableMsDeployAppOffline>false</EnableMsDeployAppOffline>
    <UserName>site55560</UserName>
    <_SavePWD>true</_SavePWD>
  </PropertyGroup>
</Project>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Services\HackerNewsService.cs
SIZE: 9.29 KB
MODIFIED: 02/17/2026 14:04:05
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Threading.Tasks;
using System.Web;
using System.Web.Caching;
using MyWebForms.Models;
using Newtonsoft.Json;

namespace MyWebForms.Services
{
    /// <summary>
    /// Fetches data from the public Hacker News Firebase REST API v0.
    /// All public methods are virtual so they can be overridden in test fakes.
    ///
    /// Threading note: HttpClient is reused as a static instance — this is the
    /// correct pattern for .NET Framework to avoid socket exhaustion.
    ///
    /// Caching note: results are stored in HttpRuntime.Cache (the built-in
    /// ASP.NET object cache) to avoid hammering the API on every postback.
    /// Cache durations are kept short (60 s for lists, 5 min for items)
    /// so the "live" feel is preserved.
    /// </summary>
    public class HackerNewsService
    {
        private const string BaseUrl = "https://hacker-news.firebaseio.com/v0/";

        // A single shared HttpClient for the lifetime of the AppDomain.
        private static readonly HttpClient Http = CreateHttpClient();

        private static HttpClient CreateHttpClient()
        {
            var client = new HttpClient();
            client.DefaultRequestHeaders.Add(
                "User-Agent", "MyWebForms-HN-Demo/1.0");
            client.Timeout = TimeSpan.FromSeconds(10);
            return client;
        }

        // ── Story list endpoints ─────────────────────────────────────────────

        public virtual Task<List<int>> GetTopStoryIdsAsync()
            => GetIdListAsync("topstories.json", "hn_top");

        public virtual Task<List<int>> GetNewStoryIdsAsync()
            => GetIdListAsync("newstories.json", "hn_new");

        public virtual Task<List<int>> GetBestStoryIdsAsync()
            => GetIdListAsync("beststories.json", "hn_best");

        public virtual Task<List<int>> GetAskStoryIdsAsync()
            => GetIdListAsync("askstories.json", "hn_ask");

        public virtual Task<List<int>> GetShowStoryIdsAsync()
            => GetIdListAsync("showstories.json", "hn_show");

        public virtual Task<List<int>> GetJobStoryIdsAsync()
            => GetIdListAsync("jobstories.json", "hn_jobs");

        // ── Item and user fetching ───────────────────────────────────────────

        /// <summary>
        /// Fetches a single item by ID. Results are cached for 5 minutes.
        /// Returns null if the item cannot be fetched (deleted, network error, etc.).
        /// </summary>
        public virtual async Task<HackerNewsItem> GetItemAsync(int id)
        {
            var cacheKey = "hn_item_" + id;
            var cached = HttpRuntime.Cache[cacheKey] as HackerNewsItem;
            if (cached != null) return cached;

            try
            {
                var url = BaseUrl + "item/" + id + ".json";
                var json = await Http.GetStringAsync(url).ConfigureAwait(false);
                var item = JsonConvert.DeserializeObject<HackerNewsItem>(json);
                if (item != null)
                {
                    HttpRuntime.Cache.Insert(cacheKey, item, null,
                        DateTime.UtcNow.AddMinutes(5), Cache.NoSlidingExpiration);
                }
                return item;
            }
            catch
            {
                return null;
            }
        }

        /// <summary>
        /// Fetches a user profile by username.
        /// Returns null if the user is not found or there is a network error.
        /// </summary>
        public virtual async Task<HackerNewsUser> GetUserAsync(string username)
        {
            if (string.IsNullOrEmpty(username)) return null;

            var cacheKey = "hn_user_" + username;
            var cached = HttpRuntime.Cache[cacheKey] as HackerNewsUser;
            if (cached != null) return cached;

            try
            {
                var url = BaseUrl + "user/" + HttpUtility.UrlEncode(username) + ".json";
                var json = await Http.GetStringAsync(url).ConfigureAwait(false);
                var user = JsonConvert.DeserializeObject<HackerNewsUser>(json);
                if (user != null)
                {
                    HttpRuntime.Cache.Insert(cacheKey, user, null,
                        DateTime.UtcNow.AddMinutes(10), Cache.NoSlidingExpiration);
                }
                return user;
            }
            catch
            {
                return null;
            }
        }

        /// <summary>
        /// Fetches the current maximum item ID.
        /// </summary>
        public virtual async Task<int> GetMaxItemIdAsync()
        {
            const string cacheKey = "hn_maxitem";
            var cached = HttpRuntime.Cache[cacheKey];
            if (cached != null) return (int)cached;

            try
            {
                var json = await Http.GetStringAsync(BaseUrl + "maxitem.json")
                    .ConfigureAwait(false);
                var id = JsonConvert.DeserializeObject<int>(json);
                HttpRuntime.Cache.Insert(cacheKey, id, null,
                    DateTime.UtcNow.AddSeconds(30), Cache.NoSlidingExpiration);
                return id;
            }
            catch
            {
                return 0;
            }
        }

        /// <summary>
        /// Fetches a page of story items from a list of IDs.
        /// Items that fail to load (deleted, network error) are silently skipped.
        /// </summary>
        /// <param name="ids">Full ordered list of story IDs.</param>
        /// <param name="page">1-based page number.</param>
        /// <param name="pageSize">Number of items per page.</param>
        public virtual async Task<List<HackerNewsItem>> GetItemPageAsync(
            List<int> ids, int page, int pageSize)
        {
            if (ids == null || ids.Count == 0) return new List<HackerNewsItem>();

            page = Math.Max(1, page);
            var slice = ids
                .Skip((page - 1) * pageSize)
                .Take(pageSize)
                .ToList();

            // Fetch concurrently — Task.WhenAll is safe here because
            // individual failures are caught inside GetItemAsync.
            var tasks = slice.Select(id => GetItemAsync(id));
            var results = await Task.WhenAll(tasks).ConfigureAwait(false);

            return results
                .Where(item => item != null && !item.Deleted && !item.Dead)
                .ToList();
        }

        /// <summary>
        /// Recursively fetches the comment tree for an item up to a given depth.
        /// Depth 0 = top-level comments only. Each comment's Kids are loaded
        /// one level deeper up to maxDepth.
        /// </summary>
        public virtual async Task<List<HackerNewsItem>> GetCommentTreeAsync(
            HackerNewsItem parent, int maxDepth = 3)
        {
            if (parent == null || parent.Kids == null || parent.Kids.Count == 0)
                return new List<HackerNewsItem>();

            return await FetchCommentsAsync(parent.Kids, 0, maxDepth)
                .ConfigureAwait(false);
        }

        // ── Private helpers ──────────────────────────────────────────────────

        private async Task<List<int>> GetIdListAsync(string endpoint, string cacheKey)
        {
            var cached = HttpRuntime.Cache[cacheKey] as List<int>;
            if (cached != null) return cached;

            try
            {
                var json = await Http.GetStringAsync(BaseUrl + endpoint)
                    .ConfigureAwait(false);
                var ids = JsonConvert.DeserializeObject<List<int>>(json)
                          ?? new List<int>();

                HttpRuntime.Cache.Insert(cacheKey, ids, null,
                    DateTime.UtcNow.AddSeconds(60), Cache.NoSlidingExpiration);
                return ids;
            }
            catch
            {
                return new List<int>();
            }
        }

        private async Task<List<HackerNewsItem>> FetchCommentsAsync(
            List<int> kidIds, int currentDepth, int maxDepth)
        {
            var comments = new List<HackerNewsItem>();

            var tasks = kidIds.Select(id => GetItemAsync(id));
            var items = await Task.WhenAll(tasks).ConfigureAwait(false);

            foreach (var comment in items)
            {
                if (comment == null || comment.Deleted || comment.Dead) continue;
                comments.Add(comment);

                if (currentDepth < maxDepth
                    && comment.Kids != null
                    && comment.Kids.Count > 0)
                {
                    comment.Kids = comment.Kids.Take(10).ToList(); // limit breadth
                    var children = await FetchCommentsAsync(
                        comment.Kids, currentDepth + 1, maxDepth)
                        .ConfigureAwait(false);
                    // Attach children as a separate flat list associated via Parent.
                    // The HnCommentTree control handles nesting visually.
                    comments.AddRange(children);
                }
            }

            return comments;
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Site.Master
SIZE: 4.06 KB
MODIFIED: 02/17/2026 15:52:30
================================================================================

<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site.master.cs" Inherits="MyWebForms.SiteMaster" %>

<!DOCTYPE html>

<html lang="en">
<head runat="server">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%: Page.Title %> - My ASP.NET Application</title>

    <%-- Modernizr must be in <head> so feature detection runs before <body> is parsed. --%>
    <asp:PlaceHolder runat="server">
        <%: Scripts.Render("~/bundles/modernizr") %>
    </asp:PlaceHolder>

    <webopt:BundleReference runat="server" Path="~/Content/css" />
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="~/Content/animate.css/animate.min.css" rel="stylesheet" />

    <%-- Content pages may inject page-specific <link> or <meta> tags here. --%>
    <asp:ContentPlaceHolder ID="HeadContent" runat="server">
    </asp:ContentPlaceHolder>
</head>
<body>
    <form runat="server">

        <%-- ═══════════════════════════════════════════════════════════════════
             ScriptManager — owns all MS Ajax and framework script delivery.
             
             Each Name="..." attribute is resolved via ScriptResourceMapping
             (registered in BundleConfig.RegisterScriptManagerMappings).
             Without those mappings ScriptManager falls back to the embedded
             web resources in System.Web and throws:
               "Assembly does not contain a Web resource with name '...'"
             ═══════════════════════════════════════════════════════════════════ --%>
        <asp:ScriptManager runat="server">
            <Scripts>
                <asp:ScriptReference Name="MsAjaxBundle" />
                <asp:ScriptReference Name="jquery" />
                <asp:ScriptReference Name="WebForms" />
            </Scripts>
        </asp:ScriptManager>

        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-dark bg-dark border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" runat="server" href="~/">MyWebForms</a>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse"
                        data-bs-target=".navbar-collapse"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse d-sm-inline-flex justify-content-between" id="navbarCollapse">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/">Home</a></li>
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/About">About</a></li>
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/Contact">Contact</a></li>
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/HackerNews">Hacker News</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container body-content">
            <asp:ContentPlaceHolder ID="MainContent" runat="server">
            </asp:ContentPlaceHolder>
            <hr />
            <footer>
                <p>&copy; <%: DateTime.Now.Year %> - My ASP.NET Application</p>
            </footer>
        </div>

    </form>

    <%-- Bootstrap and Chart.js are loaded after </form> so they don't
         interfere with ScriptManager's script registration above. --%>
    <asp:PlaceHolder runat="server">
        <%: Scripts.Render("~/Scripts/bootstrap.js") %>
        <script src='<%= ResolveUrl("~/Scripts/lib/chartjs/chart.umd.js") %>'></script>
    </asp:PlaceHolder>
</body>
</html>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Site.Master.cs
SIZE: 326 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace MyWebForms
{
    public partial class SiteMaster : MasterPage
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ViewSwitcher.ascx
SIZE: 264 B
MODIFIED: 02/17/2026 12:40:50
================================================================================

<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="ViewSwitcher.ascx.cs" Inherits="MyWebForms.ViewSwitcher" %>
<div id="viewSwitcher">
    <%: CurrentView %> view | <a href="<%: SwitchUrl %>" data-ajax="false">Switch to <%: AlternateView %></a>
</div>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ViewSwitcher.ascx.cs
SIZE: 1.59 KB
MODIFIED: 02/17/2026 12:40:50
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Routing;
using System.Web.UI;
using System.Web.UI.WebControls;
using Microsoft.AspNet.FriendlyUrls.Resolvers;

namespace MyWebForms
{
    public partial class ViewSwitcher : System.Web.UI.UserControl
    {
        protected string CurrentView { get; private set; }

        protected string AlternateView { get; private set; }

        protected string SwitchUrl { get; private set; }

        protected void Page_Load(object sender, EventArgs e)
        {
            // Determine current view
            var isMobile = WebFormsFriendlyUrlResolver.IsMobileView(new HttpContextWrapper(Context));
            CurrentView = isMobile ? "Mobile" : "Desktop";

            // Determine alternate view
            AlternateView = isMobile ? "Desktop" : "Mobile";

            // Create switch URL from the route, e.g. ~/__FriendlyUrls_SwitchView/Mobile?ReturnUrl=/Page
            var switchViewRouteName = "AspNet.FriendlyUrls.SwitchView";
            var switchViewRoute = RouteTable.Routes[switchViewRouteName];
            if (switchViewRoute == null)
            {
                // Friendly URLs is not enabled or the name of the switch view route is out of sync
                this.Visible = false;
                return;
            }
            var url = GetRouteUrl(switchViewRouteName, new { view = AlternateView, __FriendlyUrls_SwitchViews = true });
            url += "?ReturnUrl=" + HttpUtility.UrlEncode(Request.RawUrl);
            SwitchUrl = url;
        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Web.config
SIZE: 2.44 KB
MODIFIED: 02/17/2026 14:35:56
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  https://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.8.1" />
    <httpRuntime targetFramework="4.8.1" />
    <pages>
      <namespaces>
        <add namespace="System.Web.Optimization" />
      </namespaces>
      <controls>
        <add assembly="Microsoft.AspNet.Web.Optimization.WebForms" namespace="Microsoft.AspNet.Web.Optimization.WebForms" tagPrefix="webopt" />
      </controls>
    </pages>
  </system.web>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Antlr3.Runtime" publicKeyToken="eb42632606e9261f" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.2" newVersion="3.5.0.2" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Web.Infrastructure" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-2.0.0.0" newVersion="2.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-13.0.0.0" newVersion="13.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.6.5135.21930" newVersion="1.6.5135.21930" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" compilerOptions="/langversion:default /nowarn:1659;1699;1701;612;618" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" warningLevel="4" compilerOptions="/langversion:default /nowarn:41008,40000,40008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
    </compilers>
  </system.codedom>
</configuration>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Web.Debug.config
SIZE: 1.27 KB
MODIFIED: 02/17/2026 12:40:45
================================================================================

<?xml version="1.0" encoding="utf-8"?>

<!-- For more information on using web.config transformation visit https://go.microsoft.com/fwlink/?LinkId=125889 -->

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <!--
    In the example below, the "SetAttributes" transform will change the value of 
    "connectionString" to use "ReleaseSQLServer" only when the "Match" locator 
    finds an attribute "name" that has a value of "MyDB".
    
    <connectionStrings>
      <add name="MyDB" 
        connectionString="Data Source=ReleaseSQLServer;Initial Catalog=MyReleaseDB;Integrated Security=True" 
        xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
    </connectionStrings>
  -->
  <system.web>
    <!--
      In the example below, the "Replace" transform will replace the entire 
      <customErrors> section of your web.config file.
      Note that because there is only one customErrors section under the 
      <system.web> node, there is no need to use the "xdt:Locator" attribute.
      
      <customErrors defaultRedirect="GenericError.htm"
        mode="RemoteOnly" xdt:Transform="Replace">
        <error statusCode="500" redirect="InternalError.htm"/>
      </customErrors>
    -->
  </system.web>
</configuration>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Web.Release.config
SIZE: 1.33 KB
MODIFIED: 02/17/2026 12:40:45
================================================================================

<?xml version="1.0" encoding="utf-8"?>

<!-- For more information on using web.config transformation visit https://go.microsoft.com/fwlink/?LinkId=125889 -->

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <!--
    In the example below, the "SetAttributes" transform will change the value of 
    "connectionString" to use "ReleaseSQLServer" only when the "Match" locator 
    finds an attribute "name" that has a value of "MyDB".
    
    <connectionStrings>
      <add name="MyDB" 
        connectionString="Data Source=ReleaseSQLServer;Initial Catalog=MyReleaseDB;Integrated Security=True" 
        xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
    </connectionStrings>
  -->
  <system.web>
    <compilation xdt:Transform="RemoveAttributes(debug)" />
    <!--
      In the example below, the "Replace" transform will replace the entire 
      <customErrors> section of your web.config file.
      Note that because there is only one customErrors section under the 
      <system.web> node, there is no need to use the "xdt:Locator" attribute.
      
      <customErrors defaultRedirect="GenericError.htm"
        mode="RemoteOnly" xdt:Transform="Replace">
        <error statusCode="500" redirect="InternalError.htm"/>
      </customErrors>
    -->
  </system.web>
</configuration>


===============================================================================
END OF EXPORT — 42 files, 149.47 KB total
===============================================================================
