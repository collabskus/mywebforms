===============================================================================
ASP.NET PROJECT EXPORT
Generated: 02/23/2026 10:35:47
Project Path: D:\DEV\personal\MyWebForms\MyWebForms
===============================================================================

DIRECTORY STRUCTURE:
===================

Folder PATH listing
Volume serial number is 2A9E-9DAE
D:\DEV\PERSONAL\MYWEBFORMS\MYWEBFORMS
ª   About.aspx
ª   About.aspx.cs
ª   About.aspx.designer.cs
ª   Bundle.config
ª   ChartWidget.ascx
ª   ChartWidget.ascx.cs
ª   ChartWidget.ascx.designer.cs
ª   Contact.aspx
ª   Contact.aspx.cs
ª   Contact.aspx.designer.cs
ª   Default.aspx
ª   Default.aspx.cs
ª   Default.aspx.designer.cs
ª   favicon.ico
ª   Global.asax
ª   Global.asax.cs
ª   HackerNews.aspx
ª   HackerNews.aspx.cs
ª   HackerNews.aspx.designer.cs
ª   HackerNewsEventArgs.cs
ª   HackerNewsRefresh.ashx
ª   HackerNewsRefresh.ashx.cs
ª   HnComment.ascx
ª   HnComment.ascx.cs
ª   HnComment.ascx.designer.cs
ª   HnLive.aspx
ª   HnLive.aspx.cs
ª   HnLive.aspx.designer.cs
ª   HnStoryRow.ascx
ª   HnStoryRow.ascx.cs
ª   HnStoryRow.ascx.designer.cs
ª   HnUserCard.ascx
ª   HnUserCard.ascx.cs
ª   HnUserCard.ascx.designer.cs
ª   libman.json
ª   LibraryStatusWidget.ascx
ª   LibraryStatusWidget.ascx.cs
ª   LibraryStatusWidget.ascx.designer.cs
ª   MyWebForms.csproj
ª   MyWebForms.csproj.user
ª   packages.config
ª   Site.Master
ª   Site.Master.cs
ª   Site.Master.designer.cs
ª   ViewSwitcher.ascx
ª   ViewSwitcher.ascx.cs
ª   ViewSwitcher.ascx.designer.cs
ª   Web.config
ª   Web.Debug.config
ª   Web.Release.config
ª   
+---App_Data
+---App_Start
ª       BundleConfig.cs
ª       RouteConfig.cs
ª       
+---bin
ª   ª   Antlr3.Runtime.dll
ª   ª   Antlr3.Runtime.pdb
ª   ª   Microsoft.AspNet.FriendlyUrls.dll
ª   ª   Microsoft.AspNet.FriendlyUrls.xml
ª   ª   Microsoft.AspNet.Web.Optimization.WebForms.dll
ª   ª   Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll
ª   ª   Microsoft.CodeDom.Providers.DotNetCompilerPlatform.xml
ª   ª   Microsoft.ScriptManager.MSAjax.dll
ª   ª   Microsoft.ScriptManager.WebForms.dll
ª   ª   Microsoft.Web.Infrastructure.dll
ª   ª   MyWebForms.dll
ª   ª   MyWebForms.dll.config
ª   ª   MyWebForms.pdb
ª   ª   Newtonsoft.Json.dll
ª   ª   Newtonsoft.Json.xml
ª   ª   System.IO.dll
ª   ª   System.Net.Http.dll
ª   ª   System.Runtime.dll
ª   ª   System.Security.Cryptography.Algorithms.dll
ª   ª   System.Security.Cryptography.Encoding.dll
ª   ª   System.Security.Cryptography.Primitives.dll
ª   ª   System.Security.Cryptography.X509Certificates.dll
ª   ª   System.Web.Optimization.dll
ª   ª   System.Web.Optimization.xml
ª   ª   WebGrease.dll
ª   ª   
ª   +---roslyn
ª           csc.exe
ª           csc.exe.config
ª           csc.rsp
ª           csi.exe
ª           csi.exe.config
ª           csi.rsp
ª           Microsoft.Build.Tasks.CodeAnalysis.dll
ª           Microsoft.CodeAnalysis.CSharp.dll
ª           Microsoft.CodeAnalysis.CSharp.Scripting.dll
ª           Microsoft.CodeAnalysis.dll
ª           Microsoft.CodeAnalysis.Scripting.dll
ª           Microsoft.CodeAnalysis.VisualBasic.dll
ª           Microsoft.CSharp.Core.targets
ª           Microsoft.DiaSymReader.Native.amd64.dll
ª           Microsoft.DiaSymReader.Native.x86.dll
ª           Microsoft.Managed.Core.CurrentVersions.targets
ª           Microsoft.Managed.Core.targets
ª           Microsoft.VisualBasic.Core.targets
ª           System.Buffers.dll
ª           System.Collections.Immutable.dll
ª           System.Memory.dll
ª           System.Numerics.Vectors.dll
ª           System.Reflection.Metadata.dll
ª           System.Runtime.CompilerServices.Unsafe.dll
ª           System.Text.Encoding.CodePages.dll
ª           System.Threading.Tasks.Extensions.dll
ª           vbc.exe
ª           vbc.exe.config
ª           vbc.rsp
ª           VBCSCompiler.exe
ª           VBCSCompiler.exe.config
ª           
+---Content
ª   ª   bootstrap-grid.css
ª   ª   bootstrap-grid.css.map
ª   ª   bootstrap-grid.min.css
ª   ª   bootstrap-grid.min.css.map
ª   ª   bootstrap-grid.rtl.css
ª   ª   bootstrap-grid.rtl.css.map
ª   ª   bootstrap-grid.rtl.min.css
ª   ª   bootstrap-grid.rtl.min.css.map
ª   ª   bootstrap-reboot.css
ª   ª   bootstrap-reboot.css.map
ª   ª   bootstrap-reboot.min.css
ª   ª   bootstrap-reboot.min.css.map
ª   ª   bootstrap-reboot.rtl.css
ª   ª   bootstrap-reboot.rtl.css.map
ª   ª   bootstrap-reboot.rtl.min.css
ª   ª   bootstrap-reboot.rtl.min.css.map
ª   ª   bootstrap-utilities.css
ª   ª   bootstrap-utilities.css.map
ª   ª   bootstrap-utilities.min.css
ª   ª   bootstrap-utilities.min.css.map
ª   ª   bootstrap-utilities.rtl.css
ª   ª   bootstrap-utilities.rtl.css.map
ª   ª   bootstrap-utilities.rtl.min.css
ª   ª   bootstrap-utilities.rtl.min.css.map
ª   ª   bootstrap.css
ª   ª   bootstrap.css.map
ª   ª   bootstrap.min.css
ª   ª   bootstrap.min.css.map
ª   ª   bootstrap.rtl.css
ª   ª   bootstrap.rtl.css.map
ª   ª   bootstrap.rtl.min.css
ª   ª   bootstrap.rtl.min.css.map
ª   ª   Site.css
ª   ª   
ª   +---animate.css
ª           animate.min.css
ª           
+---Models
ª       HackerNewsItem.cs
ª       HackerNewsUser.cs
ª       
+---obj
ª   +---Debug
ª   ª   ª   .NETFramework,Version=v4.8.1.AssemblyAttributes.cs
ª   ª   ª   DesignTimeResolveAssemblyReferences.cache
ª   ª   ª   DesignTimeResolveAssemblyReferencesInput.cache
ª   ª   ª   MyWebForms.csproj.AssemblyReference.cache
ª   ª   ª   MyWebForms.csproj.CoreCompileInputs.cache
ª   ª   ª   MyWebForms.csproj.FileListAbsolute.txt
ª   ª   ª   MyWebForms.csproj.Up2Date
ª   ª   ª   MyWebForms.dll
ª   ª   ª   MyWebForms.pdb
ª   ª   ª   
ª   ª   +---TempPE
ª   +---Release
ª       ª   .NETFramework,Version=v4.8.1.AssemblyAttributes.cs
ª       ª   CSAutoParameterize.parameters.xml
ª       ª   DesignTimeResolveAssemblyReferences.cache
ª       ª   DesignTimeResolveAssemblyReferencesInput.cache
ª       ª   MyWebForms.csproj.AssemblyReference.cache
ª       ª   MyWebForms.csproj.CoreCompileInputs.cache
ª       ª   MyWebForms.csproj.FileListAbsolute.txt
ª       ª   MyWebForms.dll
ª       ª   MyWebForms.pdb
ª       ª   _WPPLastBuildInfo.txt
ª       ª   
ª       +---CSAutoParameterize
ª       ª   +---original
ª       ª   ª       Web.config
ª       ª   ª       
ª       ª   +---transformed
ª       ª           Web.config
ª       ª           
ª       +---Package
ª       ª   ª   MyWebForms.SourceManifest.xml
ª       ª   ª   
ª       ª   +---PackageTmp
ª       ª       ª   About.aspx
ª       ª       ª   Bundle.config
ª       ª       ª   ChartWidget.ascx
ª       ª       ª   Contact.aspx
ª       ª       ª   Default.aspx
ª       ª       ª   favicon.ico
ª       ª       ª   Global.asax
ª       ª       ª   HackerNews.aspx
ª       ª       ª   HackerNewsRefresh.ashx
ª       ª       ª   HnComment.ascx
ª       ª       ª   HnLive.aspx
ª       ª       ª   HnStoryRow.ascx
ª       ª       ª   HnUserCard.ascx
ª       ª       ª   libman.json
ª       ª       ª   LibraryStatusWidget.ascx
ª       ª       ª   Site.Master
ª       ª       ª   ViewSwitcher.ascx
ª       ª       ª   Web.config
ª       ª       ª   
ª       ª       +---bin
ª       ª       ª   ª   Antlr3.Runtime.dll
ª       ª       ª   ª   Antlr3.Runtime.pdb
ª       ª       ª   ª   Microsoft.AspNet.FriendlyUrls.dll
ª       ª       ª   ª   Microsoft.AspNet.Web.Optimization.WebForms.dll
ª       ª       ª   ª   Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll
ª       ª       ª   ª   Microsoft.ScriptManager.MSAjax.dll
ª       ª       ª   ª   Microsoft.ScriptManager.WebForms.dll
ª       ª       ª   ª   Microsoft.Web.Infrastructure.dll
ª       ª       ª   ª   MyWebForms.dll
ª       ª       ª   ª   MyWebForms.pdb
ª       ª       ª   ª   Newtonsoft.Json.dll
ª       ª       ª   ª   System.Web.Optimization.dll
ª       ª       ª   ª   WebGrease.dll
ª       ª       ª   ª   
ª       ª       ª   +---roslyn
ª       ª       ª           csc.exe
ª       ª       ª           csc.exe.config
ª       ª       ª           csc.rsp
ª       ª       ª           csi.exe
ª       ª       ª           csi.exe.config
ª       ª       ª           csi.rsp
ª       ª       ª           Microsoft.Build.Tasks.CodeAnalysis.dll
ª       ª       ª           Microsoft.CodeAnalysis.CSharp.dll
ª       ª       ª           Microsoft.CodeAnalysis.CSharp.Scripting.dll
ª       ª       ª           Microsoft.CodeAnalysis.dll
ª       ª       ª           Microsoft.CodeAnalysis.Scripting.dll
ª       ª       ª           Microsoft.CodeAnalysis.VisualBasic.dll
ª       ª       ª           Microsoft.CSharp.Core.targets
ª       ª       ª           Microsoft.DiaSymReader.Native.amd64.dll
ª       ª       ª           Microsoft.DiaSymReader.Native.x86.dll
ª       ª       ª           Microsoft.Managed.Core.CurrentVersions.targets
ª       ª       ª           Microsoft.Managed.Core.targets
ª       ª       ª           Microsoft.VisualBasic.Core.targets
ª       ª       ª           System.Buffers.dll
ª       ª       ª           System.Collections.Immutable.dll
ª       ª       ª           System.Memory.dll
ª       ª       ª           System.Numerics.Vectors.dll
ª       ª       ª           System.Reflection.Metadata.dll
ª       ª       ª           System.Runtime.CompilerServices.Unsafe.dll
ª       ª       ª           System.Text.Encoding.CodePages.dll
ª       ª       ª           System.Threading.Tasks.Extensions.dll
ª       ª       ª           vbc.exe
ª       ª       ª           vbc.exe.config
ª       ª       ª           vbc.rsp
ª       ª       ª           VBCSCompiler.exe
ª       ª       ª           VBCSCompiler.exe.config
ª       ª       ª           
ª       ª       +---Content
ª       ª       ª   ª   bootstrap-grid.css
ª       ª       ª   ª   bootstrap-grid.css.map
ª       ª       ª   ª   bootstrap-grid.min.css
ª       ª       ª   ª   bootstrap-grid.min.css.map
ª       ª       ª   ª   bootstrap-grid.rtl.css
ª       ª       ª   ª   bootstrap-grid.rtl.css.map
ª       ª       ª   ª   bootstrap-grid.rtl.min.css
ª       ª       ª   ª   bootstrap-grid.rtl.min.css.map
ª       ª       ª   ª   bootstrap-reboot.css
ª       ª       ª   ª   bootstrap-reboot.css.map
ª       ª       ª   ª   bootstrap-reboot.min.css
ª       ª       ª   ª   bootstrap-reboot.min.css.map
ª       ª       ª   ª   bootstrap-reboot.rtl.css
ª       ª       ª   ª   bootstrap-reboot.rtl.css.map
ª       ª       ª   ª   bootstrap-reboot.rtl.min.css
ª       ª       ª   ª   bootstrap-reboot.rtl.min.css.map
ª       ª       ª   ª   bootstrap-utilities.css
ª       ª       ª   ª   bootstrap-utilities.css.map
ª       ª       ª   ª   bootstrap-utilities.min.css
ª       ª       ª   ª   bootstrap-utilities.min.css.map
ª       ª       ª   ª   bootstrap-utilities.rtl.css
ª       ª       ª   ª   bootstrap-utilities.rtl.css.map
ª       ª       ª   ª   bootstrap-utilities.rtl.min.css
ª       ª       ª   ª   bootstrap-utilities.rtl.min.css.map
ª       ª       ª   ª   bootstrap.css
ª       ª       ª   ª   bootstrap.css.map
ª       ª       ª   ª   bootstrap.min.css
ª       ª       ª   ª   bootstrap.min.css.map
ª       ª       ª   ª   bootstrap.rtl.css
ª       ª       ª   ª   bootstrap.rtl.css.map
ª       ª       ª   ª   bootstrap.rtl.min.css
ª       ª       ª   ª   bootstrap.rtl.min.css.map
ª       ª       ª   ª   Site.css
ª       ª       ª   ª   
ª       ª       ª   +---animate.css
ª       ª       ª           animate.min.css
ª       ª       ª           
ª       ª       +---Scripts
ª       ª           ª   bootstrap.bundle.js
ª       ª           ª   bootstrap.bundle.js.map
ª       ª           ª   bootstrap.bundle.min.js
ª       ª           ª   bootstrap.bundle.min.js.map
ª       ª           ª   bootstrap.esm.js
ª       ª           ª   bootstrap.esm.js.map
ª       ª           ª   bootstrap.esm.min.js
ª       ª           ª   bootstrap.esm.min.js.map
ª       ª           ª   bootstrap.js
ª       ª           ª   bootstrap.js.map
ª       ª           ª   bootstrap.min.js
ª       ª           ª   bootstrap.min.js.map
ª       ª           ª   jquery-3.7.1.js
ª       ª           ª   jquery-3.7.1.min.js
ª       ª           ª   jquery-3.7.1.min.map
ª       ª           ª   jquery-3.7.1.slim.js
ª       ª           ª   jquery-3.7.1.slim.min.js
ª       ª           ª   jquery-3.7.1.slim.min.map
ª       ª           ª   modernizr-2.8.3.js
ª       ª           ª   
ª       ª           +---lib
ª       ª           ª   +---chartjs
ª       ª           ª           chart.umd.js
ª       ª           ª           
ª       ª           +---WebForms
ª       ª               ª   DetailsView.js
ª       ª               ª   Focus.js
ª       ª               ª   GridView.js
ª       ª               ª   Menu.js
ª       ª               ª   MenuStandards.js
ª       ª               ª   SmartNav.js
ª       ª               ª   TreeView.js
ª       ª               ª   WebForms.js
ª       ª               ª   WebParts.js
ª       ª               ª   WebUIValidation.js
ª       ª               ª   
ª       ª               +---MSAjax
ª       ª                       MicrosoftAjax.js
ª       ª                       MicrosoftAjaxApplicationServices.js
ª       ª                       MicrosoftAjaxComponentModel.js
ª       ª                       MicrosoftAjaxCore.js
ª       ª                       MicrosoftAjaxGlobalization.js
ª       ª                       MicrosoftAjaxHistory.js
ª       ª                       MicrosoftAjaxNetwork.js
ª       ª                       MicrosoftAjaxSerialization.js
ª       ª                       MicrosoftAjaxTimer.js
ª       ª                       MicrosoftAjaxWebForms.js
ª       ª                       MicrosoftAjaxWebServices.js
ª       ª                       
ª       +---ProfileTransformWebConfig
ª       ª   +---transformed
ª       +---TempPE
ª       +---TransformWebConfig
ª           +---assist
ª           ª       Web.config
ª           ª       
ª           +---original
ª           ª       Web.config
ª           ª       
ª           +---transformed
ª                   Web.config
ª                   
+---Properties
ª   ª   AssemblyInfo.cs
ª   ª   
ª   +---PublishProfiles
ª           site55560-WebDeploy.pubxml
ª           site55560-WebDeploy.pubxml.user
ª           
+---Scripts
ª   ª   bootstrap.bundle.js
ª   ª   bootstrap.bundle.js.map
ª   ª   bootstrap.bundle.min.js
ª   ª   bootstrap.bundle.min.js.map
ª   ª   bootstrap.esm.js
ª   ª   bootstrap.esm.js.map
ª   ª   bootstrap.esm.min.js
ª   ª   bootstrap.esm.min.js.map
ª   ª   bootstrap.js
ª   ª   bootstrap.js.map
ª   ª   bootstrap.min.js
ª   ª   bootstrap.min.js.map
ª   ª   jquery-3.7.1.intellisense.js
ª   ª   jquery-3.7.1.js
ª   ª   jquery-3.7.1.min.js
ª   ª   jquery-3.7.1.min.map
ª   ª   jquery-3.7.1.slim.js
ª   ª   jquery-3.7.1.slim.min.js
ª   ª   jquery-3.7.1.slim.min.map
ª   ª   modernizr-2.8.3.js
ª   ª   
ª   +---lib
ª   ª   +---chartjs
ª   ª           chart.umd.js
ª   ª           
ª   +---WebForms
ª       ª   DetailsView.js
ª       ª   Focus.js
ª       ª   GridView.js
ª       ª   Menu.js
ª       ª   MenuStandards.js
ª       ª   SmartNav.js
ª       ª   TreeView.js
ª       ª   WebForms.js
ª       ª   WebParts.js
ª       ª   WebUIValidation.js
ª       ª   
ª       +---MSAjax
ª               MicrosoftAjax.js
ª               MicrosoftAjaxApplicationServices.js
ª               MicrosoftAjaxComponentModel.js
ª               MicrosoftAjaxCore.js
ª               MicrosoftAjaxGlobalization.js
ª               MicrosoftAjaxHistory.js
ª               MicrosoftAjaxNetwork.js
ª               MicrosoftAjaxSerialization.js
ª               MicrosoftAjaxTimer.js
ª               MicrosoftAjaxWebForms.js
ª               MicrosoftAjaxWebServices.js
ª               
+---Services
        HackerNewsService.cs
        



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\About.aspx
SIZE: 2.77 KB
MODIFIED: 02/17/2026 13:43:43
================================================================================

<%@ Page Title="About" Language="C#" MasterPageFile="~/Site.Master"
    AutoEventWireup="true" CodeBehind="About.aspx.cs"
    Inherits="MyWebForms.About" %>

<%@ Register Src="~/LibraryStatusWidget.ascx" TagPrefix="uc" TagName="StatusWidget" %>
<%@ Register Src="~/ChartWidget.ascx"         TagPrefix="uc" TagName="ChartWidget"  %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">
    <main class="container mt-4">

        <%-- Page heading --%>
        <div class="text-center animate__animated animate__fadeInDown mb-4">
            <h2 class="display-4"><%: Title %></h2>
            <p class="lead">System Status &amp; Library Integration Demo</p>
        </div>

        <div class="row">
            <%-- ── Left column: Chart widget ─────────────────────────────── --%>
            <div class="col-md-7">
                <%--
                    ChartWidget is configured entirely through public properties.
                    If you omit them, the control falls back to its own defaults —
                    useful to know when prototyping.
                --%>
                <uc:ChartWidget runat="server" ID="libraryChart"
                    Title="Client Library Load Strength"
                    Description="Dummy reliability scores (0–100) for the client-side libraries bundled into this project. Hit Refresh to see the server generate a new random dataset via a postback."
                    ChartType="bar" />
            </div>

            <%-- ── Right column: LibraryStatusWidget user controls ────────── --%>
            <div class="col-md-5">
                <h5 class="mb-3">Library Status</h5>

                <%--
                    LibraryStatusWidget demonstrates a different pattern: properties
                    are set declaratively as tag attributes.  The control reads them
                    in its own Page_Load and updates its child controls.
                --%>
                <uc:StatusWidget runat="server"
                    LibraryName="jQuery"
                    Version="3.7.1 (NuGet)"
                    ReliabilityScore="95" />

                <uc:StatusWidget runat="server"
                    LibraryName="Bootstrap"
                    Version="5.3.8 (NuGet)"
                    ReliabilityScore="92" />

                <uc:StatusWidget runat="server"
                    LibraryName="Chart.js"
                    Version="4.4.1 (LibMan)"
                    ReliabilityScore="88" />

                <uc:StatusWidget runat="server"
                    LibraryName="Animate.css"
                    Version="4.1.1 (LibMan)"
                    ReliabilityScore="100" />
            </div>
        </div>

    </main>
</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\About.aspx.cs
SIZE: 769 B
MODIFIED: 02/17/2026 13:43:54
================================================================================

using System;
using System.Web.UI;

namespace MyWebForms
{
    /// <summary>
    /// About page — intentionally thin code-behind.
    /// All chart logic lives in ChartWidget.ascx.cs;
    /// all status-bar logic lives in LibraryStatusWidget.ascx.cs.
    /// This page is responsible only for wiring them together.
    /// </summary>
    public partial class About : Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            // Nothing to do here: both user controls initialise themselves.
            // This empty guard is left deliberately so you can see the pattern —
            // IsPostBack checks belong in Page_Load when the page itself needs
            // to distinguish first load from postback.
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\App_Start\BundleConfig.cs
SIZE: 4.53 KB
MODIFIED: 02/17/2026 15:52:13
================================================================================

using System.Web.Optimization;
using System.Web.UI;

namespace MyWebForms
{
    public class BundleConfig
    {
        public static void RegisterBundles(BundleCollection bundles)
        {
            RegisterScriptManagerMappings();

            // ── MS Ajax bundle ──────────────────────────────────────────────
            // Order matters: MicrosoftAjax.js must load before the extension
            // scripts that depend on the Sys namespace it defines.
            bundles.Add(new ScriptBundle("~/bundles/MsAjaxJs").Include(
                "~/Scripts/WebForms/MSAjax/MicrosoftAjax.js",
                "~/Scripts/WebForms/MSAjax/MicrosoftAjaxApplicationServices.js",
                "~/Scripts/WebForms/MSAjax/MicrosoftAjaxTimer.js",
                "~/Scripts/WebForms/MSAjax/MicrosoftAjaxWebForms.js"));

            // ── WebForms helper scripts ─────────────────────────────────────
            // Provides GridView, validation, menus, etc.
            bundles.Add(new ScriptBundle("~/bundles/WebFormsJs").Include(
                "~/Scripts/WebForms/WebForms.js",
                "~/Scripts/WebForms/WebUIValidation.js",
                "~/Scripts/WebForms/MenuStandards.js",
                "~/Scripts/WebForms/Focus.js",
                "~/Scripts/WebForms/GridView.js",
                "~/Scripts/WebForms/DetailsView.js",
                "~/Scripts/WebForms/TreeView.js",
                "~/Scripts/WebForms/WebParts.js"));

            // ── Modernizr ───────────────────────────────────────────────────
            // Rendered in <head> so the browser feature-detects before the
            // page body is parsed. Keep it separate from other bundles.
            bundles.Add(new ScriptBundle("~/bundles/modernizr").Include(
                "~/Scripts/modernizr-*"));
        }

        /// <summary>
        /// Maps named script references so that <asp:ScriptManager> can resolve
        /// them to local bundle paths rather than falling back to the built-in
        /// web resources embedded in System.Web.
        ///
        /// Without these mappings ScriptManager would attempt to locate e.g.
        /// "MsAjaxBundle" as an assembly web resource (WebResourceUtil) and
        /// throw InvalidOperationException: "Assembly does not contain a Web
        /// resource with name 'ScriptManager.js'".
        /// </summary>
        private static void RegisterScriptManagerMappings()
        {
            // jquery ─────────────────────────────────────────────────────────
            // Referenced by Name="jquery" in Site.Master's ScriptManager.
            ScriptManager.ScriptResourceMapping.AddDefinition("jquery",
                new ScriptResourceDefinition
                {
                    Path = "~/Scripts/jquery-3.7.1.min.js",
                    DebugPath = "~/Scripts/jquery-3.7.1.js",
                    CdnPath = "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js",
                    CdnDebugPath = "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.js"
                });

            // MsAjaxBundle ───────────────────────────────────────────────────
            // Referenced by Name="MsAjaxBundle" in Site.Master's ScriptManager.
            // Points to the bundle registered above; ScriptManager will emit
            // a <script> tag for the bundle URL.
            ScriptManager.ScriptResourceMapping.AddDefinition("MsAjaxBundle",
                new ScriptResourceDefinition
                {
                    Path = "~/bundles/MsAjaxJs",
                    DebugPath = "~/bundles/MsAjaxJs"
                });

            // WebForms ───────────────────────────────────────────────────────
            // Referenced by Name="WebForms" in Site.Master's ScriptManager.
            ScriptManager.ScriptResourceMapping.AddDefinition("WebForms",
                new ScriptResourceDefinition
                {
                    Path = "~/bundles/WebFormsJs",
                    DebugPath = "~/bundles/WebFormsJs"
                });
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\App_Start\RouteConfig.cs
SIZE: 2.78 KB
MODIFIED: 02/17/2026 19:34:29
================================================================================

using System.Web;
using System.Web.Routing;
using Microsoft.AspNet.FriendlyUrls;

namespace MyWebForms
{
    public static class RouteConfig
    {
        public static void RegisterRoutes(RouteCollection routes)
        {
            // ── API / handler routes ──────────────────────────────────────────────
            // Register the HN background-refresh handler BEFORE FriendlyUrls
            // so it is matched first and not mistaken for a page route.
            routes.Add("HnRefresh", new Route(
                "hn-refresh",
                new HandlerRouteHandler<HackerNewsRefresh>()));

            // ── Explicit page routes (registered before FriendlyUrls) ─────────────
            // FriendlyUrls resolves HnLive.aspx → /HnLive automatically on IIS
            // Express (dev), but some shared-hosting environments (e.g. runasp.net)
            // run under IIS with a different request pipeline configuration and the
            // extensionless URL may not reach the ASP.NET handler unless an explicit
            // PageRouteHandler entry is present.
            //
            // Educational note — PageRouteHandler:
            //   System.Web.Routing.PageRouteHandler maps a route pattern to a
            //   physical .aspx file.  It is the same mechanism FriendlyUrls uses
            //   internally, but explicit registration guarantees the mapping even
            //   when the hosting pipeline does not enable extensionless URLs by
            //   default.
            routes.MapPageRoute("HnLive", "HnLive", "~/HnLive.aspx");
            routes.MapPageRoute("HackerNewsPage", "HackerNews", "~/HackerNews.aspx");

            // ── FriendlyUrls (covers everything else) ────────────────────────────
            var settings = new FriendlyUrlSettings();
            settings.AutoRedirectMode = RedirectMode.Permanent;
            routes.EnableFriendlyUrls(settings);
        }
    }

    /// <summary>
    /// Generic IRouteHandler adapter that wraps any IHttpHandler as a route.
    ///
    /// Educational note:
    ///   ASP.NET routing (System.Web.Routing) decouples URL matching from
    ///   request handling.  IRouteHandler.GetHttpHandler() is called for each
    ///   matched request and returns the IHttpHandler that will process it.
    ///   Using a generic type parameter keeps the adapter reusable for any
    ///   handler without additional plumbing.
    /// </summary>
    internal sealed class HandlerRouteHandler<T> : IRouteHandler
        where T : IHttpHandler, new()
    {
        public IHttpHandler GetHttpHandler(RequestContext requestContext)
        {
            return new T();
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Bundle.config
SIZE: 226 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

<?xml version="1.0" encoding="utf-8" ?>
<bundles version="1.0">
  <styleBundle path="~/Content/css">
    <include path="~/Content/bootstrap.css" />
    <include path="~/Content/Site.css" />
  </styleBundle>
</bundles>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ChartWidget.ascx
SIZE: 3.95 KB
MODIFIED: 02/17/2026 14:01:33
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="ChartWidget.ascx.cs"
    Inherits="MyWebForms.ChartWidget" %>

<%--
    ChartWidget.ascx
    ----------------
    A self-contained user control that renders a Chart.js bar chart.

    Educational notes
    -----------------
    - A HiddenField is the standard Web Forms idiom for passing server-computed
      values to client-side JavaScript without exposing them via visible markup.
      ViewState serialises it automatically across postbacks.
    - ClientID is used (not a hard-coded id) so the control remains safe when
      placed inside a NamingContainer (e.g. a GridView row or another control).
    - The <script> block lives here rather than in the page so the control is
      fully self-contained — it brings its own behaviour with it.
    - Chart initialisation is wrapped in $(document).ready() so that it defers
      until chart.umd.js (loaded at the bottom of Site.Master's <body>) has
      been fully parsed and executed. Without this deferral the inline script
      runs during HTML parsing and Chart is not yet defined.
--%>

<div class="card shadow mb-4">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
        <span>
            <asp:Literal ID="litTitle" runat="server" />
        </span>
        <small class="text-white-50">Chart.js via LibMan</small>
    </div>
    <div class="card-body">
        <canvas id="chartCanvas" runat="server" width="400" height="180"></canvas>

        <%-- Carrier for server-side data → client-side script --%>
        <asp:HiddenField ID="hfLabels"    runat="server" />
        <asp:HiddenField ID="hfValues"    runat="server" />
        <asp:HiddenField ID="hfColors"    runat="server" />
        <asp:HiddenField ID="hfChartType" runat="server" />

        <hr />

        <p class="mb-1">
            <asp:Label ID="lblDescription" runat="server" CssClass="text-muted small" />
        </p>

        <asp:Label ID="lblLastUpdated" runat="server" CssClass="text-success" />
        <br /><br />

        <asp:Button ID="btnRefresh" runat="server"
            Text="Refresh Data"
            CssClass="btn btn-outline-primary btn-sm"
            OnClick="btnRefresh_Click" />
    </div>
</div>

<script>
    // Wrapped in $(document).ready() so execution is deferred until the full
    // DOM — including the bottom-of-body <script> tags in Site.Master that
    // load chart.umd.js — has been parsed and run. Without this, the IIFE
    // fires during HTML parsing and Chart is undefined at that point.
    $(document).ready(function () {
        var labels = JSON.parse(document.getElementById('<%= hfLabels.ClientID %>').value);
        var values = JSON.parse(document.getElementById('<%= hfValues.ClientID %>').value);
        var colors = JSON.parse(document.getElementById('<%= hfColors.ClientID %>').value);
        var chartType = document.getElementById('<%= hfChartType.ClientID %>').value;

        var ctx = document.getElementById('<%= chartCanvas.ClientID %>').getContext('2d');

        new Chart(ctx, {
            type: chartType,
            data: {
                labels: labels,
                datasets: [{
                    label: 'Value',
                    data: values,
                    backgroundColor: colors,
                    borderColor: colors.map(function (c) {
                        // Darken each colour slightly for the border by replacing
                        // the alpha component: rgba(r,g,b,0.5) → rgba(r,g,b,1)
                        return c.replace('0.5', '1');
                    }),
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: true }
                },
                scales: {
                    y: { beginAtZero: true, max: 100 }
                }
            }
        });
    });
</script>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ChartWidget.ascx.cs
SIZE: 5.08 KB
MODIFIED: 02/17/2026 13:45:24
================================================================================

using System;
using System.Web.Script.Serialization;

namespace MyWebForms
{
    /// <summary>
    /// A reusable Chart.js bar/line/pie chart widget.
    ///
    /// Educational notes
    /// -----------------
    /// Public properties are the Web Forms equivalent of component inputs.
    /// The parent page sets them before the control's Page_Load runs, so by
    /// the time we write to the HiddenFields the values are already available.
    ///
    /// JavaScriptSerializer (System.Web.Script.Serialization) is part of the
    /// BCL for .NET Framework — no external JSON package needed for this simple
    /// serialisation task.
    /// </summary>
    public partial class ChartWidget : System.Web.UI.UserControl
    {
        // ── Configurable inputs (set by the host page) ──────────────────────

        /// <summary>Heading shown in the card header.</summary>
        public string Title { get; set; }

        /// <summary>Short description shown below the chart.</summary>
        public string Description { get; set; }

        /// <summary>
        /// Chart.js chart type string: "bar", "line", "pie", "doughnut", etc.
        /// Defaults to "bar".
        /// </summary>
        public string ChartType { get; set; }

        /// <summary>X-axis labels / pie slice labels.</summary>
        public string[] Labels { get; set; }

        /// <summary>Numeric values, one per label.</summary>
        public int[] Values { get; set; }

        /// <summary>
        /// CSS rgba() colour strings, one per data point.
        /// If null or mismatched in length, a default palette is generated.
        /// </summary>
        public string[] Colors { get; set; }

        // ── Default dummy data ───────────────────────────────────────────────

        private static readonly string[] DefaultLabels = {
            "jQuery (NuGet)", "Bootstrap (NuGet)", "Chart.js (LibMan)",
            "Animate.css (LibMan)", "Modernizr (NuGet)"
        };

        private static readonly int[] DefaultValues = { 95, 92, 88, 100, 75 };

        private static readonly string[] DefaultColors = {
            "rgba(54,  162, 235, 0.5)",
            "rgba(153, 102, 255, 0.5)",
            "rgba(255,  99, 132, 0.5)",
            "rgba( 75, 192, 192, 0.5)",
            "rgba(255, 159,  64, 0.5)"
        };

        // ── Lifecycle ────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            // Apply defaults for anything the host page did not supply.
            if (string.IsNullOrEmpty(Title)) Title = "Client Library Load Strength";
            if (string.IsNullOrEmpty(Description)) Description = "Dummy reliability scores for libraries used in this project.";
            if (string.IsNullOrEmpty(ChartType)) ChartType = "bar";
            if (Labels == null || Labels.Length == 0) Labels = DefaultLabels;
            if (Values == null || Values.Length == 0) Values = DefaultValues;
            if (Colors == null || Colors.Length == 0) Colors = DefaultColors;

            if (!IsPostBack)
            {
                BindChart(Values, "Initialized with default dummy data.");
            }

            // Always update non-data fields (safe to do on every load).
            litTitle.Text = Title;
            lblDescription.Text = Description;
        }

        protected void btnRefresh_Click(object sender, EventArgs e)
        {
            // Demonstrate server-side randomisation surviving a postback.
            var rng = new Random();
            var newValues = new int[Labels.Length];
            for (int i = 0; i < newValues.Length; i++)
                newValues[i] = rng.Next(60, 100);

            BindChart(newValues, "Data refreshed at " + DateTime.Now.ToLongTimeString());
        }

        // ── Helpers ──────────────────────────────────────────────────────────

        private void BindChart(int[] values, string statusMessage)
        {
            // Ensure the Colors array is the same length as Labels.
            var safeColors = EnsureColorLength(Colors, Labels.Length);

            var serialiser = new JavaScriptSerializer();
            hfLabels.Value = serialiser.Serialize(Labels);
            hfValues.Value = serialiser.Serialize(values);
            hfColors.Value = serialiser.Serialize(safeColors);
            hfChartType.Value = ChartType;

            lblLastUpdated.Text = statusMessage;
        }

        private static string[] EnsureColorLength(string[] colors, int requiredLength)
        {
            // Cycle through the supplied palette to match length.
            var result = new string[requiredLength];
            for (int i = 0; i < requiredLength; i++)
                result[i] = colors[i % colors.Length];
            return result;
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Contact.aspx
SIZE: 830 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

<%@ Page Title="Contact" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true" CodeBehind="Contact.aspx.cs" Inherits="MyWebForms.Contact" %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">
    <main aria-labelledby="title">
        <h2 id="title"><%: Title %>.</h2>
        <h3>Your contact page.</h3>
        <address>
            One Microsoft Way<br />
            Redmond, WA 98052-6399<br />
            <abbr title="Phone">P:</abbr>
            425.555.0100
        </address>

        <address>
            <strong>Support:</strong>   <a href="mailto:Support@example.com">Support@example.com</a><br />
            <strong>Marketing:</strong> <a href="mailto:Marketing@example.com">Marketing@example.com</a>
        </address>
    </main>
</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Contact.aspx.cs
SIZE: 317 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace MyWebForms
{
    public partial class Contact : Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Content\Site.css
SIZE: 2.80 KB
MODIFIED: 02/17/2026 15:34:20
================================================================================

/* Wrapping element */
/* Set some basic padding to keep content from hitting the edges */
.body-content {
    margin-top: 15px;
    padding-left: 15px;
    padding-right: 15px;
}

/* Set widths on the form inputs since otherwise they're 100% wide */
input,
select,
textarea {
    max-width: 280px;
}

/* Responsive: Portrait tablets and up */
@media screen and (min-width: 768px) {
    .body-content {
        padding: 0;
    }
}

/* ── Hacker News page ──────────────────────────────────────────────────── */

/* Story row hover */
.hn-story-row:hover {
    background-color: #fffaf5;
}

/* Story title link colour — matches classic HN */
.hn-title {
    color: #000 !important;
}

    .hn-title:hover {
        color: #ff6600 !important;
    }

/* Comment text inherits HN's HTML tags cleanly */
.hn-comment-text p:last-child,
.hn-story-text p:last-child {
    margin-bottom: 0;
}

.hn-comment-text pre,
.hn-story-text pre {
    background: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 4px;
    padding: .5rem;
    font-size: .78rem;
}

/* Depth connector line */
.hn-comment + .hn-comment {
    border-top: 1px solid #f0f0f0;
}

/* User about HTML passthrough */
.hn-user-about a {
    color: #555;
    word-break: break-all;
}

/* Smooth tab transitions */
.nav-link {
    transition: color .15s ease;
}

/* Poll option bar */
.hn-poll-option {
    padding: .4rem 0;
    border-bottom: 1px solid #eee;
    font-size: .85rem;
}

    .hn-poll-option:last-child {
        border-bottom: none;
    }

/* ── (append these rules to the bottom of the existing Site.css) ──────── */

/* ── Home page hero ─────────────────────────────────────────────────────── */

.home-hero {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: .75rem;
}

    .home-hero code {
        background: rgba(0,0,0,.07);
        padding: .1em .35em;
        border-radius: .25em;
        font-size: .88em;
    }

/* ── Learning goals progress bar ─────────────────────────────────────────── */

.progress {
    border-radius: 999px;
    background-color: #e9ecef;
}

/* ── Stack / goal cards ──────────────────────────────────────────────────── */

.card {
    transition: box-shadow .15s ease;
}

    .card:hover {
        box-shadow: 0 .25rem .75rem rgba(0,0,0,.1) !important;
    }




================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Default.aspx
SIZE: 7.41 KB
MODIFIED: 02/17/2026 15:46:40
================================================================================

<%@ Page Title="Home" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true"
    CodeBehind="Default.aspx.cs" Inherits="MyWebForms._Default" %>

<asp:Content ID="HeadContent" ContentPlaceHolderID="HeadContent" runat="server">
    <%-- Page-specific styles, if any --%>
</asp:Content>

<asp:Content ID="MainContent" ContentPlaceHolderID="MainContent" runat="server">

    <h1 class="mb-4">ASP.NET Web Forms — Learning Sandbox</h1>
    <p class="lead">
        This page demonstrates core Web Forms mechanics: the page lifecycle, postback
        detection, <code>ViewState</code>, <code>UpdatePanel</code> partial rendering,
        and server-driven UI updates.
    </p>

    <%-- =====================================================================
         SECTION 1: Page Lifecycle display
         lblTimestamp and lblIsPostBack are updated in Page_PreRender on every
         request so you can watch them change between full and async postbacks.
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">1 — Page Lifecycle Snapshot</div>
        <div class="card-body">
            <p class="text-muted small">
                These values are written during <code>Page_PreRender</code>, which
                fires on <em>every</em> request — initial load and postback alike.
            </p>
            <dl class="row mb-0">
                <dt class="col-sm-3">Rendered at</dt>
                <dd class="col-sm-9">
                    <asp:Label ID="lblTimestamp" runat="server" /></dd>

                <dt class="col-sm-3">IsPostBack</dt>
                <dd class="col-sm-9">
                    <asp:Label ID="lblIsPostBack" runat="server" /></dd>

                <dt class="col-sm-3">Is Async Postback</dt>
                <dd class="col-sm-9">
                    <asp:Label ID="lblIsAsync" runat="server" /></dd>
            </dl>
        </div>
    </div>

    <%-- =====================================================================
         SECTION 2: UpdatePanel — async (partial-page) postback
         The UpdatePanel wraps only the counter and progress bar.  Clicking the
         button inside it triggers a partial-page postback: only the panel's
         content is sent back by the server and swapped in by MS Ajax — the
         rest of the page DOM is untouched.
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">2 — UpdatePanel (Async Postback)</div>
        <div class="card-body">
            <p class="text-muted small">
                Click the button below. Only the counter and progress bar update —
                notice the page does <em>not</em> flash or scroll, because MS Ajax
                intercepts the postback and does a partial-page refresh.
            </p>

            <asp:UpdatePanel ID="upAsync" runat="server" UpdateMode="Conditional">
                <ContentTemplate>

                    <p>
                        Async click count:
                        <strong>
                            <asp:Label ID="lblClickCount" runat="server"
                                Text='<%# ClickCount %>' /></strong>
                    </p>

                    <%-- Progress bar width is set via progressBar.Style in PreRender
                         to avoid invalid CSS warnings in the VS designer. --%>
                    <div class="progress mb-3" style="height: 24px;">
                        <div id="progressBar" runat="server"
                            class="progress-bar progress-bar-striped progress-bar-animated"
                            role="progressbar"
                            aria-valuemin="0" aria-valuemax="100">
                            <%: ProgressPercent %>%
                        </div>
                    </div>

                    <asp:Button ID="btnAsyncClick" runat="server" Text="Click Me (Async)"
                        CssClass="btn btn-primary me-2"
                        OnClick="btnAsyncClick_Click" />

                </ContentTemplate>
            </asp:UpdatePanel>

            <asp:UpdateProgress ID="upProgress" runat="server" AssociatedUpdatePanelID="upAsync"
                DisplayAfter="200">
                <ProgressTemplate>
                    <span class="spinner-border spinner-border-sm text-primary ms-2"
                        role="status" aria-hidden="true"></span>
                    <span class="ms-1 text-muted small">Processing…</span>
                </ProgressTemplate>
            </asp:UpdateProgress>
        </div>
    </div>

    <%-- =====================================================================
         SECTION 3: Full postback
         This button lives outside any UpdatePanel so it causes a traditional
         full-page postback — the entire page lifecycle runs and every control
         re-renders.  Watch the lifecycle snapshot above update.
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">3 — Full Postback</div>
        <div class="card-body">
            <p class="text-muted small">
                This button triggers a <em>full postback</em>. The entire page
                re-renders. Notice that <code>IsPostBack</code> becomes
                <code>True</code> and the render timestamp changes above.
            </p>

            <p>
                Full postback count:
                <strong><%: FullPostbackCount %></strong>
            </p>

            <asp:Button ID="btnFullPostback" runat="server" Text="Full Postback"
                CssClass="btn btn-warning me-2"
                OnClick="btnFullPostback_Click" />

            <asp:Button ID="btnReset" runat="server" Text="Reset All"
                CssClass="btn btn-outline-secondary"
                OnClick="btnReset_Click" />
        </div>
    </div>

    <%-- =====================================================================
         SECTION 4: ViewState explainer
    ===================================================================== --%>
    <div class="card mb-4">
        <div class="card-header fw-semibold">4 — How ViewState Keeps the Counts</div>
        <div class="card-body">
            <p>
                The click counters and progress value survive every postback because they
                are stored in <strong>ViewState</strong> — a hidden field
                (<code>__VIEWSTATE</code>) that the browser posts back with each request.
                The page deserialises it at the start of the lifecycle (during
                <em>LoadViewState</em>) before your event handler runs, so the previous
                values are available when <code>ClickCount++</code> executes.
            </p>
            <p>
                Open your browser's DevTools → Network tab, submit a postback, inspect
                the form payload and look for <code>__VIEWSTATE</code> to see the
                base-64 encoded blob.
            </p>
        </div>
    </div>

    <%-- Page-specific script at the bottom of MainContent, per coding conventions.
         Nothing is needed client-side here — ScriptManager in Site.Master wires
         up MS Ajax for UpdatePanel support automatically. --%>
    <script>
        // Intentionally empty: all UpdatePanel wiring is handled by the
        // ScriptManager declared in Site.Master.
    </script>

</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Default.aspx.cs
SIZE: 4.06 KB
MODIFIED: 02/17/2026 15:41:19
================================================================================

using System;
using System.Web.UI;

namespace MyWebForms
{
    public partial class _Default : Page
    {
        // -----------------------------------------------------------------------
        // ViewState-backed properties
        // Must be 'protected' so the .aspx template can access them via <%: %>.
        // -----------------------------------------------------------------------

        /// <summary>
        /// Number of times the async "Click Me" button has been pressed.
        /// Persisted in ViewState so the value survives partial-page postbacks.
        /// </summary>
        protected int ClickCount
        {
            get { return ViewState["ClickCount"] != null ? (int)ViewState["ClickCount"] : 0; }
            set { ViewState["ClickCount"] = value; }
        }

        /// <summary>
        /// Number of full (non-async) postbacks that have occurred on this page.
        /// Persisted in ViewState.
        /// </summary>
        protected int FullPostbackCount
        {
            get { return ViewState["FullPostbackCount"] != null ? (int)ViewState["FullPostbackCount"] : 0; }
            set { ViewState["FullPostbackCount"] = value; }
        }

        /// <summary>
        /// Progress percentage (0-100) displayed in the Bootstrap progress bar.
        /// Set from code-behind so the bar width is driven server-side.
        /// </summary>
        protected int ProgressPercent
        {
            get { return ViewState["ProgressPercent"] != null ? (int)ViewState["ProgressPercent"] : 25; }
            set { ViewState["ProgressPercent"] = value; }
        }

        // -----------------------------------------------------------------------
        // Page lifecycle
        // -----------------------------------------------------------------------

        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                // First request — initialise display labels via the controls
                // declared in Default.aspx (registered in designer file).
                UpdateLifecycleDisplay();
            }
        }

        protected void Page_PreRender(object sender, EventArgs e)
        {
            // PreRender fires on every request (initial + postback).
            // Good place to push computed values to controls before rendering.
            UpdateLifecycleDisplay();

            // Drive the progress bar width from code-behind.
            // The HtmlGenericControl progressBar is declared in the designer.
            progressBar.Style["width"] = ProgressPercent.ToString() + "%";
            progressBar.Attributes["aria-valuenow"] = ProgressPercent.ToString();
        }

        // -----------------------------------------------------------------------
        // Event handlers
        // -----------------------------------------------------------------------

        /// <summary>
        /// Async postback via UpdatePanel — only the panel re-renders.
        /// </summary>
        protected void btnAsyncClick_Click(object sender, EventArgs e)
        {
            ClickCount++;

            // Advance progress bar by 15%, wrap at 100.
            ProgressPercent = Math.Min(ProgressPercent + 15, 100);
        }

        /// <summary>
        /// Full postback — entire page re-renders.
        /// </summary>
        protected void btnFullPostback_Click(object sender, EventArgs e)
        {
            FullPostbackCount++;
        }

        /// <summary>
        /// Reset all counters and progress.
        /// </summary>
        protected void btnReset_Click(object sender, EventArgs e)
        {
            ClickCount = 0;
            FullPostbackCount = 0;
            ProgressPercent = 25;
        }

        // -----------------------------------------------------------------------
        // Helpers
        // -----------------------------------------------------------------------

        private void UpdateLifecycleDisplay()
        {
            lblTimestamp.Text = DateTime.Now.ToString("HH:mm:ss.fff");
            lblIsPostBack.Text = IsPostBack.ToString();
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Global.asax
SIZE: 94 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

<%@ Application Codebehind="Global.asax.cs" Inherits="MyWebForms.Global" Language="C#" %>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Global.asax.cs
SIZE: 556 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Optimization;
using System.Web.Routing;
using System.Web.Security;
using System.Web.SessionState;

namespace MyWebForms
{
    public class Global : HttpApplication
    {
        void Application_Start(object sender, EventArgs e)
        {
            // Code that runs on application startup
            RouteConfig.RegisterRoutes(RouteTable.Routes);
            BundleConfig.RegisterBundles(BundleTable.Bundles);
        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNews.aspx
SIZE: 14.41 KB
MODIFIED: 02/17/2026 19:36:17
================================================================================

<%@ Page Title="Hacker News" Language="C#" MasterPageFile="~/Site.Master"
    AutoEventWireup="true" CodeBehind="HackerNews.aspx.cs"
    Inherits="MyWebForms.HackerNews" Async="true" %>

<%@ Register Src="~/HnStoryRow.ascx"  TagPrefix="uc" TagName="StoryRow"  %>
<%@ Register Src="~/HnComment.ascx"   TagPrefix="uc" TagName="Comment"   %>
<%@ Register Src="~/HnUserCard.ascx"  TagPrefix="uc" TagName="UserCard"  %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">

<main class="container-fluid mt-3" style="max-width:960px;">

    <%-- ══════════════════════════════════════════════════════════════
         Page header
    ════════════════════════════════════════════════════════════════════ --%>
    <div class="d-flex align-items-center mb-3 flex-wrap gap-2">
        <span class="hn-logo me-2" style="background:#ff6600;color:#fff;font-weight:bold;padding:2px 6px;font-family:monospace;">Y</span>
        <h4 class="mb-0 fw-bold">Hacker News</h4>

        <%-- LIVE badge: shown on the "new" / "active" / "rising" tabs.
             The server sets its Visible flag; the JS countdown sits next to it. --%>
        <asp:Panel ID="pnlLiveBadge" runat="server" Visible="false">
            <span class="badge bg-danger" style="font-size:.65rem;">● LIVE</span>
        </asp:Panel>
    </div>

    <%-- Hidden field: keeps the active tab name in the DOM so the JS
         refresh poller can read it without a round-trip. --%>
    <asp:HiddenField ID="hfActiveTab" runat="server" />

    <%-- ══════════════════════════════════════════════════════════════
         Tab bar
    ════════════════════════════════════════════════════════════════════ --%>
    <ul class="nav nav-underline mb-3 flex-wrap" style="border-bottom:1px solid #dee2e6;">
        <li class="nav-item">
            <asp:LinkButton ID="btnTabTop"    runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="top">Top</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabNew"    runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="new">New</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabBest"   runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="best">Best</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabAsk"    runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="ask">Ask</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabShow"   runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="show">Show</asp:LinkButton>
        </li>
        <li class="nav-item">
            <asp:LinkButton ID="btnTabJobs"   runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="jobs">Jobs</asp:LinkButton>
        </li>
        <li class="nav-item">
            <%-- Active: recently-updated items from /v0/updates.json.
                 May include comment-type items; HnStoryRow handles these specially. --%>
            <asp:LinkButton ID="btnTabActive" runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="active">
                Active <span class="badge bg-secondary ms-1" style="font-size:.6rem;">⚡</span>
            </asp:LinkButton>
        </li>
        <li class="nav-item">
            <%-- Rising: new stories filtered by minimum comments OR points.
                 Thresholds are configurable via the controls below. --%>
            <asp:LinkButton ID="btnTabRising" runat="server" CssClass="nav-link" OnClick="btnTab_Click" CommandArgument="rising">
                Rising <span class="badge bg-secondary ms-1" style="font-size:.6rem;">🔥</span>
            </asp:LinkButton>
        </li>
    </ul>

    <%-- ══════════════════════════════════════════════════════════════
         Rising tab filter controls — only visible on "rising" tab
    ════════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlRisingFilter" runat="server" Visible="false"
        CssClass="card card-body mb-3 py-2 d-flex flex-row align-items-center gap-3 flex-wrap">
        <span class="small fw-semibold text-muted">Filter new stories by:</span>

        <div class="d-flex align-items-center gap-1">
            <label class="form-label mb-0 small" for="<%= txtMinComments.ClientID %>">Min comments:</label>
            <asp:TextBox ID="txtMinComments" runat="server"
                CssClass="form-control form-control-sm"
                Style="width:70px;"
                TextMode="Number"
                Text="5" />
        </div>

        <div class="d-flex align-items-center gap-1">
            <label class="form-label mb-0 small" for="<%= txtMinPoints.ClientID %>">Min points:</label>
            <asp:TextBox ID="txtMinPoints" runat="server"
                CssClass="form-control form-control-sm"
                Style="width:70px;"
                TextMode="Number"
                Text="5" />
        </div>

        <asp:Button ID="btnApplyFilter" runat="server"
            CssClass="btn btn-sm btn-outline-warning"
            Text="Apply"
            OnClick="btnApplyFilter_Click" />

        <span class="text-muted small">
            Shows new stories where <em>comments ≥ min</em> <strong>or</strong> <em>points ≥ min</em>.
        </span>
    </asp:Panel>

    <%-- ══════════════════════════════════════════════════════════════
         Error / info message panel
    ════════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlMessage" runat="server" Visible="false"
        CssClass="alert alert-warning">
        <asp:Literal ID="litMessage" runat="server" />
    </asp:Panel>

    <%-- ══════════════════════════════════════════════════════════════
         Story list (dynamically populated)
    ════════════════════════════════════════════════════════════════════ --%>
    <asp:PlaceHolder ID="phStories" runat="server" />

    <%-- ══════════════════════════════════════════════════════════════
         Pager
    ════════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlPager" runat="server" Visible="false"
        CssClass="d-flex align-items-center gap-3 mt-3">
        <asp:LinkButton ID="btnPrev" runat="server"
            CssClass="btn btn-sm btn-outline-secondary hn-postback-link"
            OnClick="btnPrev_Click">&laquo; Prev</asp:LinkButton>
        <span class="small text-muted">
            Page <asp:Literal ID="litPage" runat="server" /> of
            <asp:Literal ID="litPageCount" runat="server" />
        </span>
        <asp:LinkButton ID="btnNext" runat="server"
            CssClass="btn btn-sm btn-outline-secondary hn-postback-link"
            OnClick="btnNext_Click">Next &raquo;</asp:LinkButton>
    </asp:Panel>

    <%-- ══════════════════════════════════════════════════════════════
         Story detail panel
    ════════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlStoryDetail" runat="server" Visible="false"
        CssClass="mt-4 animate__animated animate__fadeIn">

        <div class="d-flex justify-content-end mb-1">
            <asp:LinkButton ID="btnCloseDetail" runat="server"
                CssClass="btn btn-sm btn-outline-secondary"
                OnClick="btnCloseDetail_Click">&#10005; Close</asp:LinkButton>
        </div>

        <div class="card">
            <div class="card-body">
                <h5 class="card-title hn-title">
                    <asp:Literal ID="litDetailTitle" runat="server" />
                </h5>
                <p class="card-text hn-meta">
                    <asp:Literal ID="litDetailMeta" runat="server" />
                </p>

                <%-- Story body text (Ask HN, polls, etc.) --%>
                <asp:Panel ID="pnlDetailText" runat="server" Visible="false"
                    CssClass="hn-story-text border-top pt-2 mt-2">
                    <asp:Literal ID="litDetailText" runat="server" />
                </asp:Panel>

                <%-- Poll options --%>
                <asp:Panel ID="pnlPollOptions" runat="server" Visible="false"
                    CssClass="mt-3">
                    <h6>Poll options</h6>
                    <asp:PlaceHolder ID="phPollOptions" runat="server" />
                </asp:Panel>
            </div>
        </div>

        <%-- Comments --%>
        <div class="mt-3">
            <h6 class="text-muted small fw-semibold text-uppercase mb-2">
                <asp:Literal ID="litDetailCommentCount" runat="server" /> comments
            </h6>

            <%-- pnlCommentLoading is shown via JavaScript (see script below)
                 as soon as the user clicks "N comments", giving immediate feedback
                 during the server round-trip.  The server sets Visible=false once
                 the comments are bound and rendered. --%>
            <asp:Panel ID="pnlCommentLoading" runat="server" Visible="false"
                CssClass="text-center py-3">
                <div class="spinner-border spinner-border-sm text-warning" role="status"></div>
                <span class="ms-2 small text-muted">Loading comments…</span>
            </asp:Panel>

            <asp:PlaceHolder ID="phComments" runat="server" />
        </div>
    </asp:Panel>

    <%-- ══════════════════════════════════════════════════════════════
         User profile panel
    ════════════════════════════════════════════════════════════════════ --%>
    <asp:Panel ID="pnlUserProfile" runat="server" Visible="false"
        CssClass="animate__animated animate__fadeIn">
        <div class="d-flex justify-content-end mb-1">
            <asp:LinkButton ID="btnCloseUser" runat="server"
                CssClass="btn btn-sm btn-outline-secondary"
                OnClick="btnCloseUser_Click">&#10005; Close</asp:LinkButton>
        </div>

        <%-- Shown when the HN API returns null for the requested username --%>
        <asp:Panel ID="pnlUserNotFound" runat="server" Visible="false"
            CssClass="alert alert-warning mt-2">
            <asp:Literal ID="litUserNotFound" runat="server" />
        </asp:Panel>

        <uc:UserCard ID="ucUserCard" runat="server" />
    </asp:Panel>

</main>

<style>
    .hn-title { font-size: .95rem; }
    .hn-rank  { font-size: .85rem; }
    .hn-meta  { font-size: .78rem; }
    .hn-comment-text pre,
    .hn-comment-text code { white-space: pre-wrap; word-break: break-word; }
    .hn-story-text  pre,
    .hn-story-text  code { white-space: pre-wrap; word-break: break-word; }
    .hn-user-about a { color: inherit; }
    .hn-author-link, .hn-comments-link {
        background: none; border: none; padding: 0;
        color: inherit; text-decoration: underline dotted;
        cursor: pointer;
    }
    .nav-link.active { color: #ff6600 !important; border-bottom-color: #ff6600 !important; }
    .hn-poll-option   { padding: .4rem 0; border-bottom: 1px solid #eee; }
    /* Comment snippet shown in place of title for comment-type active items */
    .hn-comment-snippet {
        display: block;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>

<%-- Page-specific script: shows pnlCommentLoading as soon as a "comments"
     link is clicked, providing immediate visual feedback for the slow
     server-side API call.

     We can't show the server-rendered spinner before the round-trip, but we
     CAN show a client-side spinner by replacing phComments content in-place
     until the response arrives and re-renders the panel. --%>
<script>
    (function () {
        document.addEventListener('click', function (e) {
            var t = e.target;
            while (t && t !== document) {
                if (t.classList && t.classList.contains('hn-comments-link')) {
                    // Show an inline loading message inside the detail area if it
                    // is already open, so the user knows something is happening.
                    var loading = document.getElementById('<%= pnlCommentLoading.ClientID %>');
                var comments = document.getElementById('<%= phComments.ClientID %>');
                if (loading) {
                    loading.style.display = 'block';
                    loading.style.visibility = 'visible';
                }
                if (comments) comments.style.opacity = '0.3';
                break;
            }
            t = t.parentNode;
        }
    });
    }());
</script>

</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNews.aspx.cs
SIZE: 29.84 KB
MODIFIED: 02/23/2026 10:28:34
================================================================================

using System;
using System.Collections.Generic;
using System.Text;
using System.Threading.Tasks;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using MyWebForms.Models;
using MyWebForms.Services;

namespace MyWebForms
{
    /// <summary>
    /// HackerNews.aspx code-behind.
    ///
    /// Page lifecycle summary
    /// ----------------------
    /// 1. Page_Load         — restores tab/page state from ViewState.
    ///                        On postback, immediately re-creates the story-row
    ///                        controls from ViewState-cached IDs so that ASP.NET
    ///                        can route LinkButton click events (which happen
    ///                        between Load and PreRender).
    ///                        ALSO re-creates comment stubs for the same reason.
    ///                        Queues the async data load via RegisterAsyncTask.
    /// 2. [Event handlers]  — btnTab_Click, lnkComments, lnkAuthor etc. update
    ///                        ViewState before PreRenderComplete runs.
    /// 3. PreRenderComplete — fires after all async tasks complete; fully binds
    ///                        all panels with fresh API data and injects the
    ///                        background-refresh script.
    ///
    /// Dynamic control event routing — important Web Forms note
    /// ---------------------------------------------------------
    /// Controls added dynamically to a PlaceHolder only receive postback events
    /// if they exist in the control tree BEFORE the event-dispatch phase (which
    /// runs between Load and PreRender).
    ///
    /// Story rows: cache the current page's story IDs in ViewState ("ShownIds"),
    /// author names ("ShownAuthors"), and parent IDs ("ShownParentIds") — all
    /// parallel lists.  On every postback, RecreateStoryRowsForEventRouting()
    /// runs in Page_Load, adding invisible stub HnStoryRow controls with the
    /// same stable IDs (row_{storyId}).  Stubs set StubItemId, StubItemBy, and
    /// StubParentId so the click handlers fire the correct events.
    ///
    /// Comment-type items (Active tab)
    /// --------------------------------
    /// /v0/updates.json returns recently-changed item IDs which may include
    /// comments.  Comments have no Title, so we track Item.Parent in
    /// ShownParentIds.  When a user clicks "view thread" on a comment row,
    /// lnkComments fires StorySelected with the parent story ID — this loads
    /// the actual story + thread in the detail panel.
    ///
    /// Background refresh
    /// ------------------
    /// A JS IIFE polls HackerNewsRefresh.ashx on a timer and:
    ///   - Updates score spans in the DOM via data-hn-score-num (no postback).
    ///   - Triggers __doPostBack only when listChanged == true.
    ///
    /// New tabs
    /// --------
    /// "active"  — Uses the HN /v0/updates.json endpoint which returns a JSON
    ///             object { items: [...], profiles: [...] }.  The "items" array
    ///             contains IDs of recently updated items (within the last few
    ///             minutes).  This mirrors https://news.ycombinator.com/active.
    ///
    /// "rising"  — Filters the standard "new" story list by
    ///             (comments >= MinComments) OR (score >= MinPoints).
    ///             Because the HN Firebase API does not expose sorted/filtered
    ///             endpoints, we fetch the first RisingCandidates new story IDs,
    ///             load those items concurrently, then apply the filter.
    ///             Thresholds are user-configurable and persisted in ViewState.
    /// </summary>
    public partial class HackerNews : Page
    {
        // ── Constants ──────────────────────────────────────────────────────────

        private const int PageSize = 20;
        private const int MaxCommentDepth = 4;
        private const int AutoRefreshSeconds = 60;

        /// <summary>
        /// How many raw "new" story IDs to fetch and inspect when building the
        /// "rising" tab.  A larger number means better coverage but more API
        /// calls.  Cached for 60 s so repeated postbacks don't re-fetch.
        /// </summary>
        private const int RisingCandidates = 200;

        // ── Service ────────────────────────────────────────────────────────────

        private HackerNewsService _service;

        public HackerNewsService Service
        {
            get { return _service ?? (_service = new HackerNewsService()); }
            set { _service = value; }
        }

        // ── Data loaded by async tasks ─────────────────────────────────────────

        private List<HackerNewsItem> _storyPage;
        private int _totalIds;
        private HackerNewsItem _selectedStory;
        private List<HackerNewsItem> _comments;
        private List<HackerNewsItem> _pollOptions;
        private HackerNewsUser _selectedUser;

        // ── ViewState keys ─────────────────────────────────────────────────────

        private string ActiveTab
        {
            get { return ViewState["Tab"] as string ?? "top"; }
            set { ViewState["Tab"] = value; }
        }

        private int CurrentPage
        {
            get { return (int)(ViewState["Page"] ?? 1); }
            set { ViewState["Page"] = value; }
        }

        private int SelectedItemId
        {
            get { return (int)(ViewState["SelItem"] ?? 0); }
            set { ViewState["SelItem"] = value; }
        }

        private string SelectedUsername
        {
            get { return ViewState["SelUser"] as string; }
            set { ViewState["SelUser"] = value; }
        }

        /// <summary>
        /// Minimum comment count threshold for the "rising" tab.
        /// Persisted in ViewState so the user's choice survives postbacks.
        /// </summary>
        private int MinComments
        {
            get { return (int)(ViewState["MinComments"] ?? 5); }
            set { ViewState["MinComments"] = value; }
        }

        /// <summary>
        /// Minimum score threshold for the "rising" tab.
        /// Persisted in ViewState so the user's choice survives postbacks.
        /// </summary>
        private int MinPoints
        {
            get { return (int)(ViewState["MinPoints"] ?? 5); }
            set { ViewState["MinPoints"] = value; }
        }

        /// <summary>
        /// IDs of the story items currently shown on the page.
        /// Parallel to ShownAuthors and ShownParentIds — same index = same item.
        /// </summary>
        private List<int> ShownIds
        {
            get { return ViewState["ShownIds"] as List<int> ?? new List<int>(); }
            set { ViewState["ShownIds"] = value; }
        }

        /// <summary>
        /// Author names for each item currently shown on the page.
        /// Parallel to ShownIds — ShownAuthors[i] is the author of ShownIds[i].
        /// Needed so event-routing stubs can fire AuthorSelected with the correct
        /// username even though the stubs carry no HackerNewsItem.
        /// </summary>
        private List<string> ShownAuthors
        {
            get { return ViewState["ShownAuthors"] as List<string> ?? new List<string>(); }
            set { ViewState["ShownAuthors"] = value; }
        }

        /// <summary>
        /// Parent IDs for each item currently shown on the page.
        /// Non-zero only for comment-type items (Active tab).
        /// Parallel to ShownIds — ShownParentIds[i] is the parent of ShownIds[i].
        /// When non-zero, lnkComments fires StorySelected with this parent ID
        /// so the detail panel loads the owning story rather than the comment.
        /// </summary>
        private List<int> ShownParentIds
        {
            get { return ViewState["ShownParentIds"] as List<int> ?? new List<int>(); }
            set { ViewState["ShownParentIds"] = value; }
        }

        /// <summary>
        /// Minimal comment data needed to recreate event-routing stub controls.
        /// Format: [ [commentId, parentId], ... ]
        /// Author names stored separately in ShownCommentAuthors (same index)
        /// because ViewState only reliably round-trips primitive arrays.
        /// </summary>
        private List<int[]> ShownCommentMeta
        {
            get { return ViewState["ShownCommentMeta"] as List<int[]> ?? new List<int[]>(); }
            set { ViewState["ShownCommentMeta"] = value; }
        }

        /// <summary>
        /// Author names parallel to ShownCommentMeta (same index).
        /// </summary>
        private List<string> ShownCommentAuthors
        {
            get { return ViewState["ShownCommentAuthors"] as List<string> ?? new List<string>(); }
            set { ViewState["ShownCommentAuthors"] = value; }
        }

        // ── Page lifecycle ─────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                ActiveTab = "top";
                CurrentPage = 1;

                // Sync filter textboxes with ViewState defaults on first load.
                txtMinComments.Text = MinComments.ToString();
                txtMinPoints.Text = MinPoints.ToString();
            }
            else
            {
                // Recreate story-row stubs so ASP.NET can route click events
                // before the async data tasks have completed.
                RecreateStoryRowsForEventRouting();

                // Recreate comment stubs for the same reason.
                if (SelectedItemId > 0)
                    RecreateCommentStubsForEventRouting();
            }

            hfActiveTab.Value = ActiveTab;
            RegisterAsyncTask(new PageAsyncTask(LoadDataAsync));
        }

        /// <summary>
        /// Adds invisible HnStoryRow stubs to phStories using IDs cached in
        /// ShownIds, author names from ShownAuthors, and parent IDs from
        /// ShownParentIds.
        ///
        /// Stubs set StubItemId, StubItemBy, and StubParentId instead of Item,
        /// so the click handlers on HnStoryRow can fire the correct events even
        /// though Item == null (and the control renders nothing — Visible = false).
        /// </summary>
        private void RecreateStoryRowsForEventRouting()
        {
            phStories.Controls.Clear();
            var ids = ShownIds;
            var authors = ShownAuthors;
            var parentIds = ShownParentIds;
            int startRank = (CurrentPage - 1) * PageSize + 1;

            for (int i = 0; i < ids.Count; i++)
            {
                var row = (HnStoryRow)LoadControl("~/HnStoryRow.ascx");
                row.ID = "row_" + ids[i];
                row.Item = null;   // Stub — renders nothing
                row.Rank = startRank + i;
                row.StubItemId = ids[i];
                row.StubItemBy = i < authors.Count ? authors[i] : string.Empty;
                row.StubParentId = i < parentIds.Count ? parentIds[i] : 0;
                row.StorySelected += OnStorySelected;
                row.AuthorSelected += OnAuthorSelected;
                phStories.Controls.Add(row);
            }
        }

        /// <summary>
        /// Adds invisible HnComment stubs to phComments using data cached in
        /// ShownCommentMeta / ShownCommentAuthors.  Each stub has a minimal
        /// HackerNewsItem set so lnkAuthor_Click can read Item.By.
        /// The IDs must exactly match those assigned in RenderCommentTree so
        /// ASP.NET's event-routing finds the correct control.
        /// </summary>
        private void RecreateCommentStubsForEventRouting()
        {
            phComments.Controls.Clear();
            var meta = ShownCommentMeta;
            var authors = ShownCommentAuthors;

            for (int i = 0; i < meta.Count; i++)
            {
                int commentId = meta[i][0];
                int parentId = meta[i][1];
                string by = i < authors.Count ? authors[i] : string.Empty;

                var stub = (HnComment)LoadControl("~/HnComment.ascx");
                stub.ID = "cmt_" + commentId;   // must match RenderCommentTree
                stub.Item = new HackerNewsItem
                {
                    Id = commentId,
                    By = by,
                    Parent = parentId
                };
                stub.Depth = 0;
                stub.AuthorSelected += OnAuthorSelected;
                stub.Visible = false;
                phComments.Controls.Add(stub);
            }
        }

        private async Task LoadDataAsync()
        {
            var ids = await GetIdsForTabAsync(ActiveTab).ConfigureAwait(false);
            _totalIds = ids.Count;
            _storyPage = await Service.GetItemPageAsync(ids, CurrentPage, PageSize)
                             .ConfigureAwait(false);

            if (SelectedItemId > 0)
            {
                _selectedStory = await Service.GetItemAsync(SelectedItemId)
                                     .ConfigureAwait(false);

                // If the selected item is itself a comment (clicked "view thread"
                // from the Active tab — should not normally happen because
                // lnkComments_Click resolves to the parent — but guard anyway),
                // navigate up to the parent story.
                if (_selectedStory != null && _selectedStory.IsComment
                    && _selectedStory.Parent.HasValue && _selectedStory.Parent.Value > 0)
                {
                    _selectedStory = await Service.GetItemAsync(_selectedStory.Parent.Value)
                                         .ConfigureAwait(false);
                }

                if (_selectedStory != null)
                {
                    _comments = await Service.GetCommentTreeAsync(
                        _selectedStory, MaxCommentDepth).ConfigureAwait(false);

                    if (_selectedStory.IsPoll && _selectedStory.Parts != null)
                    {
                        _pollOptions = new List<HackerNewsItem>();
                        foreach (var partId in _selectedStory.Parts)
                        {
                            var opt = await Service.GetItemAsync(partId)
                                          .ConfigureAwait(false);
                            if (opt != null) _pollOptions.Add(opt);
                        }
                    }
                }
            }

            if (!string.IsNullOrEmpty(SelectedUsername))
            {
                _selectedUser = await Service.GetUserAsync(SelectedUsername)
                                    .ConfigureAwait(false);
            }
        }

        protected override void OnPreRenderComplete(EventArgs e)
        {
            base.OnPreRenderComplete(e);

            HighlightActiveTab();

            // Show the Rising filter controls only on the "rising" tab.
            pnlRisingFilter.Visible = (ActiveTab == "rising");

            BindStoryList();
            BindDetailPanel();
            BindUserPanel();
            BindPager();
            InjectRefreshScript();
        }

        // ── Tab / filter clicks ────────────────────────────────────────────────

        protected void btnTab_Click(object sender, EventArgs e)
        {
            var btn = (LinkButton)sender;
            ActiveTab = btn.CommandArgument;
            CurrentPage = 1;
        }

        protected void btnApplyFilter_Click(object sender, EventArgs e)
        {
            int mc, mp;
            if (int.TryParse(txtMinComments.Text, out mc) && mc >= 0) MinComments = mc;
            if (int.TryParse(txtMinPoints.Text, out mp) && mp >= 0) MinPoints = mp;
            CurrentPage = 1;
        }

        // ── Pager clicks ───────────────────────────────────────────────────────

        protected void btnPrev_Click(object sender, EventArgs e)
        {
            if (CurrentPage > 1) CurrentPage--;
        }

        protected void btnNext_Click(object sender, EventArgs e)
        {
            var pageCount = (int)Math.Ceiling((double)_totalIds / PageSize);
            if (CurrentPage < pageCount) CurrentPage++;
        }

        // ── Detail / user panel close ──────────────────────────────────────────

        protected void btnCloseDetail_Click(object sender, EventArgs e)
        {
            SelectedItemId = 0;
            ShownCommentMeta = new List<int[]>();
            ShownCommentAuthors = new List<string>();
        }

        protected void btnCloseUser_Click(object sender, EventArgs e)
        {
            SelectedUsername = null;
        }

        // ── Bubble-up event handlers ───────────────────────────────────────────

        private void OnStorySelected(object sender, StorySelectedEventArgs e)
        {
            SelectedItemId = e.ItemId;
            SelectedUsername = null;
        }

        private void OnAuthorSelected(object sender, AuthorSelectedEventArgs e)
        {
            SelectedUsername = e.Username;
            SelectedItemId = 0;
        }

        // ── API tab → ID list routing ──────────────────────────────────────────

        private async Task<List<int>> GetIdsForTabAsync(string tab)
        {
            switch (tab)
            {
                case "new": return await Service.GetNewStoryIdsAsync().ConfigureAwait(false);
                case "best": return await Service.GetBestStoryIdsAsync().ConfigureAwait(false);
                case "ask": return await Service.GetAskStoryIdsAsync().ConfigureAwait(false);
                case "show": return await Service.GetShowStoryIdsAsync().ConfigureAwait(false);
                case "jobs": return await Service.GetJobStoryIdsAsync().ConfigureAwait(false);
                case "active": return await Service.GetActiveItemIdsAsync().ConfigureAwait(false);
                case "rising":
                    return await Service.GetRisingStoryIdsAsync(
                                   MinComments, MinPoints, RisingCandidates).ConfigureAwait(false);
                default: return await Service.GetTopStoryIdsAsync().ConfigureAwait(false);
            }
        }

        // ── Binding helpers ────────────────────────────────────────────────────

        private void BindStoryList()
        {
            phStories.Controls.Clear();

            if (_storyPage == null || _storyPage.Count == 0)
            {
                litMessage.Text = "No stories found. " +
                    "The API may be temporarily unavailable.";
                pnlMessage.Visible = true;
                ShownIds = new List<int>();
                ShownAuthors = new List<string>();
                ShownParentIds = new List<int>();
                return;
            }

            pnlMessage.Visible = false;

            var newShownIds = new List<int>();
            var newShownAuthors = new List<string>();
            var newShownParentIds = new List<int>();

            int startRank = (CurrentPage - 1) * PageSize + 1;
            for (int i = 0; i < _storyPage.Count; i++)
            {
                var item = _storyPage[i];
                newShownIds.Add(item.Id);
                newShownAuthors.Add(item.By ?? string.Empty);
                // Track parent ID for comment-type items so stubs can resolve
                // "view thread" clicks to the correct parent story.
                newShownParentIds.Add(item.IsComment && item.Parent.HasValue
                    ? item.Parent.Value : 0);

                var row = (HnStoryRow)LoadControl("~/HnStoryRow.ascx");
                row.ID = "row_" + item.Id;  // stable ID — must match RecreateStoryRowsForEventRouting
                row.Item = item;
                row.Rank = startRank + i;
                row.StorySelected += OnStorySelected;
                row.AuthorSelected += OnAuthorSelected;
                phStories.Controls.Add(row);
            }

            ShownIds = newShownIds;
            ShownAuthors = newShownAuthors;
            ShownParentIds = newShownParentIds;
        }

        private void BindDetailPanel()
        {
            if (SelectedItemId == 0 || _selectedStory == null)
            {
                pnlStoryDetail.Visible = false;
                return;
            }

            pnlStoryDetail.Visible = true;

            litDetailTitle.Text = System.Web.HttpUtility.HtmlEncode(
                _selectedStory.Title ?? "(untitled)");

            litDetailMeta.Text = string.Format(
                "{0} points by <strong>{1}</strong> &nbsp;|&nbsp; {2} &nbsp;|&nbsp; {3} comments",
                _selectedStory.Score,
                System.Web.HttpUtility.HtmlEncode(_selectedStory.By ?? "[deleted]"),
                _selectedStory.TimeAgo,
                _selectedStory.Descendants);

            if (!string.IsNullOrEmpty(_selectedStory.Text))
            {
                litDetailText.Text = _selectedStory.Text;
                pnlDetailText.Visible = true;
            }
            else
            {
                pnlDetailText.Visible = false;
            }

            if (_pollOptions != null && _pollOptions.Count > 0)
            {
                phPollOptions.Controls.Clear();
                foreach (var opt in _pollOptions)
                {
                    var div = new HtmlGenericControl("div");
                    div.Attributes["class"] = "hn-poll-option";
                    div.InnerHtml = string.Format(
                        "<strong>{0}</strong> &mdash; {1} pts",
                        System.Web.HttpUtility.HtmlEncode(opt.Title ?? string.Empty),
                        opt.Score);
                    phPollOptions.Controls.Add(div);
                }
                pnlPollOptions.Visible = true;
            }
            else
            {
                pnlPollOptions.Visible = false;
            }

            litDetailCommentCount.Text = _selectedStory.Descendants.ToString();
            phComments.Controls.Clear();
            pnlCommentLoading.Visible = false;

            if (_comments == null || _comments.Count == 0)
            {
                var noComments = new HtmlGenericControl("p");
                noComments.Attributes["class"] = "text-muted small";
                noComments.InnerText = "No comments yet.";
                phComments.Controls.Add(noComments);

                ShownCommentMeta = new List<int[]>();
                ShownCommentAuthors = new List<string>();
            }
            else
            {
                var newMeta = new List<int[]>();
                var newAuthors = new List<string>();
                RenderCommentTree(_comments, _selectedStory.Id, 0, newMeta, newAuthors);
                ShownCommentMeta = newMeta;
                ShownCommentAuthors = newAuthors;
            }
        }

        /// <summary>
        /// Recursively renders the comment tree into phComments and simultaneously
        /// populates the stub-cache lists so the next postback can recreate invisible
        /// routing stubs without re-fetching data.
        ///
        /// newMeta and newAuthors are always appended together so their indices
        /// stay in sync.  Every HN comment has a Parent set by the API, so
        /// comment.Parent is treated as non-null here; if it ever is null
        /// (malformed API response) we default to 0 to avoid a crash.
        /// </summary>
        private void RenderCommentTree(
            List<HackerNewsItem> comments,
            int parentId,
            int depth,
            List<int[]> newMeta,
            List<string> newAuthors)
        {
            foreach (var comment in comments)
            {
                if (comment.Parent != parentId) continue;

                var ctrl = (HnComment)LoadControl("~/HnComment.ascx");
                ctrl.ID = "cmt_" + comment.Id;   // must match RecreateCommentStubsForEventRouting
                ctrl.Item = comment;
                ctrl.Depth = depth;
                ctrl.AuthorSelected += OnAuthorSelected;
                phComments.Controls.Add(ctrl);

                newMeta.Add(new int[] { comment.Id, comment.Parent ?? 0 });
                newAuthors.Add(comment.By ?? string.Empty);

                if (depth < MaxCommentDepth)
                    RenderCommentTree(comments, comment.Id, depth + 1, newMeta, newAuthors);
            }
        }

        // ────────────────────────────────────────────────────────────────────────────
        // PATCH for HackerNews.aspx.cs
        // Replace the existing BindUserPanel() method with this version.
        // The only change is adding ucUserCard.BindData() after setting .User,
        // and calling it with null to ensure proper hide/show behavior.
        // ────────────────────────────────────────────────────────────────────────────

        private void BindUserPanel()
        {
            if (string.IsNullOrEmpty(SelectedUsername))
            {
                pnlUserProfile.Visible = false;
                return;
            }

            pnlUserProfile.Visible = true;

            if (_selectedUser == null)
            {
                // User not found or API error — show a friendly message instead
                // of leaving the panel blank.
                ucUserCard.User = null;
                ucUserCard.BindData();   // ← NEW: explicitly bind (hides the card)
                litUserNotFound.Text = string.Format(
                    "Could not load profile for <strong>{0}</strong>. " +
                    "The user may not exist or the HN API may be temporarily unavailable.",
                    System.Web.HttpUtility.HtmlEncode(SelectedUsername));
                pnlUserNotFound.Visible = true;
            }
            else
            {
                ucUserCard.User = _selectedUser;
                ucUserCard.BindData();   // ← NEW: explicitly bind (populates the card)
                pnlUserNotFound.Visible = false;
            }
        }

        private void BindPager()
        {
            var pageCount = _totalIds > 0
                ? (int)Math.Ceiling((double)_totalIds / PageSize)
                : 1;

            litPage.Text = CurrentPage.ToString();
            litPageCount.Text = pageCount.ToString();
            btnPrev.Enabled = CurrentPage > 1;
            btnNext.Enabled = CurrentPage < pageCount;
            pnlPager.Visible = pageCount > 1;
        }

        private void HighlightActiveTab()
        {
            foreach (var btn in new[] { btnTabTop, btnTabNew, btnTabBest,
                                        btnTabAsk, btnTabShow, btnTabJobs,
                                        btnTabActive, btnTabRising })
            {
                btn.CssClass = "nav-link";
            }

            switch (ActiveTab)
            {
                case "top": btnTabTop.CssClass = "nav-link active"; break;
                case "new": btnTabNew.CssClass = "nav-link active"; break;
                case "best": btnTabBest.CssClass = "nav-link active"; break;
                case "ask": btnTabAsk.CssClass = "nav-link active"; break;
                case "show": btnTabShow.CssClass = "nav-link active"; break;
                case "jobs": btnTabJobs.CssClass = "nav-link active"; break;
                case "active": btnTabActive.CssClass = "nav-link active"; break;
                case "rising": btnTabRising.CssClass = "nav-link active"; break;
            }
        }

        private void InjectRefreshScript()
        {
            // Inject the background auto-refresh IIFE.
            // It polls HackerNewsRefresh.ashx every AutoRefreshSeconds seconds,
            // updates score spans in-place, and triggers __doPostBack only when
            // the story list has actually changed.
            var refreshUrl = ResolveUrl("~/hn-refresh") + "?tab=" + ActiveTab;
            var sb = new StringBuilder();
            sb.Append("(function(){");
            sb.AppendFormat("var TAB='{0}',URL='{1}',INTERVAL={2}000;",
                ActiveTab, refreshUrl, AutoRefreshSeconds);
            sb.Append(@"
function poll(){
    var xhr=new XMLHttpRequest();
    xhr.open('GET',URL+'&_='+Date.now(),true);
    xhr.onload=function(){
        if(xhr.status!==200)return;
        try{
            var d=JSON.parse(xhr.responseText);
            if(d.scores){
                Object.keys(d.scores).forEach(function(id){
                    var el=document.querySelector('[data-hn-score-num=""'+id+'""]');
                    if(el)el.textContent=d.scores[id]+' pts';
                });
            }
            if(d.listChanged){
                var hf=document.getElementById('" + hfActiveTab.ClientID + @"');
                if(hf&&hf.value===TAB)__doPostBack('','');
            }
        }catch(ex){}
    };
    xhr.send();
}
setTimeout(function loop(){poll();setTimeout(loop,INTERVAL);},INTERVAL);
}());");
            ScriptManager.RegisterStartupScript(this, GetType(),
                "hnRefresh", sb.ToString(), true);
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNewsEventArgs.cs
SIZE: 1017 B
MODIFIED: 02/17/2026 14:38:53
================================================================================

using System;

namespace MyWebForms
{
    /// <summary>
    /// Carries the HN item ID when a user clicks the "N comments" link on a
    /// story row, causing the host page to load the story detail panel.
    /// </summary>
    public sealed class StorySelectedEventArgs : EventArgs
    {
        /// <summary>The HN item ID of the selected story.</summary>
        public int ItemId { get; private set; }

        public StorySelectedEventArgs(int itemId)
        {
            ItemId = itemId;
        }
    }

    /// <summary>
    /// Carries the HN username when a user clicks an author link on a story
    /// row or comment, causing the host page to load the user profile panel.
    /// </summary>
    public sealed class AuthorSelectedEventArgs : EventArgs
    {
        /// <summary>The HN username of the selected author.</summary>
        public string Username { get; private set; }

        public AuthorSelectedEventArgs(string username)
        {
            Username = username;
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNewsRefresh.ashx
SIZE: 109 B
MODIFIED: 02/17/2026 14:32:02
================================================================================

<%@ WebHandler Language="C#" CodeBehind="HackerNewsRefresh.ashx.cs" Class="MyWebForms.HackerNewsRefresh" %>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HackerNewsRefresh.ashx.cs
SIZE: 6.29 KB
MODIFIED: 02/17/2026 18:16:04
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Web;
using MyWebForms.Services;
using Newtonsoft.Json;

namespace MyWebForms
{
    /// <summary>
    /// HTTP handler that returns a lightweight JSON snapshot of the current
    /// story list for a given HN tab.  The client polls this endpoint on a
    /// timer and compares scores against what is already rendered — updating
    /// scores in-place and only triggering a full postback when the set of
    /// story IDs has actually changed.
    ///
    /// Educational notes — HttpHandler pattern
    /// ----------------------------------------
    /// IHttpAsyncHandler lets us do async I/O (HN API calls) without blocking
    /// a thread-pool thread for the duration of the network wait.  We implement
    /// it via a Task-based adapter: BeginProcessRequest starts the Task and
    /// returns an IAsyncResult; EndProcessRequest is called by ASP.NET when
    /// the Task completes.
    ///
    /// IsReusable = true is safe here because we have no per-request instance
    /// state (everything is in local variables of ProcessRequestAsync).
    ///
    /// Route: registered via RouteConfig so the URL is /hn-refresh
    /// Query params:
    ///   tab       — one of top|new|best|ask|show|jobs|active|rising (default: top)
    ///   ids       — comma-separated list of item IDs currently shown on the page
    ///   minc      — minimum comments threshold (for "rising" tab, default 5)
    ///   minp      — minimum points threshold (for "rising" tab, default 5)
    /// </summary>
    public class HackerNewsRefresh : HttpTaskAsyncHandler
    {
        // Only fetch scores for the IDs the client already has on screen.
        // Cap at 30 to keep the response fast.
        private const int MaxScoreFetch = 30;

        // Candidates to scan when building the "rising" list for comparison.
        private const int RisingCandidates = 200;

        public override bool IsReusable { get { return true; } }

        public override async Task ProcessRequestAsync(HttpContext context)
        {
            context.Response.ContentType = "application/json";
            context.Response.Cache.SetCacheability(HttpCacheability.NoCache);

            var tab    = context.Request.QueryString["tab"]  ?? "top";
            var rawIds = context.Request.QueryString["ids"]  ?? string.Empty;

            // Parse rising-tab thresholds passed by the auto-refresh script.
            int minC, minP;
            if (!int.TryParse(context.Request.QueryString["minc"], out minC)) minC = 5;
            if (!int.TryParse(context.Request.QueryString["minp"], out minP)) minP = 5;

            var service = new HackerNewsService();

            try
            {
                // 1. Fetch the current list of IDs for this tab.
                var currentIds = await GetIdsForTabAsync(service, tab, minC, minP)
                    .ConfigureAwait(false);

                // Take the first page worth for comparison.
                var firstPageIds = currentIds.Take(20).ToList();

                // 2. Parse the IDs the client says it is currently showing.
                var clientIds = ParseIds(rawIds);

                // 3. Decide whether the story list has changed.
                var listChanged = !firstPageIds.SequenceEqual(clientIds);

                // 4. Fetch scores for whichever IDs the client has on screen,
                //    capped to avoid hammering the API.
                var scoreIds = clientIds.Count > 0 ? clientIds : firstPageIds;
                scoreIds = scoreIds.Take(MaxScoreFetch).ToList();

                var scores = new Dictionary<int, int>();
                var tasks  = scoreIds.Select(id => service.GetItemAsync(id));
                var items  = await Task.WhenAll(tasks).ConfigureAwait(false);
                foreach (var item in items)
                {
                    if (item != null)
                        scores[item.Id] = item.Score;
                }

                var result = new RefreshResult
                {
                    ListChanged = listChanged,
                    Scores      = scores
                };

                context.Response.Write(JsonConvert.SerializeObject(result));
            }
            catch (Exception ex)
            {
                var error = new { error = ex.Message };
                context.Response.StatusCode = 500;
                context.Response.Write(JsonConvert.SerializeObject(error));
            }
        }

        // ── Helpers ──────────────────────────────────────────────────────────

        private static Task<List<int>> GetIdsForTabAsync(
            HackerNewsService svc, string tab, int minC, int minP)
        {
            switch (tab)
            {
                case "new":    return svc.GetNewStoryIdsAsync();
                case "best":   return svc.GetBestStoryIdsAsync();
                case "ask":    return svc.GetAskStoryIdsAsync();
                case "show":   return svc.GetShowStoryIdsAsync();
                case "jobs":   return svc.GetJobStoryIdsAsync();
                case "active": return svc.GetActiveItemIdsAsync();
                case "rising": return svc.GetRisingStoryIdsAsync(minC, minP, RisingCandidates);
                default:       return svc.GetTopStoryIdsAsync();
            }
        }

        private static List<int> ParseIds(string raw)
        {
            var result = new List<int>();
            if (string.IsNullOrWhiteSpace(raw)) return result;
            foreach (var part in raw.Split(','))
            {
                int id;
                if (int.TryParse(part.Trim(), out id))
                    result.Add(id);
            }
            return result;
        }

        // ── Response DTO ──────────────────────────────────────────────────────

        private class RefreshResult
        {
            [JsonProperty("listChanged")]
            public bool ListChanged { get; set; }

            /// <summary>Map of storyId → current score.</summary>
            [JsonProperty("scores")]
            public Dictionary<int, int> Scores { get; set; }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnComment.ascx
SIZE: 1.29 KB
MODIFIED: 02/17/2026 14:13:28
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="HnComment.ascx.cs"
    Inherits="MyWebForms.HnComment" %>

<%--
    HnComment.ascx
    --------------
    Renders a single comment with visual depth indentation.
    The Depth property controls the left-margin indent level.
    HTML from the API is rendered as-is (it is already escaped by HN).

    The API returns comment text as HTML (with <p>, <pre>, <code>, <a> tags).
    We render it with <%# %> eval inside a Literal so it is output verbatim —
    this is intentional and safe because the source is the HN API, not
    user-supplied input arriving at our server.
--%>

<div class="hn-comment" style="margin-left: <%= DepthPx %>px;">
    <div class="card border-0 bg-light mb-2">
        <div class="card-body py-2 px-3">
            <div class="small text-muted mb-1">
                <asp:LinkButton ID="lnkAuthor" runat="server"
                    CssClass="fw-semibold text-secondary hn-author-link"
                    OnClick="lnkAuthor_Click" />
                &nbsp;&middot;&nbsp;
                <asp:Literal ID="litTimeAgo" runat="server" />
            </div>
            <div class="hn-comment-text small">
                <asp:Literal ID="litText" runat="server" Mode="PassThrough" />
            </div>
        </div>
    </div>
</div>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnComment.ascx.cs
SIZE: 2.26 KB
MODIFIED: 02/17/2026 14:13:33
================================================================================

using System;
using MyWebForms.Models;

namespace MyWebForms
{
    /// <summary>
    /// Code-behind for HnComment.ascx.
    /// Renders a single flat comment; the host page is responsible for
    /// rendering the full tree by creating one control per comment and
    /// setting the Depth property to control visual indentation.
    /// </summary>
    public partial class HnComment : System.Web.UI.UserControl
    {
        // ── Inputs ───────────────────────────────────────────────────────────

        public HackerNewsItem Item { get; set; }

        /// <summary>
        /// Visual nesting depth (0 = top-level).
        /// Each depth level adds 20 px of left margin.
        /// </summary>
        public int Depth { get; set; }

        // ── Derived ──────────────────────────────────────────────────────────

        protected int DepthPx { get { return Depth * 20; } }

        // ── Bubbled events ───────────────────────────────────────────────────

        public event EventHandler<AuthorSelectedEventArgs> AuthorSelected;

        // ── Lifecycle ────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (Item == null)
            {
                Visible = false;
                return;
            }

            lnkAuthor.Text = System.Web.HttpUtility.HtmlEncode(Item.By ?? "[deleted]");
            litTimeAgo.Text = Item.TimeAgo;
            // The API returns HTML — render verbatim.
            litText.Text = string.IsNullOrEmpty(Item.Text) ? "<em>(empty)</em>" : Item.Text;
        }

        protected void lnkAuthor_Click(object sender, EventArgs e)
        {
            if (Item == null || string.IsNullOrEmpty(Item.By)) return;
            AuthorSelected?.Invoke(this, new AuthorSelectedEventArgs(Item.By));
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnLive.aspx
SIZE: 18.25 KB
MODIFIED: 02/23/2026 10:29:39
================================================================================

<%@ Page Title="HN Live" Language="C#" MasterPageFile="~/Site.Master"
    AutoEventWireup="true" CodeBehind="HnLive.aspx.cs"
    Inherits="MyWebForms.HnLive" EnableViewState="false" %>

<asp:Content ID="BodyContent" ContentPlaceHolderID="MainContent" runat="server">

<main class="container-fluid mt-3" style="max-width:960px;">

    <%-- ═══════════════════════════════════════════════════════════════
         Page header
    ═══════════════════════════════════════════════════════════════════ --%>
    <div class="d-flex align-items-center mb-3 flex-wrap gap-2">
        <span class="hn-logo me-2"
              style="background:#ff6600;color:#fff;font-weight:bold;padding:2px 6px;font-family:monospace;">Y</span>
        <h4 class="mb-0 fw-bold me-3">HN Live</h4>

        <span id="liveBadge"
              class="badge bg-success animate__animated animate__pulse animate__infinite"
              style="font-size:.65rem;">LIVE</span>

        <span id="statusMsg" class="text-muted small ms-2">Connecting&hellip;</span>

        <span class="ms-auto d-flex align-items-center gap-2 flex-wrap">
            <%-- Counters --%>
            <span class="badge bg-secondary" title="Total items seen">
                Seen: <span id="countSeen">0</span>
            </span>
            <span class="badge bg-success" title="Items shown (passed filter)">
                Shown: <span id="countShown">0</span>
            </span>
            <span class="badge bg-warning text-dark" title="Items filtered out">
                Filtered: <span id="countFiltered">0</span>
            </span>
        </span>
    </div>

    <%-- ═══════════════════════════════════════════════════════════════
         Filters & controls
    ═══════════════════════════════════════════════════════════════════ --%>
    <div class="d-flex align-items-center gap-3 mb-3 flex-wrap">
        <label class="form-label mb-0 small text-muted">Min comments</label>
        <input id="minComments" type="number" class="form-control form-control-sm"
               style="width:5rem;" value="0" min="0" />

        <label class="form-label mb-0 small text-muted">Min points</label>
        <input id="minPoints" type="number" class="form-control form-control-sm"
               style="width:5rem;" value="0" min="0" />

        <%-- Pause / Clear buttons.
             Educational note:
               These are plain HTML buttons, not <asp:Button> server controls,
               because they drive purely client-side behaviour (no postback).
               Using raw HTML avoids unnecessary ViewState overhead and keeps
               the control flow entirely in JavaScript.

             Encoding note:
               Button labels use JS unicode escapes instead of raw emoji
               characters to avoid encoding issues on servers that may not
               serve the response as UTF-8 consistently. --%>
        <button id="btnPause" type="button"
                class="btn btn-sm btn-outline-secondary">
            &#x23F8; Pause</button>
        <button id="btnClear" type="button"
                class="btn btn-sm btn-outline-danger">
            &#x1F5D1; Clear</button>
    </div>

    <%-- ═══════════════════════════════════════════════════════════════
         Feed container — items are prepended here by JavaScript
    ═══════════════════════════════════════════════════════════════════ --%>
    <div id="hnFeed"></div>

    <%-- Loading spinner shown while the first batch loads --%>
    <div id="loadingSpinner" class="text-center py-5">
        <div class="spinner-border text-warning" role="status">
            <span class="visually-hidden">Loading&hellip;</span>
        </div>
        <p class="mt-2 text-muted small">Fetching latest items from HN&hellip;</p>
    </div>

</main>

<style>
    /* ── Live feed items ─────────────────────────────────────────────── */
    .hn-live-item {
        border-bottom: 1px solid #f0f0f0;
        padding: .55rem .25rem;
        animation: hnFadeIn .4s ease-in-out;
    }
    @keyframes hnFadeIn {
        from { opacity: 0; transform: translateY(-6px); }
        to   { opacity: 1; transform: translateY(0); }
    }
    .hn-live-item:hover { background: #fffaf5; }
    .hn-live-title { font-size: .93rem; font-weight: 500; }
    .hn-live-title a { color: #000; text-decoration: none; }
    .hn-live-title a:hover { color: #ff6600; }
    .hn-live-meta { font-size: .75rem; color: #666; }
    .hn-live-meta a { color: inherit; text-decoration: underline dotted; }
    .hn-live-score { color: #ff6600; font-weight: 600; }
    .hn-type-comment .hn-live-title a { color: #555; font-weight: 400; font-style: italic; }
    .hn-type-job     { background: #fffff0; }
</style>

<%-- ═══════════════════════════════════════════════════════════════════
     Page-specific script — pure client-side live feed

     Strategy:
       1. On load, fetch /v0/maxitem.json to get the current high-water mark.
       2. Back-fill the last BackfillCount items to seed the feed.
       3. Every PollMs, fetch maxitem again; for any new IDs since last seen,
          fetch each item concurrently and prepend to the feed.
       4. The minComments / minPoints inputs gate which items are shown.
       5. Pause button stops new fetches without losing position.

     Encoding note:
       All button labels are set via JS using unicode escape sequences
       (\u23F8 = ⏸, \u25B6 = ▶, \u1F5D1 = 🗑) rather than raw multi-byte
       emoji characters embedded in the .aspx source file.  This avoids
       mojibake when the server's response encoding doesn't match the file's
       byte encoding (a common issue on shared hosting).
═══════════════════════════════════════════════════════════════════════ --%>
<script>
    (function () {
        'use strict';

        var HN_BASE = 'https://hacker-news.firebaseio.com/v0/';
        var POLL_MS = 6000;          // poll interval
        var BACKFILL = 30;            // items to back-fill on first load
        var MAX_FEED = 300;           // max DOM nodes kept in feed before pruning

        // Unicode constants for button labels — avoids raw emoji in the source
        // file which can break when the server doesn't serve UTF-8 consistently.
        var PAUSE_LABEL = '\u23F8 Pause';     // ⏸ Pause
        var RESUME_LABEL = '\u25B6 Resume';    // ▶ Resume
        var UP_TO_DATE = 'Up to date \u2014 watching\u2026';  // — …

        var lastMaxId = 0;
        var paused = false;
        var countSeen = 0;
        var countShown = 0;
        var countFilt = 0;
        var pollTimer = null;

        var feed = document.getElementById('hnFeed');
        var spinner = document.getElementById('loadingSpinner');
        var statusEl = document.getElementById('statusMsg');
        var seenEl = document.getElementById('countSeen');
        var shownEl = document.getElementById('countShown');
        var filtEl = document.getElementById('countFiltered');
        var btnPause = document.getElementById('btnPause');
        var btnClear = document.getElementById('btnClear');
        var inMinCmt = document.getElementById('minComments');
        var inMinPts = document.getElementById('minPoints');

        // ── Counters ─────────────────────────────────────────────────────

        function updateCounters() {
            seenEl.textContent = countSeen;
            shownEl.textContent = countShown;
            filtEl.textContent = countFilt;
        }

        // ── Fetch helpers ─────────────────────────────────────────────────

        function fetchJson(url) {
            return fetch(url).then(function (r) {
                if (!r.ok) throw new Error('HTTP ' + r.status);
                return r.json();
            });
        }

        function fetchItem(id) {
            return fetchJson(HN_BASE + 'item/' + id + '.json');
        }

        function fetchMaxItem() {
            return fetchJson(HN_BASE + 'maxitem.json');
        }

        // ── Filtering ─────────────────────────────────────────────────────

        function passesFilter(item) {
            if (!item || item.deleted || item.dead) return false;
            var minC = parseInt(inMinCmt.value, 10) || 0;
            var minP = parseInt(inMinPts.value, 10) || 0;
            var comments = item.descendants || 0;
            var score = item.score || 0;
            if (minC > 0 && minP > 0) return comments >= minC || score >= minP;
            if (minC > 0) return comments >= minC;
            if (minP > 0) return score >= minP;
            return true;
        }

        // ── Rendering ─────────────────────────────────────────────────────

        function itemTypeClass(item) {
            if (!item.type) return '';
            return 'hn-type-' + item.type;
        }

        function renderItem(item, prepend) {
            countSeen++;

            if (!passesFilter(item)) {
                countFilt++;
                updateCounters();
                return;
            }
            countShown++;
            updateCounters();

            var el = document.createElement('div');
            el.className = 'hn-live-item ' + itemTypeClass(item);

            var title, url, meta;

            if (item.type === 'comment') {
                // Comments: show a snippet of the text and link to parent story
                var snippet = '';
                if (item.text) {
                    var tmp = document.createElement('div');
                    tmp.innerHTML = item.text;
                    snippet = (tmp.textContent || tmp.innerText || '').substring(0, 120);
                    if (snippet.length === 120) snippet += '\u2026';
                }
                title = '\u201C' + (snippet || '(empty comment)') + '\u201D';
                url = 'https://news.ycombinator.com/item?id=' + item.id;
                meta = 'comment by <a href="https://news.ycombinator.com/user?id='
                    + esc(item.by || '[deleted]') + '" target="_blank">'
                    + esc(item.by || '[deleted]') + '</a>'
                    + (item.parent ? ' &nbsp;|&nbsp; <a href="https://news.ycombinator.com/item?id='
                        + item.parent + '" target="_blank">parent</a>' : '')
                    + ' &nbsp;|&nbsp; ' + timeAgo(item.time);
            } else {
                // story / job / poll
                title = esc(item.title || '(untitled)');
                url = item.url || ('https://news.ycombinator.com/item?id=' + item.id);
                var score = item.score || 0;
                var desc = item.descendants || 0;
                meta = '<span class="hn-live-score">\u25B2 ' + score + ' pts</span>'
                    + ' &nbsp;by <a href="https://news.ycombinator.com/user?id='
                    + esc(item.by || '[deleted]') + '" target="_blank">'
                    + esc(item.by || '[deleted]') + '</a>'
                    + ' &nbsp;|&nbsp; '
                    + '<a href="https://news.ycombinator.com/item?id=' + item.id
                    + '" target="_blank">' + desc + ' comment' + (desc !== 1 ? 's' : '') + '</a>'
                    + ' &nbsp;|&nbsp; ' + timeAgo(item.time)
                    + ' &nbsp;|&nbsp; <span class="badge bg-secondary" style="font-size:.65rem;">'
                    + esc(item.type || 'story') + '</span>';
            }

            el.innerHTML =
                '<div class="hn-live-title"><a href="' + esc(url) + '" target="_blank">'
                + title + '</a></div>'
                + '<div class="hn-live-meta">' + meta + '</div>';

            if (prepend && feed.firstChild) {
                feed.insertBefore(el, feed.firstChild);
            } else {
                feed.appendChild(el);
            }

            // Prune excess nodes to avoid infinite DOM growth
            while (feed.childNodes.length > MAX_FEED) {
                feed.removeChild(feed.lastChild);
            }
        }

        function esc(s) {
            return String(s)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;');
        }

        function timeAgo(unix) {
            if (!unix) return '';
            var diff = Math.floor(Date.now() / 1000) - unix;
            if (diff < 60) return diff + 's ago';
            if (diff < 3600) return Math.floor(diff / 60) + 'm ago';
            if (diff < 86400) return Math.floor(diff / 3600) + 'h ago';
            return Math.floor(diff / 86400) + 'd ago';
        }

        // ── Back-fill ─────────────────────────────────────────────────────
        // Fetch the most recent BACKFILL items in descending order and append
        // them to the feed (oldest first = natural reading order).

        function backfill(maxId) {
            var ids = [];
            for (var i = 0; i < BACKFILL; i++) {
                if (maxId - i > 0) ids.push(maxId - i);
            }

            var promises = ids.map(function (id) { return fetchItem(id); });

            Promise.all(promises).then(function (items) {
                // Sort oldest-first before appending
                items.sort(function (a, b) {
                    var at = (a && a.time) || 0;
                    var bt = (b && b.time) || 0;
                    return at - bt;
                });
                spinner.style.display = 'none';
                items.forEach(function (item) {
                    if (item) renderItem(item, false);
                });
                setStatus('Watching for new items\u2026');
                schedulePoll();
            }).catch(function (err) {
                setStatus('Error during back-fill: ' + err.message);
                schedulePoll();
            });
        }

        // ── Poll loop ─────────────────────────────────────────────────────

        function poll() {
            if (paused) return;

            fetchMaxItem().then(function (newMax) {
                if (newMax <= lastMaxId) {
                    setStatus(UP_TO_DATE);
                    schedulePoll();
                    return;
                }

                // Clamp burst to 50 items to avoid flooding
                var start = lastMaxId + 1;
                var end = Math.min(newMax, lastMaxId + 50);
                lastMaxId = newMax;

                var ids = [];
                for (var id = end; id >= start; id--) ids.push(id);

                var promises = ids.map(function (id) { return fetchItem(id); });

                Promise.all(promises).then(function (items) {
                    // Newest first (already descending) — prepend so newest is at top
                    items.forEach(function (item) {
                        if (item) renderItem(item, true);
                    });
                    setStatus('Last update: ' + new Date().toLocaleTimeString());
                    schedulePoll();
                }).catch(function () {
                    schedulePoll();
                });
            }).catch(function (err) {
                setStatus('Poll error: ' + err.message);
                schedulePoll();
            });
        }

        function schedulePoll() {
            if (pollTimer) clearTimeout(pollTimer);
            pollTimer = setTimeout(poll, POLL_MS);
        }

        function setStatus(msg) {
            if (statusEl) statusEl.textContent = msg;
        }

        // ── UI controls ───────────────────────────────────────────────────

        btnPause.addEventListener('click', function () {
            paused = !paused;
            btnPause.textContent = paused ? RESUME_LABEL : PAUSE_LABEL;
            btnPause.className = paused
                ? 'btn btn-sm btn-warning'
                : 'btn btn-sm btn-outline-secondary';
            document.getElementById('liveBadge').style.opacity = paused ? '.3' : '1';
            if (!paused) { setStatus('Resuming\u2026'); poll(); }
            else { setStatus('Paused'); }
        });

        btnClear.addEventListener('click', function () {
            feed.innerHTML = '';
            countSeen = countShown = countFilt = 0;
            updateCounters();
        });

        // ── Boot ──────────────────────────────────────────────────────────

        setStatus('Fetching latest item ID\u2026');

        fetchMaxItem().then(function (maxId) {
            lastMaxId = maxId;
            setStatus('Back-filling last ' + BACKFILL + ' items\u2026');
            backfill(maxId);
        }).catch(function (err) {
            spinner.style.display = 'none';
            setStatus('Failed to connect: ' + err.message);
        });

    }());
</script>

</asp:Content>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnLive.aspx.cs
SIZE: 1003 B
MODIFIED: 02/17/2026 18:15:07
================================================================================

using System;
using System.Web.UI;

namespace MyWebForms
{
    /// <summary>
    /// HnLive.aspx code-behind.
    ///
    /// This page is intentionally thin — all live-feed logic runs entirely
    /// in the browser via the HN Firebase REST API.  The server's only job
    /// is to serve the page shell; no postbacks, no ViewState, no async tasks.
    ///
    /// Educational note:
    ///   Web Forms does not require postback-driven interaction.  A page can
    ///   be a pure host for client-side JavaScript just as easily as an MVC
    ///   or Razor Pages view.  EnableViewState is disabled at the page level
    ///   (see the @Page directive) because nothing here round-trips.
    /// </summary>
    public partial class HnLive : Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            // Nothing to do server-side — the live feed is driven entirely
            // by the inline JavaScript in HnLive.aspx.
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnStoryRow.ascx
SIZE: 4.11 KB
MODIFIED: 02/17/2026 19:35:02
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="HnStoryRow.ascx.cs"
    Inherits="MyWebForms.HnStoryRow" %>

<%--
    HnStoryRow.ascx
    ---------------
    Renders a single Hacker News item in the classic orange-site list style.
    Handles both story-type and comment-type items (e.g. from the Active tab).

    Comment-type items (type == "comment"):
      - Show a snippet of the comment text instead of a title.
      - The "N comments" link navigates to the *parent* story (not the comment
        itself, which has no meaningful comment thread of its own to display).
      - The score badge is hidden (comments have no score in the HN API).

    Score span strategy
    -------------------
    spanScore    (outer) — carries  data-hn-score-id  for general queries.
    spanScoreNum (inner) — carries  data-hn-score-num  so the background JS
                           poller can update ONLY the "NNN pts" text via
                             el.textContent = score + ' pts'
                           without clobbering the ▲ triangle.

    LinkButton vs HyperLink
    -----------------------
    - External story URL  → plain <a> (HyperLink) — leaves the app entirely
    - "N comments" link   → LinkButton — triggers a postback so the parent
      page can load the story detail panel server-side
    - Author name link    → LinkButton — same pattern for the user panel

    hn-postback-link CSS class
    --------------------------
    Applied to both LinkButtons so the Site.Master overlay script can detect
    any click on them and show the global loading spinner immediately, giving
    the user instant feedback while the server-side async load runs.
--%>

<div class="hn-story-row d-flex align-items-start py-2 border-bottom border-light">

    <%-- Rank number --%>
    <span class="hn-rank text-muted me-2 pt-1" style="min-width:2rem; text-align:right;">
        <asp:Literal ID="litRank" runat="server" />
    </span>

    <%--
        Score badge — hidden for comment-type items (comments have no score).
        The inner spanScoreNum carries data-hn-score-num, which the JS poller
        updates in-place without touching the ▲ triangle that lives in
        the outer span as raw HTML text.
    --%>
    <asp:Panel ID="pnlScore" runat="server">
        <span class="hn-score badge bg-warning text-dark me-3 mt-1"
              style="min-width:3.5rem; text-align:center;"
              runat="server" id="spanScore">
            &#9650;&nbsp;<span runat="server" id="spanScoreNum"><asp:Literal ID="litScore" runat="server" /></span>
        </span>
    </asp:Panel>

    <div class="flex-grow-1">
        <%-- Story title / comment snippet --%>
        <asp:HyperLink ID="lnkTitle" runat="server"
            CssClass="hn-title fw-semibold text-decoration-none text-dark"
            Target="_blank" />
        <%-- Comment snippet (shown instead of title for comment-type items) --%>
        <asp:Panel ID="pnlCommentSnippet" runat="server" Visible="false">
            <span class="hn-comment-snippet text-muted fst-italic small">
                <asp:Literal ID="litCommentSnippet" runat="server" />
            </span>
        </asp:Panel>
        <%-- Domain hint (hidden for comment items) --%>
        <asp:Panel ID="pnlDomain" runat="server">
            <small class="text-muted ms-1">
                (<asp:Literal ID="litDomain" runat="server" />)
            </small>
        </asp:Panel>

        <%-- Metadata line --%>
        <div class="hn-meta small text-muted mt-1">
            <asp:Literal ID="litTimeAgo" runat="server" />
            &nbsp;by&nbsp;
            <%-- hn-postback-link tells the Site.Master overlay script to show
                 the loading spinner as soon as this link is clicked. --%>
            <asp:LinkButton ID="lnkAuthor" runat="server"
                CssClass="text-muted hn-author-link hn-postback-link"
                OnClick="lnkAuthor_Click" />
            &nbsp;|&nbsp;
            <asp:LinkButton ID="lnkComments" runat="server"
                CssClass="text-muted hn-comments-link hn-postback-link"
                OnClick="lnkComments_Click" />
        </div>
    </div>

</div>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnStoryRow.ascx.cs
SIZE: 7.83 KB
MODIFIED: 02/17/2026 19:35:15
================================================================================

using System;
using System.Text.RegularExpressions;
using System.Web.UI.HtmlControls;
using MyWebForms.Models;

namespace MyWebForms
{
    /// <summary>
    /// Code-behind for HnStoryRow.ascx.
    ///
    /// Score span strategy
    /// -------------------
    /// spanScore    (outer) — carries  data-hn-score-id  for general queries.
    /// spanScoreNum (inner) — carries  data-hn-score-num  so the background JS
    ///                        poller can update ONLY the "NNN pts" text via
    ///                          el.textContent = score + ' pts'
    ///                        without clobbering the ▲ triangle that lives in
    ///                        the outer span as raw HTML text.
    ///
    /// Comment-type items (Active tab)
    /// --------------------------------
    /// The Active tab (/v0/updates.json) returns IDs of recently-changed items
    /// which can be comments, not just stories.  Comments have no Title.
    /// When Item.Type == "comment":
    ///   - The score badge is hidden (comments carry no score).
    ///   - A plain-text snippet of the comment HTML is shown instead of a title.
    ///   - lnkComments fires StorySelected with Item.Parent (the owning story)
    ///     so the detail panel loads the actual story + thread rather than
    ///     trying to render the comment as if it were a story.
    ///   - The domain badge is hidden (comments have no URL).
    ///
    /// Events bubble up to the host page via standard EventHandler delegates.
    /// The host page wires StorySelected and AuthorSelected when it creates
    /// these controls so it can update its detail/user panels.
    ///
    /// Control ID stability
    /// --------------------
    /// The host page assigns  row.ID = "row_" + item.Id  so the UniqueID is
    /// deterministic across postbacks.  This lets ASP.NET's event-routing
    /// mechanism find the correct control when the form is submitted.
    ///
    /// Stub controls (event-routing only)
    /// -----------------------------------
    /// RecreateStoryRowsForEventRouting on the host page creates invisible stub
    /// instances with Item = null.  Those stubs must still be able to fire their
    /// click events — the handler cannot short-circuit on Item == null.
    ///
    /// To support this, the host page sets StubItemId / StubItemBy / StubParentId
    /// directly when creating stubs so the handlers can read the correct values
    /// without a full HackerNewsItem being present.  When Item is not null
    /// (normal render path) these Stub* properties are ignored; Item takes
    /// precedence.
    /// </summary>
    public partial class HnStoryRow : System.Web.UI.UserControl
    {
        // ── Inputs ────────────────────────────────────────────────────────────

        public HackerNewsItem Item { get; set; }
        public int Rank { get; set; }

        /// <summary>
        /// Set by the host page when creating an event-routing stub (Item == null).
        /// Provides the item ID for lnkComments_Click → StorySelected.
        /// </summary>
        public int StubItemId { get; set; }

        /// <summary>
        /// Set by the host page when creating an event-routing stub (Item == null).
        /// Provides the author username for lnkAuthor_Click → AuthorSelected.
        /// </summary>
        public string StubItemBy { get; set; }

        /// <summary>
        /// Set by the host page when creating an event-routing stub for a
        /// comment-type item (Item == null, Item.Type == "comment").
        /// When non-zero, lnkComments fires StorySelected with this parent ID
        /// rather than StubItemId so the detail panel loads the owning story.
        /// </summary>
        public int StubParentId { get; set; }

        // ── Bubbled events ────────────────────────────────────────────────────

        public event EventHandler<StorySelectedEventArgs> StorySelected;
        public event EventHandler<AuthorSelectedEventArgs> AuthorSelected;

        // ── Lifecycle ─────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            if (Item == null)
            {
                // Stub control created for event routing — render nothing.
                Visible = false;
                return;
            }

            Visible = true;

            litRank.Text = Rank.ToString() + ".";

            bool isComment = Item.IsComment;

            // Score badge — comments have no score, hide the panel entirely.
            pnlScore.Visible = !isComment;
            if (!isComment)
            {
                litScore.Text = Item.Score.ToString() + " pts";
                spanScore.Attributes["data-hn-score-id"] = Item.Id.ToString();
                spanScoreNum.Attributes["data-hn-score-num"] = Item.Id.ToString();
            }

            if (isComment)
            {
                // Comment item: show snippet instead of title.
                lnkTitle.Visible = false;
                pnlDomain.Visible = false;
                pnlCommentSnippet.Visible = true;

                // Strip HTML tags and truncate to ~140 chars for the snippet.
                var raw = Item.Text ?? string.Empty;
                var plain = Regex.Replace(raw, "<[^>]+>", " ");
                plain = System.Web.HttpUtility.HtmlDecode(plain);
                plain = Regex.Replace(plain, @"\s+", " ").Trim();
                if (plain.Length > 140) plain = plain.Substring(0, 137) + "…";
                litCommentSnippet.Text = System.Web.HttpUtility.HtmlEncode(plain);

                // "View thread" link navigates to the parent story.
                lnkComments.Text = "view thread";
            }
            else
            {
                // Normal story / job / poll item.
                lnkTitle.Visible = true;
                pnlDomain.Visible = true;
                pnlCommentSnippet.Visible = false;

                lnkTitle.Text = System.Web.HttpUtility.HtmlEncode(Item.Title ?? "(untitled)");
                lnkTitle.NavigateUrl = Item.DisplayUrl;
                litDomain.Text = System.Web.HttpUtility.HtmlEncode(Item.Domain);
                lnkComments.Text = string.Format("{0} comments", Item.Descendants);
            }

            litTimeAgo.Text = Item.TimeAgo;
            lnkAuthor.Text = System.Web.HttpUtility.HtmlEncode(Item.By ?? "[deleted]");
        }

        // ── Events ────────────────────────────────────────────────────────────

        protected void lnkComments_Click(object sender, EventArgs e)
        {
            int itemId;
            if (Item != null)
            {
                // For a comment item, navigate to the parent story's thread.
                itemId = (Item.IsComment && Item.Parent.HasValue && Item.Parent.Value > 0)
                    ? Item.Parent.Value
                    : Item.Id;
            }
            else
            {
                // Stub — use StubParentId if set (comment item), else StubItemId.
                itemId = (StubParentId > 0) ? StubParentId : StubItemId;
            }

            if (itemId == 0) return;
            StorySelected?.Invoke(this, new StorySelectedEventArgs(itemId));
        }

        protected void lnkAuthor_Click(object sender, EventArgs e)
        {
            string by = Item != null ? Item.By : StubItemBy;
            if (string.IsNullOrEmpty(by)) return;
            AuthorSelected?.Invoke(this, new AuthorSelectedEventArgs(by));
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnUserCard.ascx
SIZE: 1.60 KB
MODIFIED: 02/17/2026 14:13:27
================================================================================

<%@ Control Language="C#" AutoEventWireup="True"
    CodeBehind="HnUserCard.ascx.cs"
    Inherits="MyWebForms.HnUserCard" %>

<%--
    HnUserCard.ascx
    ---------------
    Displays a Hacker News user profile card.
    The User property must be set by the host page before Page_Load runs.
--%>

<div class="card shadow-sm">
    <div class="card-header bg-warning text-dark d-flex align-items-center gap-2">
        <strong>&#128100;</strong>
        <span>
            <asp:Literal ID="litUsername" runat="server" />
        </span>
        <span class="ms-auto badge bg-dark">
            <asp:Literal ID="litKarma" runat="server" /> karma
        </span>
    </div>
    <div class="card-body">
        <dl class="row mb-0 small">
            <dt class="col-sm-4">Member since</dt>
            <dd class="col-sm-8">
                <asp:Literal ID="litMemberSince" runat="server" />
            </dd>

            <dt class="col-sm-4">Submissions</dt>
            <dd class="col-sm-8">
                <asp:Literal ID="litSubmissionCount" runat="server" />
            </dd>

            <asp:Panel ID="pnlAbout" runat="server">
                <dt class="col-sm-4">About</dt>
                <dd class="col-sm-8 hn-user-about">
                    <asp:Literal ID="litAbout" runat="server" Mode="PassThrough" />
                </dd>
            </asp:Panel>
        </dl>
    </div>
    <div class="card-footer text-end">
        <a href="https://news.ycombinator.com/user?id=<%= EncodedUsername %>"
           class="btn btn-sm btn-outline-warning" target="_blank">
            View on HN &#8599;
        </a>
    </div>
</div>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\HnUserCard.ascx.cs
SIZE: 4.08 KB
MODIFIED: 02/23/2026 10:28:04
================================================================================

using System;
using MyWebForms.Models;

namespace MyWebForms
{
    /// <summary>
    /// Code-behind for HnUserCard.ascx.
    /// Displays a Hacker News user profile card.
    ///
    /// Lifecycle fix — why BindData() exists
    /// ---------------------------------------
    /// The host page (HackerNews.aspx) sets the User property in its
    /// OnPreRenderComplete override, which fires AFTER all child controls
    /// have already run their Page_Load and PreRender phases.  If we put
    /// the binding logic in Page_Load (as before), User is always null at
    /// that point and the control hides itself.
    ///
    /// The solution is to expose a public BindData() method that the host
    /// page calls explicitly after setting the User property.  This is a
    /// common Web Forms pattern for "late-bound" user controls where the
    /// data isn't available until after the normal lifecycle phases.
    ///
    /// Educational note:
    ///   In the Web Forms page lifecycle, events fire in this order:
    ///     Page.Load → ChildControl.Load → ... → Page.PreRender →
    ///     ChildControl.PreRender → Page.PreRenderComplete
    ///   So a parent page's PreRenderComplete is the LAST lifecycle hook
    ///   before SaveViewState/Render.  Any property set there is invisible
    ///   to the child control's Load and PreRender.  The explicit-bind
    ///   pattern avoids this timing problem entirely.
    /// </summary>
    public partial class HnUserCard : System.Web.UI.UserControl
    {
        // ── Inputs ───────────────────────────────────────────────────────────

        public HackerNewsUser User { get; set; }

        // ── Derived (used in markup via <%= %>) ──────────────────────────────

        protected string EncodedUsername
        {
            get
            {
                return User != null
                    ? System.Web.HttpUtility.UrlEncode(User.Id)
                    : string.Empty;
            }
        }

        // ── Lifecycle ────────────────────────────────────────────────────────

        protected void Page_Load(object sender, EventArgs e)
        {
            // Intentionally empty.
            //
            // Binding is deferred to the explicit BindData() call made by the
            // host page in OnPreRenderComplete.  At Page_Load time the User
            // property has not yet been set by the host page, so any binding
            // here would always see User == null and hide the control.
        }

        // ── Public binding method ────────────────────────────────────────────

        /// <summary>
        /// Populates the control's UI from the current User property.
        /// Must be called by the host page AFTER setting User — typically
        /// from OnPreRenderComplete or equivalent late-lifecycle hook.
        ///
        /// If User is null, the control hides itself.
        /// </summary>
        public void BindData()
        {
            if (User == null)
            {
                Visible = false;
                return;
            }

            Visible = true;

            litUsername.Text = System.Web.HttpUtility.HtmlEncode(User.Id);
            litKarma.Text = User.Karma.ToString("N0");
            litMemberSince.Text = User.MemberSince;
            litSubmissionCount.Text = User.Submitted != null
                ? User.Submitted.Count.ToString("N0")
                : "0";

            if (string.IsNullOrEmpty(User.About))
            {
                pnlAbout.Visible = false;
            }
            else
            {
                pnlAbout.Visible = true;
                // About can contain HTML tags — render verbatim (source is HN API).
                litAbout.Text = User.About;
            }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\LibraryStatusWidget.ascx
SIZE: 1.25 KB
MODIFIED: 02/17/2026 13:15:35
================================================================================

<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="LibraryStatusWidget.ascx.cs" Inherits="MyWebForms.LibraryStatusWidget" %>

<div class="card border-0 bg-light mb-3 animate__animated animate__fadeIn">
    <div class="card-body">
        <h6 class="card-title d-flex justify-content-between">
            <asp:Literal ID="litLibraryName" runat="server" />
            <span class="badge bg-info text-dark"><asp:Literal ID="litVersion" runat="server" /></span>
        </h6>
        
        <div class="progress" style="height: 10px;">
            <div id="progressBar" runat="server" 
                 class="progress-bar progress-bar-striped progress-bar-animated" 
                 role="progressbar" 
                 style="width: 0%"></div>
        </div>
        
        <small class="text-muted mt-2 d-block">
            Status: <asp:Label ID="lblStatus" runat="server" Text="Active" />
        </small>
    </div>
</div>

<script>
    // Self-contained logic: Trigger an extra animation when this specific control loads
    $(document).ready(function () {
        $('.progress-bar').each(function() {
            var targetWidth = $(this).attr('aria-valuenow');
            $(this).animate({ width: targetWidth + '%' }, 1500);
        });
    });
</script>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\LibraryStatusWidget.ascx.cs
SIZE: 958 B
MODIFIED: 02/17/2026 13:16:14
================================================================================

using System;

namespace MyWebForms
{
    public partial class LibraryStatusWidget : System.Web.UI.UserControl
    {
        // Custom Properties to set from the parent page
        public string LibraryName { get; set; }
        public string Version { get; set; }
        public int ReliabilityScore { get; set; } // 0 to 100

        protected void Page_Load(object sender, EventArgs e)
        {
            litLibraryName.Text = LibraryName;
            litVersion.Text = Version;

            // Set the width for our jQuery animation to pick up
            progressBar.Attributes.Add("aria-valuenow", ReliabilityScore.ToString());

            // Change color based on score
            if (ReliabilityScore > 90) progressBar.Attributes["class"] += " bg-success";
            else if (ReliabilityScore > 70) progressBar.Attributes["class"] += " bg-warning";
            else progressBar.Attributes["class"] += " bg-danger";
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Models\HackerNewsItem.cs
SIZE: 4.30 KB
MODIFIED: 02/17/2026 14:03:16
================================================================================

using System.Collections.Generic;
using Newtonsoft.Json;

namespace MyWebForms.Models
{
    /// <summary>
    /// Represents any HN item: story, comment, job, poll, or pollopt.
    /// Property names match the HN Firebase API JSON keys via JsonProperty.
    /// </summary>
    public class HackerNewsItem
    {
        [JsonProperty("id")]
        public int Id { get; set; }

        [JsonProperty("deleted")]
        public bool Deleted { get; set; }

        /// <summary>
        /// One of: "job", "story", "comment", "poll", "pollopt"
        /// </summary>
        [JsonProperty("type")]
        public string Type { get; set; }

        [JsonProperty("by")]
        public string By { get; set; }

        /// <summary>Unix timestamp.</summary>
        [JsonProperty("time")]
        public long Time { get; set; }

        /// <summary>HTML text for comments, polls, Ask HNs.</summary>
        [JsonProperty("text")]
        public string Text { get; set; }

        [JsonProperty("dead")]
        public bool Dead { get; set; }

        [JsonProperty("parent")]
        public int? Parent { get; set; }

        [JsonProperty("poll")]
        public int? Poll { get; set; }

        /// <summary>Child comment IDs in ranked display order.</summary>
        [JsonProperty("kids")]
        public List<int> Kids { get; set; }

        [JsonProperty("url")]
        public string Url { get; set; }

        [JsonProperty("score")]
        public int Score { get; set; }

        [JsonProperty("title")]
        public string Title { get; set; }

        /// <summary>Poll option IDs in display order.</summary>
        [JsonProperty("parts")]
        public List<int> Parts { get; set; }

        /// <summary>Total comment count (stories and polls only).</summary>
        [JsonProperty("descendants")]
        public int Descendants { get; set; }

        // ── Derived helpers (not from API) ───────────────────────────────────

        /// <summary>
        /// Returns the display URL — the story URL for link posts,
        /// or the HN item page for text posts (Ask, etc.).
        /// </summary>
        public string DisplayUrl
        {
            get
            {
                return !string.IsNullOrEmpty(Url)
                    ? Url
                    : string.Format("https://news.ycombinator.com/item?id={0}", Id);
            }
        }

        /// <summary>
        /// Extracts the bare hostname from the URL for the "(domain.com)" display,
        /// stripping www. prefix.
        /// </summary>
        public string Domain
        {
            get
            {
                if (string.IsNullOrEmpty(Url)) return string.Empty;
                try
                {
                    var uri = new System.Uri(Url);
                    var host = uri.Host;
                    if (host.StartsWith("www.", System.StringComparison.OrdinalIgnoreCase))
                        host = host.Substring(4);
                    return host;
                }
                catch
                {
                    return string.Empty;
                }
            }
        }

        /// <summary>
        /// Converts the Unix timestamp to a human-readable relative time string,
        /// e.g. "3 hours ago", "2 days ago".
        /// </summary>
        public string TimeAgo
        {
            get
            {
                if (Time == 0) return string.Empty;
                var dt = System.DateTimeOffset.FromUnixTimeSeconds(Time);
                var diff = System.DateTimeOffset.UtcNow - dt;

                if (diff.TotalMinutes < 1) return "just now";
                if (diff.TotalMinutes < 60) return (int)diff.TotalMinutes + " minutes ago";
                if (diff.TotalHours < 24) return (int)diff.TotalHours + " hours ago";
                if (diff.TotalDays < 30) return (int)diff.TotalDays + " days ago";
                if (diff.TotalDays < 365) return (int)(diff.TotalDays / 30) + " months ago";
                return (int)(diff.TotalDays / 365) + " years ago";
            }
        }

        public bool IsStory { get { return Type == "story"; } }
        public bool IsComment { get { return Type == "comment"; } }
        public bool IsJob { get { return Type == "job"; } }
        public bool IsPoll { get { return Type == "poll"; } }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Models\HackerNewsUser.cs
SIZE: 1.41 KB
MODIFIED: 02/17/2026 14:03:43
================================================================================

using System.Collections.Generic;
using Newtonsoft.Json;

namespace MyWebForms.Models
{
    /// <summary>
    /// Represents a Hacker News user profile as returned by
    /// /v0/user/{id}.json
    /// </summary>
    public class HackerNewsUser
    {
        [JsonProperty("id")]
        public string Id { get; set; }

        /// <summary>Account creation date as Unix timestamp.</summary>
        [JsonProperty("created")]
        public long Created { get; set; }

        [JsonProperty("karma")]
        public int Karma { get; set; }

        /// <summary>Optional self-description. May contain HTML.</summary>
        [JsonProperty("about")]
        public string About { get; set; }

        /// <summary>IDs of all stories, polls and comments submitted.</summary>
        [JsonProperty("submitted")]
        public List<int> Submitted { get; set; }

        // ── Derived helpers ──────────────────────────────────────────────────

        /// <summary>
        /// Returns the account creation date as a formatted date string.
        /// </summary>
        public string MemberSince
        {
            get
            {
                if (Created == 0) return string.Empty;
                return System.DateTimeOffset.FromUnixTimeSeconds(Created)
                    .ToString("MMMM yyyy");
            }
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\MyWebForms.csproj
SIZE: 21.07 KB
MODIFIED: 02/23/2026 10:30:13
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props" Condition="Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props')" />
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>
    </ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{539B1A11-7791-4F27-8B72-2368B1582B54}</ProjectGuid>
    <ProjectTypeGuids>{349c5851-65df-11da-9384-00065b846f21};{fae04ec0-301f-11d3-bf4b-00c04f79efbc}</ProjectTypeGuids>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>MyWebForms</RootNamespace>
    <AssemblyName>MyWebForms</AssemblyName>
    <TargetFrameworkVersion>v4.8.1</TargetFrameworkVersion>
    <UseIISExpress>true</UseIISExpress>
    <Use64BitIISExpress />
    <IISExpressSSLPort>44309</IISExpressSSLPort>
    <IISExpressAnonymousAuthentication />
    <IISExpressWindowsAuthentication />
    <IISExpressUseClassicPipelineMode />
    <UseGlobalApplicationHostFile />
    <NuGetPackageImportStamp>
    </NuGetPackageImportStamp>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\lib\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="Newtonsoft.Json, Version=13.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed, processorArchitecture=MSIL">
      <HintPath>..\packages\Newtonsoft.Json.13.0.4\lib\net45\Newtonsoft.Json.dll</HintPath>
    </Reference>
    <Reference Include="System.ComponentModel.Composition" />
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="System" />
    <Reference Include="System.Data" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="System.IO, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.IO.4.3.0\lib\net462\System.IO.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Net.Http, Version=4.1.1.3, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Net.Http.4.3.4\lib\net46\System.Net.Http.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Runtime, Version=4.1.1.1, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Runtime.4.3.1\lib\net462\System.Runtime.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.Algorithms, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.Algorithms.4.3.1\lib\net463\System.Security.Cryptography.Algorithms.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.Encoding, Version=4.0.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.Encoding.4.3.0\lib\net46\System.Security.Cryptography.Encoding.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.Primitives, Version=4.0.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.Primitives.4.3.0\lib\net46\System.Security.Cryptography.Primitives.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Security.Cryptography.X509Certificates, Version=4.1.1.2, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
      <HintPath>..\packages\System.Security.Cryptography.X509Certificates.4.3.2\lib\net461\System.Security.Cryptography.X509Certificates.dll</HintPath>
      <Private>True</Private>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.Extensions" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.Web" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Web.Services" />
    <Reference Include="System.EnterpriseServices" />
    <Reference Include="System.Web.DynamicData" />
    <Reference Include="System.Web.Entity" />
    <Reference Include="System.Web.ApplicationServices" />
    <Reference Include="Microsoft.Web.Infrastructure, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <Private>True</Private>
      <HintPath>..\packages\Microsoft.Web.Infrastructure.2.0.0\lib\net40\Microsoft.Web.Infrastructure.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.ScriptManager.MSAjax">
      <HintPath>..\packages\Microsoft.AspNet.ScriptManager.MSAjax.5.0.0\lib\net45\Microsoft.ScriptManager.MSAjax.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.ScriptManager.WebForms">
      <HintPath>..\packages\Microsoft.AspNet.ScriptManager.WebForms.5.0.0\lib\net45\Microsoft.ScriptManager.WebForms.dll</HintPath>
    </Reference>
    <Reference Include="System.Web.Optimization, Version=1.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35">
      <HintPath>..\packages\Microsoft.AspNet.Web.Optimization.1.1.3\lib\net40\System.Web.Optimization.dll</HintPath>
    </Reference>
    <Reference Include="WebGrease">
      <Private>True</Private>
      <HintPath>..\packages\WebGrease.1.6.0\lib\WebGrease.dll</HintPath>
    </Reference>
    <Reference Include="Antlr3.Runtime">
      <Private>True</Private>
      <HintPath>..\packages\Antlr.3.5.0.2\lib\Antlr3.Runtime.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.AspNet.Web.Optimization.WebForms">
      <Private>True</Private>
      <HintPath>..\packages\Microsoft.AspNet.Web.Optimization.WebForms.1.1.3\lib\net45\Microsoft.AspNet.Web.Optimization.WebForms.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.AspNet.FriendlyUrls">
      <HintPath>..\packages\Microsoft.AspNet.FriendlyUrls.Core.1.0.2\lib\net45\Microsoft.AspNet.FriendlyUrls.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Content Include="About.aspx" />
    <Content Include="ChartWidget.ascx" />
    <Content Include="Contact.aspx" />
    <Content Include="Content\animate.css\animate.min.css" />
    <Content Include="Content\bootstrap-grid.css" />
    <Content Include="Content\bootstrap-grid.min.css" />
    <Content Include="Content\bootstrap-grid.rtl.css" />
    <Content Include="Content\bootstrap-grid.rtl.min.css" />
    <Content Include="Content\bootstrap-reboot.css" />
    <Content Include="Content\bootstrap-reboot.min.css" />
    <Content Include="Content\bootstrap-reboot.rtl.css" />
    <Content Include="Content\bootstrap-reboot.rtl.min.css" />
    <Content Include="Content\bootstrap-utilities.css" />
    <Content Include="Content\bootstrap-utilities.min.css" />
    <Content Include="Content\bootstrap-utilities.rtl.css" />
    <Content Include="Content\bootstrap-utilities.rtl.min.css" />
    <Content Include="Content\bootstrap.css" />
    <Content Include="Content\bootstrap.min.css" />
    <Content Include="Content\bootstrap.rtl.css" />
    <Content Include="Content\bootstrap.rtl.min.css" />
    <Content Include="Content\Site.css" />
    <Content Include="Default.aspx" />
    <Content Include="favicon.ico" />
    <Content Include="Global.asax" />
    <Content Include="HackerNews.aspx" />
    <Content Include="HnComment.ascx" />
    <Content Include="HnLive.aspx" />
    <Content Include="HnStoryRow.ascx" />
    <Content Include="HnUserCard.ascx" />
    <Content Include="LibraryStatusWidget.ascx" />
    <Content Include="Scripts\bootstrap.bundle.js" />
    <Content Include="Scripts\bootstrap.bundle.min.js" />
    <Content Include="Scripts\bootstrap.esm.js" />
    <Content Include="Scripts\bootstrap.esm.min.js" />
    <Content Include="Scripts\bootstrap.js" />
    <Content Include="Scripts\bootstrap.min.js" />
    <Content Include="libman.json" />
    <Content Include="HackerNewsRefresh.ashx" />
    <None Include="Properties\PublishProfiles\site55560-WebDeploy.pubxml" />
    <None Include="Scripts\jquery-3.7.1.intellisense.js" />
    <Content Include="Scripts\jquery-3.7.1.js" />
    <Content Include="Scripts\jquery-3.7.1.min.js" />
    <Content Include="Scripts\jquery-3.7.1.slim.js" />
    <Content Include="Scripts\jquery-3.7.1.slim.min.js" />
    <Content Include="Scripts\lib\chartjs\chart.umd.js" />
    <Content Include="Scripts\modernizr-2.8.3.js" />
    <Content Include="Scripts\WebForms\DetailsView.js" />
    <Content Include="Scripts\WebForms\Focus.js" />
    <Content Include="Scripts\WebForms\GridView.js" />
    <Content Include="Scripts\WebForms\Menu.js" />
    <Content Include="Scripts\WebForms\MenuStandards.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjax.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxApplicationServices.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxComponentModel.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxCore.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxGlobalization.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxHistory.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxNetwork.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxSerialization.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxTimer.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxWebForms.js" />
    <Content Include="Scripts\WebForms\MSAjax\MicrosoftAjaxWebServices.js" />
    <Content Include="Scripts\WebForms\SmartNav.js" />
    <Content Include="Scripts\WebForms\TreeView.js" />
    <Content Include="Scripts\WebForms\WebForms.js" />
    <Content Include="Scripts\WebForms\WebParts.js" />
    <Content Include="Scripts\WebForms\WebUIValidation.js" />
    <Content Include="Site.Master" />
    <Content Include="ViewSwitcher.ascx" />
    <Content Include="Web.config" />
    <Content Include="Bundle.config" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="App_Start\BundleConfig.cs" />
    <Compile Include="About.aspx.cs">
      <DependentUpon>About.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="About.aspx.designer.cs">
      <DependentUpon>About.aspx</DependentUpon>
    </Compile>
    <Compile Include="App_Start\RouteConfig.cs" />
    <Compile Include="ChartWidget.ascx.cs">
      <DependentUpon>ChartWidget.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="ChartWidget.ascx.designer.cs">
      <DependentUpon>ChartWidget.ascx</DependentUpon>
    </Compile>
    <Compile Include="Contact.aspx.cs">
      <DependentUpon>Contact.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="Contact.aspx.designer.cs">
      <DependentUpon>Contact.aspx</DependentUpon>
    </Compile>
    <Compile Include="Default.aspx.cs">
      <DependentUpon>Default.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="Default.aspx.designer.cs">
      <DependentUpon>Default.aspx</DependentUpon>
    </Compile>
    <Compile Include="Global.asax.cs">
      <DependentUpon>Global.asax</DependentUpon>
    </Compile>
    <Compile Include="HackerNews.aspx.cs">
      <DependentUpon>HackerNews.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HackerNews.aspx.designer.cs">
      <DependentUpon>HackerNews.aspx</DependentUpon>
    </Compile>
    <Compile Include="HackerNewsEventArgs.cs" />
    <Compile Include="HackerNewsRefresh.ashx.cs">
      <DependentUpon>HackerNewsRefresh.ashx</DependentUpon>
    </Compile>
    <Compile Include="HnComment.ascx.cs">
      <DependentUpon>HnComment.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnComment.ascx.designer.cs">
      <DependentUpon>HnComment.ascx</DependentUpon>
    </Compile>
    <!-- NEW: HnLive page — pure client-side streaming feed -->
    <Compile Include="HnLive.aspx.cs">
      <DependentUpon>HnLive.aspx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnLive.aspx.designer.cs">
      <DependentUpon>HnLive.aspx</DependentUpon>
    </Compile>
    <Compile Include="HnStoryRow.ascx.cs">
      <DependentUpon>HnStoryRow.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnStoryRow.ascx.designer.cs">
      <DependentUpon>HnStoryRow.ascx</DependentUpon>
    </Compile>
    <Compile Include="HnUserCard.ascx.cs">
      <DependentUpon>HnUserCard.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="HnUserCard.ascx.designer.cs">
      <DependentUpon>HnUserCard.ascx</DependentUpon>
    </Compile>
    <Compile Include="LibraryStatusWidget.ascx.cs">
      <DependentUpon>LibraryStatusWidget.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="LibraryStatusWidget.ascx.designer.cs">
      <DependentUpon>LibraryStatusWidget.ascx</DependentUpon>
    </Compile>
    <Compile Include="Models\HackerNewsItem.cs" />
    <Compile Include="Models\HackerNewsUser.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Services\HackerNewsService.cs" />
    <Compile Include="Site.Master.cs">
      <DependentUpon>Site.Master</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="Site.Master.designer.cs">
      <DependentUpon>Site.Master</DependentUpon>
    </Compile>
    <Compile Include="ViewSwitcher.ascx.cs">
      <DependentUpon>ViewSwitcher.ascx</DependentUpon>
      <SubType>ASPXCodeBehind</SubType>
    </Compile>
    <Compile Include="ViewSwitcher.ascx.designer.cs">
      <DependentUpon>ViewSwitcher.ascx</DependentUpon>
    </Compile>
  </ItemGroup>
  <ItemGroup>
    <Folder Include="App_Data\" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Content\bootstrap.rtl.min.css.map" />
    <Content Include="Content\bootstrap.rtl.css.map" />
    <Content Include="Content\bootstrap.min.css.map" />
    <Content Include="Content\bootstrap.css.map" />
    <Content Include="Content\bootstrap-utilities.rtl.min.css.map" />
    <Content Include="Content\bootstrap-utilities.rtl.css.map" />
    <Content Include="Content\bootstrap-utilities.min.css.map" />
    <Content Include="Content\bootstrap-utilities.css.map" />
    <Content Include="Content\bootstrap-reboot.rtl.min.css.map" />
    <Content Include="Content\bootstrap-reboot.rtl.css.map" />
    <Content Include="Content\bootstrap-reboot.min.css.map" />
    <Content Include="Content\bootstrap-reboot.css.map" />
    <Content Include="Content\bootstrap-grid.rtl.min.css.map" />
    <Content Include="Content\bootstrap-grid.rtl.css.map" />
    <Content Include="Content\bootstrap-grid.min.css.map" />
    <Content Include="Content\bootstrap-grid.css.map" />
    <None Include="packages.config" />
    <Content Include="Scripts\bootstrap.min.js.map" />
    <Content Include="Scripts\bootstrap.js.map" />
    <Content Include="Scripts\bootstrap.esm.min.js.map" />
    <Content Include="Scripts\bootstrap.esm.js.map" />
    <Content Include="Scripts\bootstrap.bundle.min.js.map" />
    <Content Include="Scripts\bootstrap.bundle.js.map" />
    <Content Include="Scripts\jquery-3.7.1.slim.min.map" />
    <Content Include="Scripts\jquery-3.7.1.min.map" />
    <None Include="Web.Debug.config">
      <DependentUpon>Web.config</DependentUpon>
    </None>
    <None Include="Web.Release.config">
      <DependentUpon>Web.config</DependentUpon>
    </None>
  </ItemGroup>
  <PropertyGroup>
    <VisualStudioVersion Condition="'$(VisualStudioVersion)' == ''">10.0</VisualStudioVersion>
    <VSToolsPath Condition="'$(VSToolsPath)' == ''">$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)</VSToolsPath>
  </PropertyGroup>
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <Import Project="$(VSToolsPath)\WebApplications\Microsoft.WebApplication.targets" Condition="'$(VSToolsPath)' != ''" />
  <Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v10.0\WebApplications\Microsoft.WebApplication.targets" Condition="false" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
       Other similar extension points exist, see Microsoft.Common.targets.
  <Target Name="BeforeBuild">
  </Target>
  <Target Name="AfterBuild">
  </Target>
  -->
  <ProjectExtensions>
    <VisualStudio>
      <FlavorProperties GUID="{349c5851-65df-11da-9384-00065b846f21}">
        <WebProjectProperties>
          <UseIIS>True</UseIIS>
          <AutoAssignPort>True</AutoAssignPort>
          <DevelopmentServerPort>63010</DevelopmentServerPort>
          <DevelopmentServerVPath>/</DevelopmentServerVPath>
          <IISUrl>https://localhost:44309/</IISUrl>
          <NTLMAuthentication>False</NTLMAuthentication>
          <UseCustomServer>False</UseCustomServer>
          <CustomServerUrl>
          </CustomServerUrl>
          <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>
        </WebProjectProperties>
      </FlavorProperties>
    </VisualStudio>
  </ProjectExtensions>
  <Import Project="..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets" Condition="Exists('..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets')" />
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Use NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.4.1.0\build\net472\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.targets'))" />
    <Error Condition="!Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.props'))" />
    <Error Condition="!Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets'))" />
  </Target>
  <Import Project="..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets" Condition="Exists('..\packages\Microsoft.Web.LibraryManager.Build.3.0.71\build\Microsoft.Web.LibraryManager.Build.targets')" />
</Project>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\obj\Release\Package\PackageTmp\Content\Site.css
SIZE: 2.80 KB
MODIFIED: 02/17/2026 15:34:20
================================================================================

/* Wrapping element */
/* Set some basic padding to keep content from hitting the edges */
.body-content {
    margin-top: 15px;
    padding-left: 15px;
    padding-right: 15px;
}

/* Set widths on the form inputs since otherwise they're 100% wide */
input,
select,
textarea {
    max-width: 280px;
}

/* Responsive: Portrait tablets and up */
@media screen and (min-width: 768px) {
    .body-content {
        padding: 0;
    }
}

/* ── Hacker News page ──────────────────────────────────────────────────── */

/* Story row hover */
.hn-story-row:hover {
    background-color: #fffaf5;
}

/* Story title link colour — matches classic HN */
.hn-title {
    color: #000 !important;
}

    .hn-title:hover {
        color: #ff6600 !important;
    }

/* Comment text inherits HN's HTML tags cleanly */
.hn-comment-text p:last-child,
.hn-story-text p:last-child {
    margin-bottom: 0;
}

.hn-comment-text pre,
.hn-story-text pre {
    background: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 4px;
    padding: .5rem;
    font-size: .78rem;
}

/* Depth connector line */
.hn-comment + .hn-comment {
    border-top: 1px solid #f0f0f0;
}

/* User about HTML passthrough */
.hn-user-about a {
    color: #555;
    word-break: break-all;
}

/* Smooth tab transitions */
.nav-link {
    transition: color .15s ease;
}

/* Poll option bar */
.hn-poll-option {
    padding: .4rem 0;
    border-bottom: 1px solid #eee;
    font-size: .85rem;
}

    .hn-poll-option:last-child {
        border-bottom: none;
    }

/* ── (append these rules to the bottom of the existing Site.css) ──────── */

/* ── Home page hero ─────────────────────────────────────────────────────── */

.home-hero {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: .75rem;
}

    .home-hero code {
        background: rgba(0,0,0,.07);
        padding: .1em .35em;
        border-radius: .25em;
        font-size: .88em;
    }

/* ── Learning goals progress bar ─────────────────────────────────────────── */

.progress {
    border-radius: 999px;
    background-color: #e9ecef;
}

/* ── Stack / goal cards ──────────────────────────────────────────────────── */

.card {
    transition: box-shadow .15s ease;
}

    .card:hover {
        box-shadow: 0 .25rem .75rem rgba(0,0,0,.1) !important;
    }




================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\packages.config
SIZE: 1.96 KB
MODIFIED: 02/17/2026 14:35:55
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<packages>
  <package id="Antlr" version="3.5.0.2" targetFramework="net481" />
  <package id="bootstrap" version="5.3.8" targetFramework="net481" />
  <package id="jQuery" version="3.7.1" targetFramework="net481" />
  <package id="Microsoft.AspNet.FriendlyUrls" version="1.0.2" targetFramework="net481" />
  <package id="Microsoft.AspNet.FriendlyUrls.Core" version="1.0.2" targetFramework="net481" />
  <package id="Microsoft.AspNet.ScriptManager.MSAjax" version="5.0.0" targetFramework="net481" />
  <package id="Microsoft.AspNet.ScriptManager.WebForms" version="5.0.0" targetFramework="net481" />
  <package id="Microsoft.AspNet.Web.Optimization" version="1.1.3" targetFramework="net481" />
  <package id="Microsoft.AspNet.Web.Optimization.WebForms" version="1.1.3" targetFramework="net481" />
  <package id="Microsoft.CodeDom.Providers.DotNetCompilerPlatform" version="4.1.0" targetFramework="net481" />
  <package id="Microsoft.Web.Infrastructure" version="2.0.0" targetFramework="net481" />
  <package id="Microsoft.Web.LibraryManager.Build" version="3.0.71" targetFramework="net481" />
  <package id="Modernizr" version="2.8.3" targetFramework="net481" />
  <package id="Newtonsoft.Json" version="13.0.4" targetFramework="net481" />
  <package id="System.IO" version="4.3.0" targetFramework="net481" />
  <package id="System.Net.Http" version="4.3.4" targetFramework="net481" />
  <package id="System.Runtime" version="4.3.1" targetFramework="net481" />
  <package id="System.Security.Cryptography.Algorithms" version="4.3.1" targetFramework="net481" />
  <package id="System.Security.Cryptography.Encoding" version="4.3.0" targetFramework="net481" />
  <package id="System.Security.Cryptography.Primitives" version="4.3.0" targetFramework="net481" />
  <package id="System.Security.Cryptography.X509Certificates" version="4.3.2" targetFramework="net481" />
  <package id="WebGrease" version="1.6.0" targetFramework="net481" />
</packages>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Properties\AssemblyInfo.cs
SIZE: 1.36 KB
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;

// General Information about an assembly is controlled through the following 
// set of attributes. Change these attribute values to modify the information
// associated with an assembly.
[assembly: AssemblyTitle("MyWebForms")]
[assembly: AssemblyDescription("")]
[assembly: AssemblyConfiguration("")]
[assembly: AssemblyCompany("")]
[assembly: AssemblyProduct("MyWebForms")]
[assembly: AssemblyCopyright("Copyright ©  2026")]
[assembly: AssemblyTrademark("")]
[assembly: AssemblyCulture("")]

// Setting ComVisible to false makes the types in this assembly not visible 
// to COM components.  If you need to access a type in this assembly from 
// COM, set the ComVisible attribute to true on that type.
[assembly: ComVisible(false)]

// The following GUID is for the ID of the typelib if this project is exposed to COM
[assembly: Guid("539b1a11-7791-4f27-8b72-2368b1582b54")]

// Version information for an assembly consists of the following four values:
//
//      Major Version
//      Minor Version 
//      Build Number
//      Revision
//
// You can specify all the values or you can default the Revision and Build Numbers 
// by using the '*' as shown below:
[assembly: AssemblyVersion("1.0.0.0")]
[assembly: AssemblyFileVersion("1.0.0.0")]



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Properties\PublishProfiles\site55560-WebDeploy.pubxml
SIZE: 1.15 KB
MODIFIED: 02/17/2026 14:55:39
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<!--
This file is used by the publish/package process of your Web project. You can customize the behavior of this process
by editing this MSBuild file. In order to learn more about this please visit https://go.microsoft.com/fwlink/?LinkID=208121. 
-->
<Project>
  <PropertyGroup>
    <WebPublishMethod>MSDeploy</WebPublishMethod>
    <LastUsedBuildConfiguration>Release</LastUsedBuildConfiguration>
    <LastUsedPlatform>Any CPU</LastUsedPlatform>
    <SiteUrlToLaunchAfterPublish>http://mywebforms.runasp.net/</SiteUrlToLaunchAfterPublish>
    <LaunchSiteAfterPublish>true</LaunchSiteAfterPublish>
    <ExcludeApp_Data>false</ExcludeApp_Data>
    <MSDeployServiceURL>site55560.siteasp.net</MSDeployServiceURL>
    <DeployIisAppPath>site55560</DeployIisAppPath>
    <RemoteSitePhysicalPath />
    <SkipExtraFilesOnServer>true</SkipExtraFilesOnServer>
    <MSDeployPublishMethod>WMSVC</MSDeployPublishMethod>
    <EnableMSDeployBackup>true</EnableMSDeployBackup>
    <EnableMsDeployAppOffline>false</EnableMsDeployAppOffline>
    <UserName>site55560</UserName>
    <_SavePWD>true</_SavePWD>
  </PropertyGroup>
</Project>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Services\HackerNewsService.cs
SIZE: 14.97 KB
MODIFIED: 02/17/2026 18:15:47
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Threading.Tasks;
using System.Web;
using System.Web.Caching;
using MyWebForms.Models;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;

namespace MyWebForms.Services
{
    /// <summary>
    /// Fetches data from the public Hacker News Firebase REST API v0.
    /// All public methods are virtual so they can be overridden in test fakes.
    ///
    /// Threading note: HttpClient is reused as a static instance — this is the
    /// correct pattern for .NET Framework to avoid socket exhaustion.
    ///
    /// Caching note: results are stored in HttpRuntime.Cache (the built-in
    /// ASP.NET object cache) to avoid hammering the API on every postback.
    /// Cache durations are kept short (60 s for lists, 5 min for items)
    /// so the "live" feel is preserved.
    ///
    /// New methods
    /// -----------
    /// GetActiveItemIdsAsync()
    ///   Calls /v0/updates.json which returns { "items": [...], "profiles": [...] }.
    ///   The "items" array contains IDs recently updated on HN — this is what
    ///   https://news.ycombinator.com/active shows.
    ///   Cached for 30 s (short, because "active" is very time-sensitive).
    ///
    /// GetRisingStoryIdsAsync(minComments, minPoints, candidates)
    ///   Fetches the first `candidates` new story IDs, loads those items
    ///   concurrently, then returns only the IDs of stories satisfying:
    ///       (descendants >= minComments) OR (score >= minPoints)
    ///   Cached for 60 s.  The caller passes candidates so the page controls
    ///   the breadth of the search without touching the service.
    /// </summary>
    public class HackerNewsService
    {
        private const string BaseUrl = "https://hacker-news.firebaseio.com/v0/";

        // A single shared HttpClient for the lifetime of the AppDomain.
        private static readonly HttpClient Http = CreateHttpClient();

        private static HttpClient CreateHttpClient()
        {
            var client = new HttpClient();
            client.DefaultRequestHeaders.Add("User-Agent", "MyWebForms-HN-Demo/1.0");
            client.Timeout = TimeSpan.FromSeconds(10);
            return client;
        }

        // ── Story list endpoints ──────────────────────────────────────────────

        public virtual Task<List<int>> GetTopStoryIdsAsync()
            => GetIdListAsync("topstories.json", "hn_top");

        public virtual Task<List<int>> GetNewStoryIdsAsync()
            => GetIdListAsync("newstories.json", "hn_new");

        public virtual Task<List<int>> GetBestStoryIdsAsync()
            => GetIdListAsync("beststories.json", "hn_best");

        public virtual Task<List<int>> GetAskStoryIdsAsync()
            => GetIdListAsync("askstories.json", "hn_ask");

        public virtual Task<List<int>> GetShowStoryIdsAsync()
            => GetIdListAsync("showstories.json", "hn_show");

        public virtual Task<List<int>> GetJobStoryIdsAsync()
            => GetIdListAsync("jobstories.json", "hn_jobs");

        /// <summary>
        /// Returns the list of recently-updated item IDs from /v0/updates.json.
        ///
        /// The HN API's updates endpoint returns a JSON object:
        ///   { "items": [id, id, ...], "profiles": ["user", ...] }
        ///
        /// We extract only the "items" array and cache it for 30 seconds
        /// because "active" is intended to show what's happening right now.
        ///
        /// Educational note — JObject vs a typed DTO:
        ///   We use Newtonsoft's JObject here to parse just the "items" field
        ///   without declaring a full DTO class.  This is fine for a single
        ///   field; if we needed the profiles array too we would add a DTO.
        /// </summary>
        public virtual async Task<List<int>> GetActiveItemIdsAsync()
        {
            const string cacheKey = "hn_active";
            var cached = HttpRuntime.Cache[cacheKey] as List<int>;
            if (cached != null) return cached;

            try
            {
                var json = await Http.GetStringAsync(BaseUrl + "updates.json")
                    .ConfigureAwait(false);

                var obj  = JObject.Parse(json);
                var ids  = obj["items"] != null
                    ? obj["items"].ToObject<List<int>>()
                    : new List<int>();

                HttpRuntime.Cache.Insert(cacheKey, ids, null,
                    DateTime.UtcNow.AddSeconds(30), Cache.NoSlidingExpiration);

                return ids;
            }
            catch
            {
                return new List<int>();
            }
        }

        /// <summary>
        /// Returns IDs from the "new" list that pass a quality threshold.
        ///
        /// Algorithm:
        ///   1. Fetch up to <paramref name="candidates"/> new story IDs.
        ///   2. Fetch those items concurrently (each individually cached for 5 min).
        ///   3. Keep only stories where:
        ///          descendants >= minComments  OR  score >= minPoints
        ///      (either threshold being zero means that criterion is ignored)
        ///   4. Return the filtered IDs in their original order.
        ///
        /// The entire filtered ID list is cached for 60 s under a key that
        /// encodes the thresholds, so different threshold combinations are
        /// independently cached.
        ///
        /// Educational note — why not filter on the server API:
        ///   The HN Firebase API is a thin data-access layer with no server-side
        ///   filtering or sorting beyond the pre-built lists (top/new/best etc.).
        ///   Filtering with quality criteria must be done client-side (i.e., in
        ///   our service layer) by fetching items and inspecting their fields.
        /// </summary>
        public virtual async Task<List<int>> GetRisingStoryIdsAsync(
            int minComments, int minPoints, int candidates = 200)
        {
            // Build a cache key that encodes the thresholds so that changing
            // the thresholds always produces a fresh result.
            var cacheKey = string.Format("hn_rising_{0}_{1}_{2}",
                minComments, minPoints, candidates);

            var cached = HttpRuntime.Cache[cacheKey] as List<int>;
            if (cached != null) return cached;

            try
            {
                // Step 1: get the raw new-story ID list.
                var allNewIds = await GetNewStoryIdsAsync().ConfigureAwait(false);
                var slice     = allNewIds.Take(candidates).ToList();

                // Step 2: fetch items concurrently.
                var tasks   = slice.Select(id => GetItemAsync(id));
                var results = await Task.WhenAll(tasks).ConfigureAwait(false);

                // Step 3: filter.
                var filtered = new List<int>();
                foreach (var item in results)
                {
                    if (item == null || item.Deleted || item.Dead) continue;

                    bool passComments = minComments > 0 && item.Descendants >= minComments;
                    bool passPoints   = minPoints   > 0 && item.Score       >= minPoints;

                    // If both thresholds are zero, admit everything (same as /new).
                    if (minComments == 0 && minPoints == 0)
                    {
                        filtered.Add(item.Id);
                    }
                    else if (passComments || passPoints)
                    {
                        filtered.Add(item.Id);
                    }
                }

                // Preserve original relative order (newest first, as returned
                // by /newstories.json).
                var idOrder = new Dictionary<int, int>();
                for (int i = 0; i < slice.Count; i++) idOrder[slice[i]] = i;
                filtered.Sort(delegate(int a, int b)
                {
                    int ia, ib;
                    idOrder.TryGetValue(a, out ia);
                    idOrder.TryGetValue(b, out ib);
                    return ia.CompareTo(ib);
                });

                HttpRuntime.Cache.Insert(cacheKey, filtered, null,
                    DateTime.UtcNow.AddSeconds(60), Cache.NoSlidingExpiration);

                return filtered;
            }
            catch
            {
                return new List<int>();
            }
        }

        // ── Item and user fetching ────────────────────────────────────────────

        /// <summary>
        /// Fetches a single item by ID. Results are cached for 5 minutes.
        /// Returns null if the item cannot be fetched (deleted, network error, etc.).
        /// </summary>
        public virtual async Task<HackerNewsItem> GetItemAsync(int id)
        {
            var cacheKey = "hn_item_" + id;
            var cached   = HttpRuntime.Cache[cacheKey] as HackerNewsItem;
            if (cached != null) return cached;

            try
            {
                var url  = BaseUrl + "item/" + id + ".json";
                var json = await Http.GetStringAsync(url).ConfigureAwait(false);
                var item = JsonConvert.DeserializeObject<HackerNewsItem>(json);
                if (item != null)
                {
                    HttpRuntime.Cache.Insert(cacheKey, item, null,
                        DateTime.UtcNow.AddMinutes(5), Cache.NoSlidingExpiration);
                }
                return item;
            }
            catch
            {
                return null;
            }
        }

        /// <summary>
        /// Fetches a user profile by username.
        /// Returns null if the user is not found or there is a network error.
        /// </summary>
        public virtual async Task<HackerNewsUser> GetUserAsync(string username)
        {
            if (string.IsNullOrEmpty(username)) return null;

            var cacheKey = "hn_user_" + username;
            var cached   = HttpRuntime.Cache[cacheKey] as HackerNewsUser;
            if (cached != null) return cached;

            try
            {
                var url  = BaseUrl + "user/" + HttpUtility.UrlEncode(username) + ".json";
                var json = await Http.GetStringAsync(url).ConfigureAwait(false);
                var user = JsonConvert.DeserializeObject<HackerNewsUser>(json);
                if (user != null)
                {
                    HttpRuntime.Cache.Insert(cacheKey, user, null,
                        DateTime.UtcNow.AddMinutes(10), Cache.NoSlidingExpiration);
                }
                return user;
            }
            catch
            {
                return null;
            }
        }

        /// <summary>
        /// Fetches the current maximum item ID.
        /// Cached for 30 seconds — used by the live-feed page and by background
        /// polling to detect new items.
        /// </summary>
        public virtual async Task<int> GetMaxItemIdAsync()
        {
            const string cacheKey = "hn_maxitem";
            var cached = HttpRuntime.Cache[cacheKey];
            if (cached != null) return (int)cached;

            try
            {
                var json = await Http.GetStringAsync(BaseUrl + "maxitem.json")
                    .ConfigureAwait(false);
                var id = JsonConvert.DeserializeObject<int>(json);
                HttpRuntime.Cache.Insert(cacheKey, id, null,
                    DateTime.UtcNow.AddSeconds(30), Cache.NoSlidingExpiration);
                return id;
            }
            catch
            {
                return 0;
            }
        }

        /// <summary>
        /// Fetches a page of story items from a list of IDs.
        /// Items that fail to load (deleted, network error) are silently skipped.
        /// </summary>
        public virtual async Task<List<HackerNewsItem>> GetItemPageAsync(
            List<int> ids, int page, int pageSize)
        {
            if (ids == null || ids.Count == 0) return new List<HackerNewsItem>();

            page = Math.Max(1, page);
            var slice = ids
                .Skip((page - 1) * pageSize)
                .Take(pageSize)
                .ToList();

            var tasks   = slice.Select(id => GetItemAsync(id));
            var results = await Task.WhenAll(tasks).ConfigureAwait(false);

            return results
                .Where(item => item != null && !item.Deleted && !item.Dead)
                .ToList();
        }

        /// <summary>
        /// Recursively fetches the comment tree for an item up to a given depth.
        /// Depth 0 = top-level comments only.  Each comment's Kids are loaded
        /// one level deeper up to maxDepth.
        /// </summary>
        public virtual async Task<List<HackerNewsItem>> GetCommentTreeAsync(
            HackerNewsItem parent, int maxDepth = 3)
        {
            if (parent == null || parent.Kids == null || parent.Kids.Count == 0)
                return new List<HackerNewsItem>();

            return await FetchCommentsAsync(parent.Kids, 0, maxDepth)
                .ConfigureAwait(false);
        }

        // ── Private helpers ──────────────────────────────────────────────────

        private async Task<List<int>> GetIdListAsync(string endpoint, string cacheKey)
        {
            var cached = HttpRuntime.Cache[cacheKey] as List<int>;
            if (cached != null) return cached;

            try
            {
                var json = await Http.GetStringAsync(BaseUrl + endpoint)
                    .ConfigureAwait(false);
                var ids = JsonConvert.DeserializeObject<List<int>>(json)
                          ?? new List<int>();

                HttpRuntime.Cache.Insert(cacheKey, ids, null,
                    DateTime.UtcNow.AddSeconds(60), Cache.NoSlidingExpiration);
                return ids;
            }
            catch
            {
                return new List<int>();
            }
        }

        private async Task<List<HackerNewsItem>> FetchCommentsAsync(
            List<int> kidIds, int currentDepth, int maxDepth)
        {
            var comments = new List<HackerNewsItem>();

            var tasks = kidIds.Select(id => GetItemAsync(id));
            var items = await Task.WhenAll(tasks).ConfigureAwait(false);

            foreach (var comment in items)
            {
                if (comment == null || comment.Deleted || comment.Dead) continue;
                comments.Add(comment);

                if (currentDepth < maxDepth
                    && comment.Kids != null
                    && comment.Kids.Count > 0)
                {
                    comment.Kids = comment.Kids.Take(10).ToList();
                    var children = await FetchCommentsAsync(
                        comment.Kids, currentDepth + 1, maxDepth)
                        .ConfigureAwait(false);
                    comments.AddRange(children);
                }
            }

            return comments;
        }
    }
}



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Site.Master
SIZE: 7.38 KB
MODIFIED: 02/19/2026 08:53:43
================================================================================

<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Site.Master.cs" Inherits="MyWebForms.SiteMaster" %>
<%@ Register Src="~/ViewSwitcher.ascx" TagPrefix="uc" TagName="ViewSwitcher" %>

<!DOCTYPE html>
<html lang="en">
<head runat="server">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%: Page.Title %> - MyWebForms</title>

    <webopt:BundleReference runat="server" Path="~/Content/css" />

    <asp:ContentPlaceHolder ID="HeadContent" runat="server">
    </asp:ContentPlaceHolder>
</head>
<body>
    <form runat="server">

        <%-- ═══════════════════════════════════════════════════════════════════
             ScriptManager — owns all MS Ajax and framework script delivery.

             Each Name="..." attribute is resolved via ScriptResourceMapping
             (registered in BundleConfig.RegisterScriptManagerMappings).
             Without those mappings ScriptManager falls back to the embedded
             web resources in System.Web and throws:
               "Assembly does not contain a Web resource with name '...'"
             ═══════════════════════════════════════════════════════════════════ --%>
        <asp:ScriptManager runat="server">
            <Scripts>
                <asp:ScriptReference Name="MsAjaxBundle" />
                <asp:ScriptReference Name="jquery" />
                <asp:ScriptReference Name="WebForms" />
            </Scripts>
        </asp:ScriptManager>

        <nav class="navbar navbar-expand-sm navbar-dark bg-dark border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" runat="server" href="~/">MyWebForms</a>
                <%--
                    FIX 1 — Hamburger menu:
                    Bootstrap 5's Collapse plugin toggles a "show" class on the
                    target element to reveal it (display:block).  The previous markup
                    had  d-sm-inline-flex  on the collapse div, which forces
                    display:inline-flex at ≥576 px via Bootstrap's utility classes
                    and is NOT removed by the Collapse plugin — so the menu appeared
                    stuck open / not responding on narrow screens.

                    The correct pattern (Bootstrap 5 docs):
                      • The toggler uses   data-bs-target="#navbarCollapse"   (ID selector).
                      • The collapse div has ONLY  class="collapse navbar-collapse".
                      • Bootstrap's own CSS shows it as a flex row at ≥ the breakpoint
                        via the  .navbar-expand-sm .navbar-collapse  rule — no manual
                        d-sm-* utility needed.
                    --%>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse"
                        data-bs-target="#navbarCollapse"
                        aria-controls="navbarCollapse"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/">Home</a></li>
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/About">About</a></li>
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/Contact">Contact</a></li>
                        <li class="nav-item"><a class="nav-link" runat="server" href="~/HackerNews">Hacker News</a></li>
                        <li class="nav-item">
                            <a class="nav-link" runat="server" href="~/HnLive">
                                HN Live <span class="badge bg-success ms-1" style="font-size:.6rem;vertical-align:middle;">◉</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <%-- Global postback loading overlay.
             Shown by hn-loading.js whenever a server postback is in-flight.
             Sits at the top of the body so it is always available. --%>
        <div id="hnPostbackOverlay" style="display:none;position:fixed;inset:0;
             background:rgba(0,0,0,.25);z-index:9999;
             display:none;align-items:center;justify-content:center;">
            <div style="background:#fff;border-radius:8px;padding:1.5rem 2.5rem;
                        box-shadow:0 4px 24px rgba(0,0,0,.2);text-align:center;">
                <div class="spinner-border text-warning" role="status">
                    <span class="visually-hidden">Loading…</span>
                </div>
                <p class="mt-2 mb-0 small text-muted">Loading…</p>
            </div>
        </div>

        <div class="container body-content">
            <asp:ContentPlaceHolder ID="MainContent" runat="server">
            </asp:ContentPlaceHolder>
            <hr />
            <footer>
                <p>&copy; <%: DateTime.Now.Year %> - My ASP.NET Application</p>
            </footer>
        </div>

    </form>

    <%-- Bootstrap and Chart.js are loaded after </form> so they don't
         interfere with ScriptManager's script registration above.
         Bootstrap's JS bundle (bootstrap.bundle.min.js) includes Popper —
         no separate Popper import is needed. --%>
    <script src="<%: ResolveUrl("~/Scripts/bootstrap.bundle.min.js") %>"></script>
    <script src="<%: ResolveUrl("~/Scripts/lib/chartjs/chart.umd.js") %>"></script>

    <%-- Postback loading overlay — wires up once Bootstrap is loaded --%>
    <script>
    (function () {
        var overlay = document.getElementById('hnPostbackOverlay');
        if (!overlay) return;

        // Show overlay on any full-page postback trigger (LinkButton, Button, etc.)
        // that has the data-hn-loading attribute OR is inside a .hn-loading-trigger
        // container.  We also listen for Sys.WebForms partial-page requests so
        // the overlay covers UpdatePanel async postbacks too.
        function showOverlay() {
            overlay.style.display = 'flex';
        }
        function hideOverlay() {
            overlay.style.display = 'none';
        }

        // MS Ajax partial-page requests
        if (typeof Sys !== 'undefined' && Sys.WebForms && Sys.WebForms.PageRequestManager) {
            var prm = Sys.WebForms.PageRequestManager.getInstance();
            prm.add_beginRequest(showOverlay);
            prm.add_endRequest(hideOverlay);
        }

        // Full-page postbacks triggered by .hn-postback-link buttons
        document.addEventListener('click', function (e) {
            var t = e.target;
            while (t && t !== document) {
                if (t.classList && t.classList.contains('hn-postback-link')) {
                    showOverlay();
                    break;
                }
                t = t.parentNode;
            }
        });

        // Hide on page show (e.g. browser back-button bfcache restore)
        window.addEventListener('pageshow', hideOverlay);
    }());
    </script>

</body>
</html>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Site.Master.cs
SIZE: 326 B
MODIFIED: 02/17/2026 12:40:44
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace MyWebForms
{
    public partial class SiteMaster : MasterPage
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ViewSwitcher.ascx
SIZE: 264 B
MODIFIED: 02/17/2026 12:40:50
================================================================================

<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="ViewSwitcher.ascx.cs" Inherits="MyWebForms.ViewSwitcher" %>
<div id="viewSwitcher">
    <%: CurrentView %> view | <a href="<%: SwitchUrl %>" data-ajax="false">Switch to <%: AlternateView %></a>
</div>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\ViewSwitcher.ascx.cs
SIZE: 1.59 KB
MODIFIED: 02/17/2026 12:40:50
================================================================================

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Routing;
using System.Web.UI;
using System.Web.UI.WebControls;
using Microsoft.AspNet.FriendlyUrls.Resolvers;

namespace MyWebForms
{
    public partial class ViewSwitcher : System.Web.UI.UserControl
    {
        protected string CurrentView { get; private set; }

        protected string AlternateView { get; private set; }

        protected string SwitchUrl { get; private set; }

        protected void Page_Load(object sender, EventArgs e)
        {
            // Determine current view
            var isMobile = WebFormsFriendlyUrlResolver.IsMobileView(new HttpContextWrapper(Context));
            CurrentView = isMobile ? "Mobile" : "Desktop";

            // Determine alternate view
            AlternateView = isMobile ? "Desktop" : "Mobile";

            // Create switch URL from the route, e.g. ~/__FriendlyUrls_SwitchView/Mobile?ReturnUrl=/Page
            var switchViewRouteName = "AspNet.FriendlyUrls.SwitchView";
            var switchViewRoute = RouteTable.Routes[switchViewRouteName];
            if (switchViewRoute == null)
            {
                // Friendly URLs is not enabled or the name of the switch view route is out of sync
                this.Visible = false;
                return;
            }
            var url = GetRouteUrl(switchViewRouteName, new { view = AlternateView, __FriendlyUrls_SwitchViews = true });
            url += "?ReturnUrl=" + HttpUtility.UrlEncode(Request.RawUrl);
            SwitchUrl = url;
        }
    }
}


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Web.config
SIZE: 4.84 KB
MODIFIED: 02/23/2026 10:35:37
================================================================================

<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  https://go.microsoft.com/fwlink/?LinkId=169433
-->
<configuration>
	<system.web>
		<compilation debug="true" targetFramework="4.8.1" />
		<httpRuntime targetFramework="4.8.1" />

		<!--
      machineKey — explicit keys for ViewState MAC validation.

      Educational note:
        By default ASP.NET auto-generates the machine key per application instance.
        This works fine on a single server with a single worker process, but breaks
        in web-farm / shared-hosting / multi-instance scenarios (like runasp.net)
        where different instances generate different keys.  When a form posts back
        to a different instance than the one that rendered it, the __VIEWSTATE MAC
        check fails with "Validation of viewstate MAC failed".

        Fix: supply a fixed validationKey and decryptionKey so all instances agree.
        Generate your own keys via PowerShell:

          $vk = -join ((1..64) | ForEach-Object { '{0:X2}' -f (Get-Random -Max 256) })
          $dk = -join ((1..48) | ForEach-Object { '{0:X2}' -f (Get-Random -Max 256) })
          Write-Host "validationKey=$vk"
          Write-Host "decryptionKey=$dk"

        IMPORTANT: These are placeholder keys suitable for a learning sandbox.
        For any real application, generate unique keys and keep them secret.
    -->
		<machineKey
		  validationKey="A7D2B3F8C1E4D6A9B0F2E5C8D1A4B7F0E3C6D9A2B5F8C1D4A7E0B3F6C9D2A5E8B1F4C7D0A3E6B9F2C5D8A1B4F7C0D3"
		  decryptionKey="E1A4B7F0C3D6A9E2B5F8C1D4A7E0B3F6C9D2A5E8B1F4C7D0"
		  validation="HMACSHA256"
		  decryption="AES" />

		<!--
      globalization — ensure all responses are served as UTF-8.

      Educational note:
        Without an explicit responseEncoding, ASP.NET may fall back to the
        system default (often Windows-1252 on Western-locale servers).  When
        the .aspx file contains multi-byte UTF-8 characters (emoji, em-dashes,
        special symbols) but the response header says the charset is something
        else, the browser misinterprets the bytes — producing "mojibake".
    -->
		<globalization requestEncoding="utf-8" responseEncoding="utf-8" />

		<pages>
			<namespaces>
				<add namespace="System.Web.Optimization" />
			</namespaces>
			<controls>
				<add assembly="Microsoft.AspNet.Web.Optimization.WebForms" namespace="Microsoft.AspNet.Web.Optimization.WebForms" tagPrefix="webopt" />
			</controls>
		</pages>
	</system.web>

	<!--
    CRITICAL: The <runtime> section contains assembly binding redirects.
    Without these, the CLR cannot resolve version mismatches between the
    assemblies referenced by NuGet packages and the actual DLLs in /bin.

    The Microsoft.Web.Infrastructure redirect is especially important:
    System.Web.Optimization (the bundling library) references v1.0.0.0,
    but the NuGet package installs v2.0.0.0.  The binding redirect tells
    the CLR "when anyone asks for any version up to 2.0.0.0, give them
    the 2.0.0.0 DLL from /bin".  Without this redirect, the app crashes
    at startup with a FileLoadException / assembly mismatch error.
  -->
	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="Antlr3.Runtime" publicKeyToken="eb42632606e9261f" />
				<bindingRedirect oldVersion="0.0.0.0-3.5.0.2" newVersion="3.5.0.2" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Microsoft.Web.Infrastructure" publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="0.0.0.0-2.0.0.0" newVersion="2.0.0.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" />
				<bindingRedirect oldVersion="0.0.0.0-13.0.0.0" newVersion="13.0.0.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="0.0.0.0-1.6.5135.21930" newVersion="1.6.5135.21930" />
			</dependentAssembly>
		</assemblyBinding>
	</runtime>

	<system.codedom>
		<compilers>
			<compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" compilerOptions="/langversion:default /nowarn:1659;1699;1701;612;618" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
			<compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" warningLevel="4" compilerOptions="/langversion:default /nowarn:41008,40000,40008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=4.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
		</compilers>
	</system.codedom>
</configuration>



================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Web.Debug.config
SIZE: 1.27 KB
MODIFIED: 02/17/2026 12:40:45
================================================================================

<?xml version="1.0" encoding="utf-8"?>

<!-- For more information on using web.config transformation visit https://go.microsoft.com/fwlink/?LinkId=125889 -->

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <!--
    In the example below, the "SetAttributes" transform will change the value of 
    "connectionString" to use "ReleaseSQLServer" only when the "Match" locator 
    finds an attribute "name" that has a value of "MyDB".
    
    <connectionStrings>
      <add name="MyDB" 
        connectionString="Data Source=ReleaseSQLServer;Initial Catalog=MyReleaseDB;Integrated Security=True" 
        xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
    </connectionStrings>
  -->
  <system.web>
    <!--
      In the example below, the "Replace" transform will replace the entire 
      <customErrors> section of your web.config file.
      Note that because there is only one customErrors section under the 
      <system.web> node, there is no need to use the "xdt:Locator" attribute.
      
      <customErrors defaultRedirect="GenericError.htm"
        mode="RemoteOnly" xdt:Transform="Replace">
        <error statusCode="500" redirect="InternalError.htm"/>
      </customErrors>
    -->
  </system.web>
</configuration>


================================================================================
FILE: D:\DEV\personal\MyWebForms\MyWebForms\Web.Release.config
SIZE: 287 B
MODIFIED: 02/20/2026 11:01:45
================================================================================

<?xml version="1.0" encoding="utf-8"?>

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
	<system.web>
		<compilation xdt:Transform="RemoveAttributes(debug)" />

		<customErrors mode="Off" xdt:Transform="Insert" />

	</system.web>
</configuration>


===============================================================================
END OF EXPORT — 44 files, 195.29 KB total
===============================================================================
